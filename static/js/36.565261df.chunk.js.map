{"version":3,"sources":["components/Card/index.js","pages/CreateProposal/index.js"],"names":["Header","Card","Body","CustomCard","styled","theme","modalBG","text1","margin","marginBottom","marginTop","text4","RCard","CustomHeader","text3","isTable","CustomBody","CustomTitle","h4","ResponsiveCard","props","header","title","children","body","Comp","StyledResponsiveCard","div","Title","h2","FormRow","Form","Row","FormGroup","Group","FormLabel","Label","FormControl","Control","bg2","CreateProposals","useActiveWeb3React","account","library","api","Governance","toggleWalletModal","useWalletModalToggle","dispatch","useDispatch","spaces","useSelector","state","governance","t","useTranslation","useState","loading","setLoading","name","choices","snapshot","dateRange","from","to","metadata","form","setForm","id","match","params","space","handleChange","key","value","isValid","date","start","moment","year","month","day","format","end","length","some","a","handleSubmit","e","preventDefault","payload","strategies","options","token","type","msg","address","JSON","stringify","version","timestamp","Date","now","toFixed","toast","icon","getSigner","signMessage","sig","sendMessage","res","success","hasOwnProperty","history","push","error","useEffect","Object","keys","fetchSpaces","blockNumber","hasBg","xs","className","as","Col","rows","placeholder","onChange","target","md","lg","wrapperClassName","colorPrimary","colorPrimaryLight","renderInput","ref","shouldHighlightWeekends","map","item","index","newChoices","onClick","concat","width","height","viewBox","fill","xmlns","fillRule","d","style","minWidth","active","color"],"mappings":"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","file":"static/js/36.565261df.chunk.js","sourcesContent":["import { Card } from \"react-bootstrap\";\nimport styled from \"styled-components\";\n\nconst { Header, Body } = Card;\n\nexport const CustomCard = styled(Card)`\n\tbackground-color: ${({ theme }) => theme.modalBG};\n\tcolor: ${({ theme }) => theme.text1};\n\tmargin-bottom: ${({ margin, marginBottom }) =>\n\t\tmarginBottom ? `${marginBottom}px` : margin ? `${margin}px` : \"20px\"};\n\tmargin-top: ${({ margin, marginTop }) => (marginTop ? `${marginTop}px` : margin ? `${margin}px` : \"0\")};\n\tborder-radius: 18px;\n\tborder: 1px solid ${({ theme }) => theme.text4};\n`;\n\nexport const RCard = styled(CustomCard)`\n\t@media (max-width: 767px) {\n\t\tmargin-left: -30px;\n\t\tmargin-right: -30px;\n\t\tborder-radius: 0;\n\n\t\t.card-body {\n\t\t\tpadding-left: 30px;\n\t\t\tpadding-right: 30px;\n\t\t}\n\t}\n`;\n\nexport const CustomHeader = styled(Header)`\n\tborder-bottom-color: ${({ theme }) => theme.text3};\n\tbackground-color: transparent;\n\tpadding: 20px;\n\n\t@media (min-width: 768px) {\n\t\tpadding: ${({ isTable }) => (isTable ? \"30px 60px\" : \"30px\")};\n\t}\n`;\n\nexport const CustomBody = styled(Body)`\n\tpadding: 20px;\n\tbackground-color: transparent;\n\n\t@media (min-width: 768px) {\n\t\tpadding: ${({ isTable }) => (isTable ? \"18px 48px\" : \"30px\")};\n\t}\n`;\n\nexport const CustomTitle = styled.h4`\n\tmargin: 0;\n\tfont-weight: bold;\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-size: 1.25rem;\n`;\n\nconst Comp = (props) => {\n\treturn (\n\t\t<CustomCard {...props}>\n\t\t\t{props.header && (\n\t\t\t\t<CustomHeader isTable={props.isTable}>\n\t\t\t\t\t{props.title && <CustomTitle>{props.title}</CustomTitle>}\n\t\t\t\t\t{props.header}\n\t\t\t\t</CustomHeader>\n\t\t\t)}\n\t\t\t<CustomBody isTable={props.isTable}>{props.children || props.body}</CustomBody>\n\t\t</CustomCard>\n\t);\n};\nexport const ResponsiveCard = (props) => {\n\treturn (\n\t\t<RCard {...props}>\n\t\t\t{props.header && (\n\t\t\t\t<CustomHeader isTable={props.isTable}>\n\t\t\t\t\t{props.title && <CustomTitle>{props.title}</CustomTitle>}\n\t\t\t\t\t{props.header}\n\t\t\t\t</CustomHeader>\n\t\t\t)}\n\t\t\t<CustomBody isTable={props.isTable}>{props.children || props.body}</CustomBody>\n\t\t</RCard>\n\t);\n};\n\nexport default Comp;\n","import React, { useEffect, useState } from \"react\";\nimport { Row, Col, Form, Spinner } from \"react-bootstrap\";\nimport DatePicker from \"react-modern-calendar-datepicker\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport styled from \"styled-components\";\nimport moment from \"moment\";\nimport \"react-modern-calendar-datepicker/lib/DatePicker.css\";\n\nimport { ResponsiveCard } from \"../../components/Card\";\nimport { fetchSpaces } from \"../../state/governance/actions\";\nimport { useActiveWeb3React } from \"../../hooks\";\nimport Governance from \"../../http/governance\";\nimport Page from \"../../components/Page\";\nimport \"./style.scss\";\nimport Loading from \"../../components/Loading\";\nimport { toast } from \"react-hot-toast\";\nimport { useWalletModalToggle } from \"../../state/application/hooks\";\nimport { useTranslation } from \"react-i18next\";\n\nconst StyledResponsiveCard = styled(ResponsiveCard)`\n\tborder: none;\n\tmargin-top: -70px;\n\n\t@media (min-width: 768px) {\n\t\tmargin-top: -30px;\n\t}\n`;\n\nconst Header = styled.div`\n\tpadding: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tmargin-bottom: 40px;\n\tmargin-top: 10px;\n\tborder: none;\n\tbackground-color: transparent;\n`;\n\nconst Title = styled.h2`\n\tfont-size: 1.25rem;\n\tfont-weight: 700;\n\tcolor: ${({ theme }) => theme.text1};\n\tmargin: 0;\n`;\n\nconst FormRow = styled(Form.Row)``;\n\nconst FormGroup = styled(Form.Group)`\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin-bottom: 30px;\n`;\n\nconst FormLabel = styled(Form.Label)`\n\tfont-size: 0.875rem;\n\tfont-weight: 500;\n\tmargin-bottom: 15px;\n\n\t@media (min-width: 768px) {\n\t\tfont-size: 1rem;\n\t}\n`;\n\nconst FormControl = styled(Form.Control)`\n\tborder-radius: 18px;\n\tbackground-color: ${({ theme }) => theme.bg2};\n\tmin-height: 56px;\n\tpadding: 18px 20px;\n\tcolor: ${({ theme }) => theme.text1};\n\tresize: none;\n\tborder: none;\n\tfont-weight: 400;\n\tfont-size: 0.875rem;\n\n\t@media (min-width: 768px) {\n\t\tfont-size: 1rem;\n\t}\n\n\t::placeholder {\n\t\tcolor: ${({ theme }) => theme.text4};\n\t}\n\n\t&:focus,\n\t&:active {\n\t\toutline: none;\n\t\tbackground-color: ${({ theme }) => theme.bg2};\n\t}\n`;\n\nconst CreateProposals = (props) => {\n\tconst { account, library } = useActiveWeb3React();\n\tconst api = new Governance();\n\n\tconst toggleWalletModal = useWalletModalToggle();\n\tconst dispatch = useDispatch();\n\tconst { spaces } = useSelector((state) => state.governance);\n\tconst { t } = useTranslation();\n\n\tconst [loading, setLoading] = useState(false);\n\tconst [form, setForm] = useState({\n\t\tname: \"\",\n\t\tbody: \"\",\n\t\tchoices: [\"\", \"\"],\n\t\tsnapshot: [],\n\t\tdateRange: {\n\t\t\tfrom: null,\n\t\t\tto: null,\n\t\t},\n\t\tmetadata: {},\n\t});\n\n\tlet id = props.match.params.space;\n\n\tconst handleChange = (key, value) => {\n\t\tsetForm((form) => {\n\t\t\treturn {\n\t\t\t\t...form,\n\t\t\t\t[key]: value,\n\t\t\t};\n\t\t});\n\t};\n\n\tconst isValid = () => {\n\t\tconst date = {\n\t\t\tstart: moment(`${form.dateRange.from.year}-${form.dateRange.from.month}-${form.dateRange.from.day}`).format(\n\t\t\t\t\"X\"\n\t\t\t),\n\t\t\tend: moment(`${form.dateRange.to.year}-${form.dateRange.to.month}-${form.dateRange.to.day}`).format(\"X\"),\n\t\t};\n\t\treturn (\n\t\t\t!loading &&\n\t\t\taccount &&\n\t\t\tform.name &&\n\t\t\tform.body &&\n\t\t\tdate.start &&\n\t\t\tdate.end &&\n\t\t\tdate.end > date.start &&\n\t\t\tform.snapshot &&\n\t\t\tform.choices.length >= 2 &&\n\t\t\t!form.choices.some((a) => a === \"\")\n\t\t);\n\t};\n\n\tconst handleSubmit = async (e) => {\n\t\te.preventDefault();\n\t\tif (!account) {\n\t\t\ttoggleWalletModal();\n\t\t\treturn false;\n\t\t}\n\t\tif (isValid()) {\n\t\t\tsetLoading(true);\n\t\t\tconst payload = {\n\t\t\t\tname: form.name,\n\t\t\t\tbody: form.body,\n\t\t\t\tsnapshot: form.snapshot,\n\t\t\t\tchoices: form.choices,\n\t\t\t\tstart: moment(\n\t\t\t\t\t`${form.dateRange.from.year}-${form.dateRange.from.month}-${form.dateRange.from.day}`\n\t\t\t\t).format(\"X\"),\n\t\t\t\tend: moment(`${form.dateRange.to.year}-${form.dateRange.to.month}-${form.dateRange.to.day}`).format(\n\t\t\t\t\t\"X\"\n\t\t\t\t),\n\t\t\t\tmetadata: {\n\t\t\t\t\t...form.metadata,\n\t\t\t\t\tstrategies: spaces[id].strategies,\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst options = {\n\t\t\t\ttoken: spaces[id].token,\n\t\t\t\ttype: \"proposal\",\n\t\t\t\tspace: id,\n\t\t\t\tpayload,\n\t\t\t};\n\t\t\tconst msg = {\n\t\t\t\taddress: account,\n\t\t\t\tmsg: JSON.stringify({\n\t\t\t\t\tversion: \"0.1.3\",\n\t\t\t\t\ttimestamp: (Date.now() / 1e3).toFixed(),\n\t\t\t\t\t...options,\n\t\t\t\t}),\n\t\t\t};\n\n\t\t\ttry {\n\t\t\t\ttoast(\"Sending ...\", {\n\t\t\t\t\ticon: \"💡\",\n\t\t\t\t});\n\t\t\t\tmsg.sig = await library.getSigner(account).signMessage(msg.msg);\n\t\t\t\tconst res = await api.sendMessage(msg);\n\t\t\t\tsetLoading(false);\n\t\t\t\ttoast.success(\"Your Proposal is in!\");\n\t\t\t\tif (res.hasOwnProperty(\"ipfsHash\")) {\n\t\t\t\t\tprops.history.push(`/tools/governance/${id}`);\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\ttoast.error(\"Something went wrong!\");\n\t\t\t\tsetLoading(false);\n\t\t\t}\n\t\t} else {\n\t\t\ttoast.error(\"Please fill all Fields and your proposal choices should be more than 1\");\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (Object.keys(spaces).length === 0) {\n\t\t\tdispatch(fetchSpaces());\n\t\t} else {\n\t\t\tif (!spaces.hasOwnProperty(id)) {\n\t\t\t\tprops.history.push(\"/tools/governance\");\n\t\t\t}\n\t\t}\n\t}, [spaces, id, dispatch, props.history]);\n\n\tuseEffect(() => {\n\t\thandleChange(\"snapshot\", library.blockNumber);\n\t}, [library.blockNumber]);\n\n\tconst StartDayPicker = ({ ref }) => (\n\t\t<FormControl\n\t\t\tref={ref} // necessary\n\t\t\tplaceholder={\"Select a Date\"}\n\t\t\tvalue={\n\t\t\t\tform.dateRange.from\n\t\t\t\t\t? `${form.dateRange.from.year}/${form.dateRange.from.month}/${form.dateRange.from.day}`\n\t\t\t\t\t: \"\"\n\t\t\t}\n\t\t/>\n\t);\n\n\tconst EndDayPicker = ({ ref }) => (\n\t\t<FormControl\n\t\t\tref={ref} // necessary\n\t\t\tplaceholder={\"Select a Date\"}\n\t\t\tvalue={\n\t\t\t\tform.dateRange.to ? `${form.dateRange.to.year}/${form.dateRange.to.month}/${form.dateRange.to.day}` : \"\"\n\t\t\t}\n\t\t/>\n\t);\n\n\treturn (\n\t\t<Page title={t(\"governance.title\")} hasBg>\n\t\t\t<Row>\n\t\t\t\t<Col xs={12}>\n\t\t\t\t\t<StyledResponsiveCard marginBottom={0}>\n\t\t\t\t\t\t<Header>\n\t\t\t\t\t\t\t<Title className=\"card-title\">{t(\"governance.createProposal\")}</Title>\n\t\t\t\t\t\t</Header>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t\t<FormRow className={\"custom-row\"}>\n\t\t\t\t\t\t\t\t\t<FormGroup as={Col} xs={12}>\n\t\t\t\t\t\t\t\t\t\t<FormLabel>{t(\"governance.question\")}</FormLabel>\n\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\tas={\"textarea\"}\n\t\t\t\t\t\t\t\t\t\t\trows={\"5\"}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Question\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={form.name}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => handleChange(\"name\", e.target.value)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t\t\t<FormGroup as={Col} xs={12}>\n\t\t\t\t\t\t\t\t\t\t<FormLabel>{t(\"governance.whatIsYourProposal\")}</FormLabel>\n\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\tas={\"textarea\"}\n\t\t\t\t\t\t\t\t\t\t\trows={\"5\"}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t(\"governance.whatIsYourProposal\")}\n\t\t\t\t\t\t\t\t\t\t\tvalue={form.body}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => handleChange(\"body\", e.target.value)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t\t\t<Col xs={12}>\n\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t<FormGroup as={Col} xs={12} md={12} lg={4}>\n\t\t\t\t\t\t\t\t\t\t\t\t<FormLabel>Snapshot</FormLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Snapshot\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={form.snapshot}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => handleChange(\"snapshot\", e.target.value)}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t\t\t\t\t<Col xs={12} md={6} lg={8}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormGroup as={Col} xs={12} md={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormLabel>{t(\"startDate\")}</FormLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twrapperClassName={\"d-flex\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={form.dateRange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => handleChange(\"dateRange\", e)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolorPrimary=\"#87dce1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolorPrimaryLight=\"rgba(135, 220, 225, 0.2)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trenderInput={StartDayPicker}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshouldHighlightWeekends\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormGroup>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormGroup as={Col} xs={12} md={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormLabel>{t(\"endDate\")}</FormLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twrapperClassName={\"d-flex\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={form.dateRange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => handleChange(\"dateRange\", e)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolorPrimary=\"#87dce1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolorPrimaryLight=\"rgba(135, 220, 225, 0.2)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trenderInput={EndDayPicker}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshouldHighlightWeekends\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t</Col>\n\n\t\t\t\t\t\t\t\t\t<FormGroup as={Col} xs={12} className={\"d-flex flex-column\"}>\n\t\t\t\t\t\t\t\t\t\t<FormLabel>{t(\"choices\")}</FormLabel>\n\t\t\t\t\t\t\t\t\t\t{form.choices.map((item, index) => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`choice-${index + 1}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={form.choices[index]}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst newChoices = [...form.choices];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewChoices[index] = e.target.value;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleChange(\"choices\", newChoices);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={`${t(\"choice\")} ${index + 1}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\"mb-3\"}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-link align-self-center align-self-md-end p-0 d-flex align-items-center justify-content-center\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\tconst newChoices = form.choices.concat(\"\");\n\t\t\t\t\t\t\t\t\t\t\t\thandleChange(\"choices\", newChoices);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\twidth=\"15px\"\n\t\t\t\t\t\t\t\t\t\t\t\theight=\"15px\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"bi bi-plus-circle\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"pl-2\">{t(\"addChoice\")}</span>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</FormGroup>\n\n\t\t\t\t\t\t\t\t\t<FormGroup\n\t\t\t\t\t\t\t\t\t\tas={Col}\n\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\"d-flex flex-column flex-md-row align-items-stretch align-items-md-center justify-content-center mb-0\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary py-3\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ minWidth: 250, marginBottom: 60, marginTop: 30 }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{!account ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\"Connect Wallet\"\n\t\t\t\t\t\t\t\t\t\t\t) : loading ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\"d-flex align-items-center justify-content-center w-100\"}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Loading\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth={18}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\theight={18}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tactive={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor={\"#fff\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={\"create-proposal\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\tt(\"publish\")\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t\t</FormRow>\n\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</StyledResponsiveCard>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Page>\n\t);\n};\n\nexport default CreateProposals;\n"],"sourceRoot":""}