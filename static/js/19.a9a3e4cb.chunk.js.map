{"version":3,"sources":["components/hoc/withWeb3Account.tsx","components/NumericalInput/index.tsx","hooks/useTokenToBalance.js","components/hoc/withBalance.js","components/BookOption/index.js","components/UI/Dropdown/index.js","assets/images/global/dropdown.svg","../node_modules/react-feather/dist/icons/alert-triangle.js","utils/spot/numberUtils.js","pages/Borrow/ModalProvider/modals/UnlockToken.js","../node_modules/react-feather/dist/icons/chevron-down.js","../node_modules/react-feather/dist/icons/arrow-up-circle.js","pages/Spot/components/MarketStats/index.js","pages/Spot/components/MarketDetails/index.js","pages/Spot/components/Orderbook/index.js","pages/Spot/components/Provider/index.js","pages/Spot/components/MarketFills/index.js","pages/Spot/components/OrderHistory/index.js","components/SpotInputPanel/index.js","components/OrderDetailsContainer/index.js","pages/Spot/components/BuySell/index.js","pages/Spot/components/BuySell/modals/SignOrderStepContainer.js","pages/Spot/components/BuySell/modals/BuySellTokenMatchingStepContainer.js","pages/Spot/components/BuySell/modals/BuySellTokenStepContainer.js","pages/Spot/components/BuySell/ModalProvider.js","pages/Spot/index.js"],"names":["withWeb3Account","Component","props","context","useActiveWeb3React","toggleWalletModal","useWalletModalToggle","web3","StyledInput","styled","input","error","theme","red1","text1","bg3","align","size","reverse","noBorder","modalBG","text3","inputRegex","RegExp","Input","React","memo","value","onUserInput","placeholder","rest","onChange","event","nextUserInput","target","replace","test","escapeRegExp","inputMode","title","autoComplete","autoCorrect","type","pattern","minLength","maxLength","spellCheck","useSpotBalances","account","library","baseToken","useSelector","getBaseToken","quoteToken","getQuoteToken","knownTokens","useMemo","getKnownTokens","tokens","getTokens","wethToken","getWethToken","allBalances","address","useState","balances","setBalances","fetchBalances","a","tokensToTokenBalances","res","useEffect","length","useTokenToBalance","window","ethereum","ethBalance","useETHBalances","wethBalance","find","b","token","symbol","tokensBalance","filter","ethereumBalance","ETH","toExact","bn","BigNumber","currency","undefined","balance","totalEthBalance","total","plus","baseTokenBalance","searchToken","tokenBalances","wethTokenBalance","tokenToFind","quoteTokenBalance","withBalance","Wrapper","div","active","Cell","variant","BookOption","onClick","isSell","isBuy","Button","button","secondary2","primary","darken","ButtonText","span","DropdownList","isOpen","DropdownItem","Dropdown","items","setActive","open","setOpen","toggleModal","useCallback","changeActiveHandler","item","hasOwnProperty","src","require","default","map","i","bind","_extends","Object","assign","arguments","source","key","prototype","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","AlertTriangle","forwardRef","_ref","ref","_ref$color","color","_ref$size","createElement","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","x1","y1","x2","y2","propTypes","PropTypes","string","oneOfType","number","displayName","padRightSplitted","numBg","decimals","UI_DECIMALS_DISPLAYED_ORDER_SIZE","numBgToFixed","toFixed","numBgToString","toString","decimalPlaces","split","diff","num","isZero","UnlockToken","unlocking","setUnlocking","currentStep","getStepsModalCurrentStep","dispatch","useDispatch","unlockToken","getContractWrappers","getProvider","contractWrappers","approveAddress","contractAddresses","erc20Proxy","erc20Token","ERC20TokenContract","amount","UNLIMITED_ALLOWANCE_IN_BASE_UNITS","approve","sendTransactionAsync","from","tx","awaitTransactionSuccessAsync","stepsModalAdvanceStep","onDismiss","pendingText","ChevronDown","points","ArrowUpCircle","cx","cy","r","Card","ResponsiveCard","EmptyText","CustomInputGroup","InputGroup","TokenFiltersTabs","success","danger","TokenFiltersTab","Text","AutoHeight","lighten","withRouter","connect","state","spot","currencyPair","markets","marketsStats","marketsStatsState","relayer","changeMarket","t","useTranslation","query","setQuery","getMarketFilters","selectedFilter","setSelectedFilter","_setTokensFilterTab","changeQueryHandler","e","columns","dataField","text","formatter","cellContent","row","rowIndex","baseSymbol","formatTokenSymbol","base","toUpperCase","quoteSymbol","quote","_getLastPrice","marketStats","m","pair","marketToString","formatExtraData","market","marketStat","last_price","config","pricePrecision","rowEvents","newSearch","queryString","stringify","history","push","match","path","callback","_setSelectedMarket","ServerState","NotLoaded","className","SearchIcon","Form","id","index","filteredMarkets","filterMarketsByTokenSymbol","searchedMarkets","filterMarketsByString","bordered","classes","bootstrap4","keyField","remote","data","_getMarkets","Loading","isMobile","StyledCard","Logo","Img","highPrice","getCurrentMarketTodayHighPrice","lowerPrice","getCurrentMarketTodayLowerPrice","volume","getCurrentMarketTodayQuoteVolume","closedOrders","getCurrentMarketTodayClosedOrders","lastPrice","getCurrentMarketLastPrice","toAbsoluteUrl","icon","USE_RELAYER_MARKET_UPDATES","displayDecimals","tokenAmountInUnits","wrapperClasses","ResponsiveTable","breakpoint","direction","withoutBorder","Container","BookOptionType","StyledBookOption","HeaderRow","TitleRow","TableRow","Title","Result","TR","CustomHead","InnerTR","TH","SpreadTitle","SpreadTR","TD","TBody","depthItems","OrderToRow","_setOrderPriceSelected","order","orders","totalSize","ZERO","side","OrderSide","Buy","reduce","sumSize","sizeItem","price","lte","gte","onSetOrderBuyPriceSelected","onSetOrderSellPriceSelected","onSetOrderPriceSelected","onSetMakerAmountSelected","priceColor","mySizeOrders","basePrecision","mySize","mySizeItem","eq","mySizeConverted","isMySizeEmpty","numSplitted","parseFloat","OrderToRowContainer","orderPriceSelected","setOrderPriceSelected","setOrderBuyPriceSelected","setOrderSellPriceSelected","makerAmountSelected","setMakerAmountSelected","Orderbook","depth","defaultDepth","bookOption","_spreadRowScrollable","createRef","_spreadRowFixed","_itemsScroll","content","orderBook","absoluteSpread","percentageSpread","totalQuoteBuyOrders","totalBaseSellOrders","serverState","sellOrders","buyOrders","mySizeSellArray","Sell","mySizeBuyArray","getColor","spreadAbsFixed","spreadPercentFixed","UI_DECIMALS_DISPLAYED_SPREAD_PERCENT","totalBase","totalQuote","bookOptionState","handleBookOption","option","setState","Number","slice","count","userOrders","orderBookState","getOrderBook","getSpread","getSpreadInPercentage","getTotalQuoteBuyOrders","getTotalBaseSellOrders","getOrderbookState","withTranslation","Web3","givenProvider","Provider","_deactivatePollingUpdates","_updateStoreInterval","clearInterval","_updatePriceEtherInterval","_updatePriceTokensInterval","_updateERC20MarketsInterval","_activatePollingUpdates","onUpdateERC20Markets","onUpdateMarketPriceTokens","onUpdateMarketPriceEther","onUpdateMarketPriceQuote","onUpdateERC20Store","UI_UPDATE_CHECK_INTERVAL","setInterval","isActiveCheckUpdates","UPDATE_ETHER_PRICE_INTERVAL","UPDATE_TOKENS_PRICE_INTERVAL","UPDATE_ERC20_MARKETS","componentWillUnmount","render","children","updateMarketPriceEther","updateMarketPriceQuote","updateMarketPriceTokens","updateERC20Markets","updateERC20Store","TableContainer","marketFills","spotUI","marketFillsState","marketToStringFromTokens","tokenQuoteSymbol","isWeth","marketFill","amountBase","tokenBase","displayAmountBase","getCurrencyPairByTokensSymbol","tokenQuote","timestamp","toISOString","fillToRow","CardTitle","h4","Content","InnerContent","Close","CloseIcon","onCancelOrder","cancelOrder","ordersToShow","status","OrderStatus","Fillable","tokenBaseSymbol","sideLabel","filled","getCurrencyPairFromTokens","orderToRow","InputRow","flexRowNoWrap","Label","InputContainer","LabelRow","Aligner","InputPanel","flexColumnNoWrap","StyledTokenName","CurrencySelect","bg1","BalanceRow","SpotInputPanel","valueStr","valueFixedDecimals","_updateValue","newValue","unitsInTokenAmount","min","isLessThan","label","disable","selected","hideInput","showBalance","balanceText","style","padding","borderRadius","Boolean","NumericalInput","getDerivedStateFromProps","Row","OrderType","OrderDetails","makerFeeAmount","takerFeeAmount","makerFeeAssetData","NULL_BYTES","takerFeeAssetData","quoteTokenAmount","canOrderBeFilled","componentDidUpdate","prevProps","newProps","tokenPrice","orderType","tokenAmount","orderSide","_updateOrderDetailsState","onFetchTakerAndMakerFee","getTokenBySymbol","priceInQuoteBaseUnits","baseTokenAmountInUnits","toUnitAmount","multipliedBy","makerFee","takerFee","openSellOrders","openBuyOrders","buildMarketOrders","ordersToFill","amountToPayForEachOrder","firstOrderWithFees","o","sum","sumTakerAssetFillableOrders","_getCostStringForRender","costAmount","_getMedianPriceStringForRender","quoteTokenAmountUnits","baseTokenAmountUnits","priceDisplay","toFormat","_getCostLabelStringForRender","qouteInUSD","componentDidMount","cost","costText","priceMedianText","getOpenSellOrders","getOpenBuyOrders","getQuoteInUsd","fetchTakerAndMakerFee","QuoteContainer","TabsContainer","TabWrapper","Tab","DetailsContainer","MarketType","MarketButton","BuySell","makerAmount","tab","btnMsg","cardMsg","changeTab","updateMakerAmount","getAmountAvailableLabel","tokenBalanceAmount","baseBalanceString","quoteBalanceString","updatePrice","submit","minAmount","minAmountUnits","String","orderFeeData","IS_ORDER_LIMIT_MATCHING","onSubmitLimitOrderMatching","onSubmitLimitOrder","onSubmitMarketOrder","message","setTimeout","_reset","_switchToMarket","_switchToLimit","buySellInnerTabs","quoteDecimals","isWethQuote","isWethBase","quoteUnits","tokenAmountInUnitsToBigNumber","baseBalance","makerAmountUnits","isMakerAmountEmpty","isMakerAmountMin","isPriceEmpty","isPriceMin","pow","isOrderTypeLimitIsEmpty","isOrderTypeLimitOverflow","gt","isOrderTypeMarketIsEmpty","btnPrefix","btnText","disabled","OrderDetailsContainer","minWidth","marginTop","fontSize","fontWeight","getCurrencyPair","getOrderPriceSelected","getMakerAmountSelected","startBuySellLimitSteps","startBuySellLimitMatchingSteps","startBuySellMarketSteps","step","submitLimitOrder","signedOrder","createSignedOrder","submitOrder","onDone","onSubmitLimitMatchingOrder","submitLimitMatchingOrder","refreshOrders","getOrderbookAndUserOrders","txHash","amountInReturn","submitMarketOrder","ModalProvider","submitted","setSubmitted","setTxHash","hideModal","setStepsModalCurrentStep","show","centered","onHide","Body","chainId","CHAIN_ID","hash","kind","StepKind","ToggleTokenLock","BuySellLimit","BuySellLimitMatching","BuySellMarket","BuySellTokenStepContainer","justMobile","justDesktop","Col","ContainerCard","Spot","setPair","toLowerCase","updateGasInfo","Page","morePadding","isTradingGraphic","Themes","DARK","allow_symbol_change"],"mappings":"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","file":"static/js/19.a9a3e4cb.chunk.js","sourcesContent":["import {useActiveWeb3React} from \"../../hooks\";\nimport {useWalletModalToggle} from \"../../state/application/hooks\";\n\nconst withWeb3Account = (Component: any) => {\n    return (props: any) => {\n        const context = useActiveWeb3React();\n        const toggleWalletModal = useWalletModalToggle()\n        return <Component\n            web3={context}\n            toggleWalletModal={toggleWalletModal}\n            { ...props }/>\n    }\n}\n\nexport default withWeb3Account;","import React from 'react'\nimport styled from 'styled-components'\nimport { escapeRegExp } from '../../utils'\n\nconst StyledInput = styled.input<{ error?: boolean; fontSize?: string; align?: string, noBorder?: boolean, reverse?: boolean, size?: string }>`\n  color: ${({ error, theme }) => (error ? theme.red1 : theme.text1)};\n  width: 0;\n  position: relative;\n  font-weight: 500;\n  font-family: inherit;\n  outline: none;\n  border: none;\n  flex: 1 1 auto;\n  background-color: ${({ theme }) => theme.bg3};\n  font-size: 1rem;\n  text-align: ${({ align }) => align && align};\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  height: ${({ size}) => size === 'sm' ? '48px' : '56px'};\n  border-bottom-right-radius: ${({ reverse }) => reverse ? '0' :  `1.125rem`};\n  border-top-right-radius: ${({ reverse }) => reverse ? '0' :  `1.125rem`};\n  border-bottom-left-radius: ${({ reverse }) => reverse ? '1.125rem' :  `0`};\n  border-top-left-radius: ${({ reverse }) => reverse ? '1.125rem' :  `0`};\n  padding-right: 0.625rem;\n  padding-left: ${({ noBorder, reverse }) => reverse ? '1.375rem' : noBorder ? '0.625rem' : `1.5rem`};\n  -webkit-appearance: textfield;\n  border-left: ${({ theme, noBorder }) => noBorder ? 'none' :  `3px solid ${theme.modalBG}`};\n  \n  @media (min-width: 768px) {\n    \n    padding-right: 4.5625rem;\n  }\n\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n\n  [type='number'] {\n    -moz-appearance: textfield;\n  }\n\n  ::-webkit-outer-spin-button,\n  ::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n  }\n\n  ::placeholder {\n    color: ${({ theme }) => theme.text3};\n  }\n`\n\nconst inputRegex = RegExp(`^\\\\d*(?:\\\\\\\\[.])?\\\\d*$`) // match escaped \".\" characters via in a non-capturing group\n\nexport const Input = React.memo(function InnerInput({\n  value,\n  onUserInput,\n  placeholder,\n  size,\n  ...rest\n}: {\n  value: string | number\n  onUserInput: (input: string) => void\n  error?: boolean\n  fontSize?: string\n  size?: string\n  align?: 'right' | 'left'\n} & Omit<React.HTMLProps<HTMLInputElement>, 'ref' | 'onChange' | 'as'>) {\n  const enforcer = (nextUserInput: string) => {\n    if (nextUserInput === '' || inputRegex.test(escapeRegExp(nextUserInput))) {\n      onUserInput(nextUserInput)\n    }\n  }\n\n  return (\n    <StyledInput\n      {...rest}\n      value={value}\n      onChange={event => {\n        // replace commas with periods, because uniswap exclusively uses period as the decimal separator\n        enforcer(event.target.value.replace(/,/g, '.'))\n      }}\n      // universal input options\n      inputMode=\"decimal\"\n      title=\"Token Amount\"\n      autoComplete=\"off\"\n      autoCorrect=\"off\"\n      size={size}\n      // text-specific options\n      type=\"text\"\n      pattern=\"^[0-9]*[.,]?[0-9]*$\"\n      placeholder={placeholder || '0.0'}\n      minLength={1}\n      maxLength={79}\n      spellCheck=\"false\"\n    />\n  )\n})\n\nexport default Input\n\n// const inputRegex = RegExp(`^\\\\d*(?:\\\\\\\\[.])?\\\\d*$`) // match escaped \".\" characters via in a non-capturing group\n","import { useMemo, useState, useEffect } from 'react';\nimport {tokensToTokenBalances} from \"../utils/spot/tokens\";\nimport {useActiveWeb3React} from \"./index\";\nimport {useSelector} from \"react-redux\";\nimport {getBaseToken, getQuoteToken, searchToken} from \"../state/selectors\";\nimport {getKnownTokens} from \"../utils/known_tokens\";\nimport {useETHBalances} from \"../state/wallet/hooks\";\nimport {BigNumber} from \"@0x/utils\";\n\nexport const useTokenToBalance = (tokens, address, library) => {\n    const [balances, setBalances] = useState([]);\n\n    const fetchBalances = async () => {\n        if(address) {\n            const res = await tokensToTokenBalances(tokens, address, library)\n            setBalances(res);\n        }\n    }\n    useEffect(() => {\n        fetchBalances()\n    }, [address, tokens])\n\n    return useMemo(() => {\n        if(balances.length > 0) {\n            return balances;\n        } else {\n            return []\n        }\n    }, [address, balances, tokens])\n}\n\n\nexport const useSpotBalances = () => {\n    const { account, library } = useActiveWeb3React()\n\n    const baseToken = useSelector(getBaseToken);\n    const quoteToken = useSelector(getQuoteToken);\n\n    const knownTokens = useMemo(() => {\n        return getKnownTokens();\n    }, [])\n    const tokens = useMemo(() => {\n        return knownTokens.getTokens()\n    }, [])\n\n    const wethToken = useMemo(() => {\n        return knownTokens.getWethToken()\n    }, []);\n\n    const t = useMemo(() => {\n        return [...tokens, wethToken]\n    }, [wethToken, tokens])\n    const allBalances = useTokenToBalance(t, account, window.ethereum || library);\n\n    const ethBalance = useETHBalances([account])\n\n    const wethBalance = useMemo(() => {\n        return allBalances.find(b => b.token.symbol === wethToken.symbol);\n    }, [allBalances])\n\n    const tokensBalance = useMemo(() => {\n        return allBalances.filter(b => b.token.symbol !== wethToken.symbol);\n    }, [allBalances])\n\n    const ethereumBalance = useMemo(() => {\n        const ETH = ethBalance[account] ? ethBalance[account].toExact() : null\n        const bn = new BigNumber(ETH * (10 ** 18))\n\n        return {\n            token: ethBalance[account] ? ethBalance[account].currency : undefined,\n            balance: bn\n        }\n    }, [ethBalance]);\n\n    const totalEthBalance = useMemo(() => {\n        if(wethBalance && ethereumBalance) {\n            let total = wethBalance.balance;\n            if(ethereumBalance.token !== undefined) {\n                total = ethereumBalance.balance.plus(wethBalance.balance);\n            }\n\n            return total;\n        } else {\n            return undefined;\n        }\n    }, [ethereumBalance, wethBalance])\n\n    const baseTokenBalance = useMemo(() => {\n\n        return searchToken({ tokenBalances: tokensBalance, wethTokenBalance: wethBalance, tokenToFind: baseToken });\n    }, [baseToken, tokensBalance, wethBalance])\n\n    const quoteTokenBalance = useMemo(() => {\n\n        return searchToken({ tokenBalances: tokensBalance, wethTokenBalance: wethBalance, tokenToFind: quoteToken });\n    }, [quoteToken, tokensBalance, wethBalance])\n\n    return useMemo(() => {\n        return {\n            quoteTokenBalance,\n            baseTokenBalance,\n            totalEthBalance,\n            ethBalance: ethereumBalance,\n            wethBalance,\n            tokensBalance,\n        }\n    }, [account, baseToken, quoteToken, allBalances, baseTokenBalance, quoteTokenBalance])\n}\n","import {useSpotBalances} from \"../../hooks/useTokenToBalance\";\n\n\nconst withBalance = Component => {\n    return props => {\n        const balances = useSpotBalances();\n        return (\n            <Component\n                {...props}\n                {...balances}\n            />\n        )\n    }\n\n}\n\nexport default withBalance;\n","import styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: space-between;\n  width: 30px;\n  height: 30px;\n  min-width: 30px;\n  min-height: 30px;\n  padding: 10px 6px;\n  background-color: ${({ theme }) => theme.bg3};\n  border-radius: 30px;\n  opacity: ${({ active }) => active ? '1' : '0.5'};\n  cursor: pointer;\n`\n\nconst Cell = styled.div`\n  height: 2px;\n  border-radius: 9px;\n  width: 13px;\n  background-color: ${({ theme, variant }) => variant ? theme[variant] : '#D3D6E8'};\n  \n  &:not(:last-child) {\n    width: 17px;\n  }\n`\n\nconst BookOption = props => {\n    return (\n        <Wrapper active={props.active} onClick={props.onChange} {...props}>\n            <Cell variant={props.isSell && 'danger'} />\n            <Cell />\n            <Cell variant={props.isBuy && 'success'} />\n        </Wrapper>\n    )\n}\n\nexport default BookOption;\n","import styled from \"styled-components\";\nimport { useState, useCallback } from 'react';\nimport SVG from 'react-inlinesvg';\nimport { darken } from 'polished';\n\nconst Wrapper = styled.div`\n  position: relative;\n  z-index: 2;\n  perspective: 800px;\n`\n\nconst Button = styled.button`\n  height: ${({ size }) => size === 'sm' ? '32px' : '56px'};\n  padding-left: ${({ size }) => size === 'sm' ? '16px' : '20px'};\n  padding-right: ${({ size }) => size === 'sm' ? '22px' : '24px'};\n  border-radius: ${({ size }) => size === 'sm' ? '12px' : '18px'};\n  background-color: ${({variant}) => variant === 'secondary' ? 'rgba(121, 133, 246, 0.15)' : 'rgba(135, 220, 225, 0.15)'};\n  transition: 0.4s ease all;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  color: ${({variant, theme}) => variant === 'secondary' ? theme.secondary2 : theme.primary};\n  border: none;\n  \n  &:hover {\n    background-color: ${({variant, theme}) => variant === 'secondary' ? theme.secondary2 : theme.primary};\n    color: ${({ theme }) => theme.text1};\n  }\n  \n  &:focus,\n  &:active {\n    outline: none;\n    background-color: ${({variant, theme}) => variant === 'secondary' ? darken(0.1, theme.secondary2) : darken(0.1, theme.primary)};\n    box-shadow: 0 0 0 5px ${({variant}) => variant === 'secondary' ? 'rgba(121, 133, 246, 0.15)' : 'rgba(135, 220, 225, 0.15)'};\n    color: ${({ theme }) => theme.text1};\n  }\n  \n  \n  @media (max-width: 991px) {\n    height: 32px;\n    font-size: .875rem;\n    border-radius: 12px;\n    padding-left: 15px;\n    padding-right: 21px;\n  }\n`\n\nconst ButtonText = styled.span`\n  color: currentColor;\n  font-weight: 500;\n  font-size: 1rem;\n  padding-right: 1rem;\n  \n  \n  @media (max-width: 991px) {\n    padding-right: 0.5rem;\n  }\n`\n\nconst DropdownList = styled.div`\n  background-image: linear-gradient(346.84deg, #9AA7D0 1.12%, #B7C2E4 78.56%);\n  box-shadow: -1px 11px 43px rgba(0, 0, 0, 0.12);\n  border-radius: 12px;\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  right: 0;\n  top: ${({size}) => size === 'sm' ? `42px` : `66px`};\n  min-width: 100%;\n  padding: ${({size}) => size === 'sm' ? `14px` : `20px`};\n  transition: 0.5s ease all;\n  transform-style: preserve-3d;\n  transform-origin: top center;\n  transform: ${({isOpen}) => isOpen ? `translateY(0) scale(1)` : `translateY(20px) scale(0.8)`};\n  opacity: ${({isOpen}) => isOpen ? `1` : `0`};\n  visibility: ${({isOpen}) => isOpen ? `visible` : `hidden`};\n  \n  \n  @media (max-width: 991px) {\n    top: 42px;\n  }\n`\n\nconst DropdownItem = styled.button`\n  border: none;\n  background-color: transparent;\n  font-weight: 500;\n  font-size: 1rem;\n  color: #232429;\n  white-space: nowrap;\n  padding: 0;\n  \n  \n  @media (max-width: 991px) {\n    font-size: 0.875rem;\n  }\n  \n  &:hover,\n  &:focus,\n  &:active {\n    outline: none;\n    text-decoration: none;\n    box-shadow: none;\n  }\n\n  &:not(:last-child) {\n    margin-bottom: ${({size}) => size === 'sm' ? `14px` : `20px`} ;\n  }\n`\n\nconst Dropdown = props => {\n    const [active, setActive] = useState(props.items[props.active] || null);\n    const [open, setOpen] = useState(false);\n\n    const toggleModal = useCallback(() => {\n        setOpen(open => !open);\n    }, [])\n\n    const changeActiveHandler = useCallback((item) => {\n        setActive(item);\n        setOpen(false);\n        if(props.hasOwnProperty('onChange')) {\n            props.onChange(item.value);\n        }\n    }, [props.onChange])\n\n    return (\n        <Wrapper>\n            <Button variant={props.variant} onClick={toggleModal} isOpen={open} size={props.size || 'md'}>\n                <ButtonText>{active ? active.title : props.placeholder || 'Select'}</ButtonText>\n                <SVG src={require('../../../assets/images/global/dropdown.svg').default} />\n            </Button>\n            <DropdownList isOpen={open} size={props.size || 'md'}>\n                {props.items.map((item, i) => {\n                    return (\n                        <DropdownItem size={'sm'} onClick={changeActiveHandler.bind(this, item)} key={`dropdown-${i}`}>{item.title}</DropdownItem>\n                    )\n                })}\n            </DropdownList>\n        </Wrapper>\n    )\n}\n\nexport default Dropdown;\n","export default __webpack_public_path__ + \"static/media/dropdown.4a406929.svg\";","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar AlertTriangle = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"12\",\n    y1: \"9\",\n    x2: \"12\",\n    y2: \"13\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"12\",\n    y1: \"17\",\n    x2: \"12.01\",\n    y2: \"17\"\n  }));\n});\nAlertTriangle.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nAlertTriangle.displayName = 'AlertTriangle';\nexport default AlertTriangle;","import {UI_DECIMALS_DISPLAYED_ORDER_SIZE} from \"../../constants\";\n\nexport const padRightSplitted = (\n    numBg,\n    decimals = UI_DECIMALS_DISPLAYED_ORDER_SIZE,\n) => {\n    const numBgToFixed = numBg.toFixed(decimals);\n    const numBgToString = numBg.toString();\n\n    const decimalPlaces = (numBgToString.split('.')[1] || []).length;\n\n    let diff = '';\n    let num = numBgToFixed;\n    if (!numBg.isZero() && decimalPlaces < decimals) {\n        diff = numBgToFixed.replace(numBgToString, '');\n        num = numBgToString;\n    }\n\n    return {\n        num,\n        diff,\n    };\n};\n\nexport const truncateAddress = (address) => {\n    return `${address.slice(0, 7)}...${address.slice(address.length - 5)}`;\n};\n","import {ConfirmationPendingContent} from \"../../../../components/TransactionConfirmationModal\";\nimport React, {useEffect, useState} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\n\nimport {getStepsModalCurrentStep} from \"../../../../state/selectors\";\nimport {UNLIMITED_ALLOWANCE_IN_BASE_UNITS} from \"../../../../constants\";\nimport {useActiveWeb3React} from \"../../../../hooks\";\nimport {getContractWrappers} from \"../../../../utils/spot/contractWrapper\";\nimport {ERC20TokenContract} from \"@0x/contract-wrappers\";\nimport {stepsModalAdvanceStep} from \"../../../../state/spotUI/actions\";\n\nconst UnlockToken = props => {\n    const [unlocking, setUnlocking] = useState(false);\n    const { account, library } = useActiveWeb3React();\n    const currentStep = useSelector(getStepsModalCurrentStep);\n    const { address, token } = currentStep;\n    const web3 = props.web3;\n    const dispatch = useDispatch();\n\n    const unlockToken = async () => {\n        try {\n\n            const contractWrappers = await getContractWrappers(web3.getProvider());\n            const approveAddress = address ? address : contractWrappers.contractAddresses.erc20Proxy;\n\n            const erc20Token = new ERC20TokenContract(token.address, contractWrappers.getProvider());\n            const amount = UNLIMITED_ALLOWANCE_IN_BASE_UNITS;\n\n            const tx = await erc20Token.approve(approveAddress, amount).sendTransactionAsync({\n                from: account,\n            });\n            setUnlocking(true)\n            await web3.awaitTransactionSuccessAsync(tx);\n\n            if(tx) {\n                setUnlocking(false)\n                dispatch(stepsModalAdvanceStep());\n            }\n\n        } catch(e) {\n            setUnlocking(false)\n            props.onDismiss();\n        }\n    }\n\n    useEffect(() => {\n        unlockToken();\n    }, [currentStep])\n\n    return (\n        <ConfirmationPendingContent onDismiss={unlocking ? () => null : props.onDismiss} pendingText={unlocking ? 'Unlocking' : 'Waiting for confirmation'} />\n    )\n}\n\nexport default UnlockToken;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar ChevronDown = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"6 9 12 15 18 9\"\n  }));\n});\nChevronDown.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nChevronDown.displayName = 'ChevronDown';\nexport default ChevronDown;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar ArrowUpCircle = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\"\n  }), /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"16 12 12 8 8 12\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"12\",\n    y1: \"16\",\n    x2: \"12\",\n    y2: \"8\"\n  }));\n});\nArrowUpCircle.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nArrowUpCircle.displayName = 'ArrowUpCircle';\nexport default ArrowUpCircle;","import React, {useCallback, useState} from 'react';\nimport { connect } from 'react-redux';\nimport { BigNumber } from \"@0x/utils\";\nimport styled from 'styled-components';\nimport { lighten } from 'polished';\nimport { withRouter } from 'react-router-dom';\nimport queryString from 'query-string';\n\nimport {ServerState} from '../../../../constants';\nimport { getMarketFilters } from '../../../../common/markets';\nimport {changeMarket} from \"../../../../state/spot/actions\";\nimport { formatTokenSymbol } from \"../../../../utils/spot/tokens\";\nimport { filterMarketsByString, filterMarketsByTokenSymbol, marketToString } from \"../../../../utils/spot/market\";\n\nimport { ResponsiveCard } from \"../../../../components/Card\";\nimport {useActiveWeb3React} from \"../../../../hooks\";\nimport Loading from \"../../../../components/Loading\";\nimport SearchIcon from \"../../../../assets/images/search.svg\";\nimport './styles.scss';\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport {useTranslation} from \"react-i18next\";\nimport SVG from \"react-inlinesvg\";\nimport { InputGroupFormControl as FormControl, InputGroupPrepend, InputGroupText, InputGroup} from \"../../../../components/Form\";\n\nconst Card = styled(ResponsiveCard)`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  margin-bottom: 20px;\n  \n  & .card-body {\n    padding: 30px;\n  }\n  \n  @media (min-width: 1400px) {\n    width: 228px;\n    height: 486px;\n    margin-bottom: 10px;\n  \n    & .card-body {\n      padding: 10px;\n    }\n  }\n`\n\nconst EmptyText = styled.span`\n  font-size: .875rem;\n  font-weight: 400;\n  color: ${({ theme }) => theme.text1};\n  \n`\n\nconst CustomInputGroup = styled(InputGroup)`\n  font-size: .75rem;\n  \n  .input-group-text {\n    padding-left: 1.25rem;\n    padding-right: .625rem;\n  }\n  \n  & input {\n    font-size: .75rem !important;\n    padding-left: 0;\n  }\n  \n  & img {\n    width: 1rem;\n    height: 1rem;\n  }\n`\n\n\nconst PriceChange = styled.span`\n    color: ${props => props.value > 0 ? props.theme.success : props.value < 0 ? props.theme.danger : props.theme.text3};\n    display: block;\n`;\n\nconst TokenFiltersTabs = styled.div`\n  width: 100%;\n  flex-wrap: nowrap;\n  padding: 15px 0;\n`\n\nconst TokenFiltersTab = styled.button`\n  background-color: transparent;\n  border: none;\n  color: ${({ active, theme }) => active ? theme.primary : theme.text1};\n  font-size: 12px;\n  font-weight: 400;\n  \n  &:active,\n  &:focus {\n    outline: none;\n    box-shadow: none;\n    text-decoration: none;\n  }\n`\n\n\nconst Text = styled.span`\n  color: ${({theme, variant}) => variant ? theme[variant] : theme.text1};\n  font-size: .75rem;\n  font-weight: 400;\n  cursor: pointer;\n`\n\nconst AutoHeight = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  overflow-y: auto;\n  overflow-x: hidden;\n  max-height: 360px;\n  \n  \n  @media (max-width: 1400px) {\n    max-height: initial;\n  }\n  \n  /* width */\n  ::-webkit-scrollbar {\n    width: 3px;\n  }\n  \n  /* Track */\n  ::-webkit-scrollbar-track {\n    box-shadow: none;\n    background-color: transparent; \n    border-radius: 10px;\n    padding: 0 6px;\n    margin: 0 6px;\n    border-right: 1px solid ${({ theme }) => theme.text1};\n  }\n   \n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n    background: ${({ theme }) => theme.text1}; \n    border-radius: 10px;\n    width: 4px !important;\n    \n  }\n  \n  /* Handle on hover */\n  ::-webkit-scrollbar-thumb:hover {\n    background: ${({ theme }) => lighten(0.08, theme.text1)}; \n  }\n  \n`\n\nconst MarketStats = props => {\n    const { account, library } = useActiveWeb3React();\n    const { t } = useTranslation()\n    const [query, setQuery] = useState('');\n    const [selectedFilter, setSelectedFilter] = useState(getMarketFilters()[0])\n    const { baseToken, quoteToken, markets, marketsStats, marketsStatsState } = props;\n\n    const _getLastPrice = (market, marketStat) => {\n        if (marketStat && marketStat.last_price) {\n            return new BigNumber(marketStat.last_price).toFixed(market.currencyPair.config.pricePrecision);\n        }\n\n        return '-';\n    };\n\n    const _getLastPriceChange = (marketStat) => {\n        if (marketStat && marketStat.last_price_change_24) {\n            return (\n                <PriceChange value={marketStat.last_price_change_24}>{`${new BigNumber(marketStat.last_price_change_24)\n                    .times(100)\n                    .toFixed(2)} %`}</PriceChange>\n            );\n        }\n\n        return <PriceChange value={0}>{`${new BigNumber(0).toFixed(2)} %`}</PriceChange>;\n    };\n\n    const _setTokensFilterTab = (filter) => {\n        setSelectedFilter(filter);\n    };\n\n    const _setSelectedMarket = (currencyPair, account, library) => {\n        const callback = (currencyPair) => {\n            const newSearch = queryString.stringify({\n                base: currencyPair.base,\n                quote: currencyPair.quote,\n            })\n            props.history.push(`${props.match.path}?${newSearch}`)\n        }\n        callback(currencyPair)\n        props.changeMarket(currencyPair, account, library );\n    };\n\n    const changeQueryHandler = useCallback((e) => {\n        setQuery(e.target.value);\n    }, [])\n\n    const columns = [\n        {\n            dataField: \"market\",\n            text: t('market'),\n            formatter: (cellContent, row, rowIndex) => {\n                const baseSymbol = formatTokenSymbol(row.currencyPair.base).toUpperCase();\n                const quoteSymbol = formatTokenSymbol(row.currencyPair.quote).toUpperCase();\n                return (\n                    <Text>\n                        {baseSymbol} / {quoteSymbol}\n                    </Text>\n                )\n            },\n        },\n        {\n            dataField: \"price\",\n            text: t('table.price'),\n            formatter: (cellContent, row, rowIndex, { _getLastPrice, marketsStats }) => {\n                const marketStats =\n                    marketsStats &&\n                    marketsStats.find(m => m.pair.toUpperCase() === marketToString(row.currencyPair));\n                return (\n                    <Text>\n                        {_getLastPrice(row, marketStats)}\n                    </Text>\n                )\n            },\n            formatExtraData: {\n                _getLastPrice,\n                marketsStats\n            },\n        },\n\n    ]\n\n    const rowEvents = {\n        onClick: (e, row) => {\n            _setSelectedMarket(row.currencyPair, account, library);\n        }\n    }\n\n\n    const _getMarkets = () => {\n        const { baseToken, markets } = props;\n\n        if (!baseToken || !markets) {\n            return null;\n        }\n\n        const filteredMarkets =\n            selectedFilter == null || selectedFilter.value === null\n                ? markets\n                : filterMarketsByTokenSymbol(markets, selectedFilter.value);\n        const searchedMarkets = filterMarketsByString(filteredMarkets, query);\n\n        return (\n            <AutoHeight>\n                <BootstrapTable\n                    bordered={false}\n                    classes=\"table table-head-custom table-borderless table-vertical-center overflow-hidden market-stats__table\"\n                    bootstrap4\n                    keyField={'id'}\n                    remote\n                    rowEvents={rowEvents}\n                    data={searchedMarkets === null ? [] : searchedMarkets}\n                    columns={columns}\n                />\n            </AutoHeight>\n        )\n    }\n\n    if(!baseToken || !quoteToken || marketsStatsState === ServerState.NotLoaded) {\n        return (\n            <Card>\n                <div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n                    <Loading width={40} height={40} id={`spots-${props.isMobile ? 'mobile' : 'desktop'}`} active/>\n                </div>\n            </Card>\n        )\n    } else if (!baseToken || !quoteToken) {\n        return (\n            <Card>\n                <div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n                    <EmptyText>{t('errors.noMarket')}</EmptyText>\n                </div>\n            </Card>\n        )\n    } else if (!markets && !marketsStats) {\n        return (\n            <Card>\n                <div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n                    <Loading width={40} height={40} id={`spots-markets-loading-${props.isMobile ? 'mobile' : 'desktop'}`} active/>\n                </div>\n            </Card>\n        )\n    }\n\n    return (\n        <Card>\n            <CustomInputGroup className={'w-auto'}>\n                <InputGroupPrepend>\n                    <InputGroupText>\n                        <SVG src={SearchIcon}/>\n                    </InputGroupText>\n                </InputGroupPrepend>\n                <FormControl id=\"PoolsSearch\" placeholder={t('search')} onChange={changeQueryHandler}/>\n            </CustomInputGroup>\n\n            <TokenFiltersTabs className={'d-flex align-items-center justify-content-between'}>\n                {getMarketFilters().map((filter, index) => {\n                    return (\n                        <TokenFiltersTab\n                            active={filter === selectedFilter}\n                            key={index}\n                            onClick={_setTokensFilterTab.bind(this, filter)}\n                        >\n                            {filter.text}\n                        </TokenFiltersTab>\n                    );\n                })}\n            </TokenFiltersTabs>\n            {_getMarkets()}\n        </Card>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        baseToken: state.spot.baseToken,\n        currencyPair: state.spot.currencyPair,\n        markets: state.spot.markets,\n        quoteToken: state.spot.quoteToken,\n        marketsStats: state.spot.marketsStats,\n        marketsStatsState: state.relayer.marketsStatsState,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        changeMarket: (currencyPair) => dispatch(changeMarket(currencyPair))\n    };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(MarketStats));\n","import { connect } from 'react-redux';\nimport { BigNumber } from '@0x/utils';\nimport styled from \"styled-components\";\n\nimport { USE_RELAYER_MARKET_UPDATES } from '../../../../constants';\nimport { changeMarket } from \"../../../../state/spot/actions\";\nimport { formatTokenName, formatTokenSymbol, getEtherscanLinkForToken, tokenAmountInUnits } from \"../../../../utils/spot/tokens\";\nimport {\n    getCurrentMarketLastPrice,\n    getCurrentMarketTodayClosedOrders,\n    getCurrentMarketTodayHighPrice,\n    getCurrentMarketTodayLowerPrice,\n    getCurrentMarketTodayQuoteVolume\n} from \"../../../../state/selectors\";\nimport StyledCard from \"../../../../components/Card\";\nimport {useActiveWeb3React} from \"../../../../hooks\";\nimport Loading from \"../../../../components/Loading\";\nimport React from \"react\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport Img from \"../../../../components/UI/Img\";\nimport {toAbsoluteUrl} from \"../../../../lib/helper\";\nimport './styles.scss';\nimport ResponsiveTable from \"../../../../components/ResponsiveTable\";\nimport {useTranslation} from \"react-i18next\";\n\n\nconst Card = styled(StyledCard)`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  margin-bottom: 20px;\n  \n  & .card-body {\n    padding: 24px 20px 20px;\n  }\n  \n  @media (min-width: 1400px) {\n    width: 570px;\n    height: 103px;\n    margin-bottom: 10px;\n  \n    & .card-body {\n      padding: 24px;\n    }\n  }\n`\n\nconst Logo = styled(Img)`\n  width: 24px;\n  min-width: 24px;\n  height: 24px;\n  border-radius: 24px;\n  border: 1px solid ${({ theme }) => theme.text1};\n  display: block;\n  margin-right: 5px;\n  \n  @media (max-width: 1400px) {\n    margin-right: 10px;\n  }\n`\n\nconst Text = styled.span`\n  color: ${({theme, variant}) => variant ? theme[variant] : theme.text1};\n  font-size: .875rem;\n  font-weight: 500;\n`\n\nconst MarketDetails = props => {\n    const { t } = useTranslation();\n    const { baseToken, quoteToken, currencyPair } = props;\n\n    const { highPrice, lowerPrice, volume, closedOrders, lastPrice } = props;\n\n    const marketStats = {\n        highPrice,\n        lowerPrice,\n        volume,\n        closedOrders,\n        lastPrice,\n    };\n\n\n    const columns = [\n        {\n            dataField: \"project\",\n            text: t('project'),\n            formatter: (cellContent, row, rowIndex) => {\n                return (\n                    <div className=\"d-flex align-items-center\">\n                        <Logo src={toAbsoluteUrl(`/${row.baseToken.icon}`)}/>\n                    </div>\n                )\n            },\n        },\n        {\n            dataField: \"last_price\",\n            text: t('table.price'),\n            formatter: (cellContent, row, rowIndex) => {\n                const lastPrice = row.marketStats.lastPrice\n                    ? new BigNumber(row.marketStats.lastPrice).toFixed(row.currencyPair.config.pricePrecision)\n                    : '-';\n                return (\n                    <Text>{lastPrice}</Text>\n                )\n            },\n        },\n        {\n            dataField: \"max_price\",\n            text: t('table.24_high'),\n            formatter: (cellContent, row, rowIndex) => {\n                return (\n                    <Text>\n                        {(row.marketStats.highPrice && row.marketStats.highPrice.toFixed(row.currencyPair.config.pricePrecision)) || '-'}\n                    </Text>\n                )\n            },\n        },\n        {\n            dataField: \"min_price\",\n            text: t('table.24_low'),\n            formatter: (cellContent, row, rowIndex) => {\n                return (\n                    <Text>\n                        {(row.marketStats.lowerPrice && row.marketStats.lowerPrice.toFixed(4)) || '-'}\n                    </Text>\n                )\n            },\n        },\n        {\n            dataField: \"volume\",\n            text: t('table.24_volume'),\n            formatter: (cellContent, row, rowIndex) => {\n\n                let volume;\n                if (USE_RELAYER_MARKET_UPDATES) {\n                    volume =\n                        (row.marketStats.volume &&\n                            `${row.marketStats.volume.toFixed(row.quoteToken.displayDecimals)} ${formatTokenSymbol(row.quoteToken.symbol)}`) ||\n                        '- ';\n                } else {\n                    volume =\n                        (row.marketStats.volume &&\n                            `${tokenAmountInUnits(\n                                row.marketStats.volume,\n                                row.quoteToken.decimals,\n                                row.quoteToken.displayDecimals,\n                            ).toString()} ${formatTokenSymbol(row.quoteToken.symbol)}`) ||\n                        '- ';\n                }\n                return (\n                    <Text>\n                        {volume}\n                    </Text>\n                )\n            },\n        },\n        {\n            dataField: \"closed_orders\",\n            text: \"Orders Closed\",\n            formatter: (cellContent, row, rowIndex) => {\n                return (\n                    <Text>\n                        {row.marketStats.closedOrders || '-'}\n                    </Text>\n                )\n            },\n        },\n    ]\n\n    if(!baseToken || !quoteToken) {\n        return (\n            <Card>\n                <div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n                    <Loading width={40} height={40} id={`spots-markets-details-${props.isMobile ? 'mobile' : 'desktop'}`} active/>\n                </div>\n            </Card>\n        )\n    }\n\n\n    return (\n        <Card>\n            <BootstrapTable\n                wrapperClasses=\"d-none d-lg-block\"\n                bordered={false}\n                classes=\"table table-head-custom table-borderless table-vertical-center overflow-hidden market-details__table\"\n                bootstrap4\n                keyField={'id'}\n                remote\n                data={[{marketStats, baseToken, quoteToken, currencyPair}]}\n                columns={columns}\n            />\n            <ResponsiveTable breakpoint={'lg'} columns={columns} data={[{marketStats, baseToken, quoteToken, currencyPair}]} direction={'rtl'} withoutBorder/>\n        </Card>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        baseToken: state.spot.baseToken,\n        currencyPair: state.spot.currencyPair,\n        quoteToken: state.spot.quoteToken,\n        highPrice: getCurrentMarketTodayHighPrice(state),\n        lowerPrice: getCurrentMarketTodayLowerPrice(state),\n        volume: getCurrentMarketTodayQuoteVolume(state),\n        closedOrders: getCurrentMarketTodayClosedOrders(state),\n        lastPrice: getCurrentMarketLastPrice(state),\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        changeMarket: (currencyPair) => dispatch(changeMarket(currencyPair))\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MarketDetails);\n","import { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { lighten } from 'polished';\nimport {BigNumber} from \"@0x/utils\";\n\nimport {\n    getOrderBook, getOrderbookState,\n    getSpread,\n    getSpreadInPercentage,\n    getTotalBaseSellOrders,\n    getTotalQuoteBuyOrders\n} from \"../../../../state/selectors\";\nimport {ZERO, UI_DECIMALS_DISPLAYED_SPREAD_PERCENT, OrderSide, ServerState} from \"../../../../constants\";\nimport { formatTokenSymbol, tokenAmountInUnits } from '../../../../utils/spot/tokens';\nimport {\n    setMakerAmountSelected,\n    setOrderBuyPriceSelected,\n    setOrderPriceSelected,\n    setOrderSellPriceSelected\n} from \"../../../../state/spotUI/actions\";\nimport React, {Component} from \"react\";\nimport Loading from \"../../../../components/Loading\";\nimport BookOption from \"../../../../components/BookOption\";\nimport Dropdown from \"../../../../components/UI/Dropdown\";\nimport {padRightSplitted} from \"../../../../utils/spot/numberUtils\";\nimport {withTranslation} from \"react-i18next\";\n\nconst Container = styled.div`\n  width: 260px;\n  display: flex;\n  flex-direction: column;\n  \n  @media (max-width: 1400px) {\n    width: 100%;\n  }\n`\n\nconst EmptyText = styled.span`\n  font-size: .875rem;\n  font-weight: 400;\n  color: ${({ theme }) => theme.text1};\n  \n`\nconst BookOptionType = {\n    BuySellBook: 0,\n    SellBook: 1,\n    BuyBook: 2,\n}\n\nconst StyledBookOption = styled(BookOption)`\n  &:not(:last-child) {\n    margin-right: 10px;\n  }\n`\n\nconst HeaderRow = styled.div`\n  margin-bottom: 12px;\n  \n  @media (max-width: 1400px) {\n    margin-bottom: 34px;\n  }\n`\nconst TitleRow = styled.div`\n  margin-bottom: 15px;\n  \n  @media (max-width: 1400px) {\n    margin-bottom: 10px;\n    align-items: flex-end;\n  }\n`\nconst TableRow = styled.div`\n  display: flex;\n  flex: 1;\n  max-height: 382px;\n  flex-direction: column;\n  \n  @media (max-width: 1400px) {\n    margin-bottom: 0;\n    max-height: initial;\n  }\n`\n\nconst Title = styled.span`\n  color: ${({ theme }) => theme.text1};\n  font-weight: bold;\n  font-size: 1rem;\n  line-height: 1;\n  \n  @media (max-width: 1400px) {\n    margin-bottom: 10px;\n  }\n  \n`\n\nconst Result = styled.span`\n  color: ${({ theme }) => theme.text1};\n  font-weight: 500;\n  font-size: 0.75rem;\n`\n\nconst TR = styled.div`\n  padding: 6px 16px;\n  border-radius: 12px;\n  margin-bottom: 12px;\n  max-height: 32px;\n  height: 32px;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n   \n  @media (max-width: 1400px) {\n    max-height: 56px;\n    padding: 18px 20px;\n    border-radius: 18px;\n    height: 56px;\n  }\n`\nconst CustomHead = styled(TR)`\n  background-color: ${({ theme }) => theme.text1}10;\n`\n\nconst InnerTR = styled(TR)`\n  background-color: transparent;\n  cursor: pointer;\n  transition: all ease 0.3s;\n  margin-bottom: 2px;\n  max-height: 24px;\n  padding: 4px 16px;\n  \n  @media (max-width: 1400px) {\n    max-height: 56px;\n    padding: 18px 20px;\n    border-radius: 18px;\n    height: 56px;\n  }\n  \n  &:hover {\n    background-color: ${({ theme }) => theme.text1}06;\n  }\n`\n\nconst TH = styled.span`\n  color: ${({ theme }) => theme.text1};\n  font-size: .75rem;\n  font-weight: 400;\n  white-space: nowrap;\n`\n\nconst SpreadTitle = styled.span`\n  color: ${({ theme }) => theme.text1};\n  font-size: .75rem;\n  font-weight: 500;\n  white-space: nowrap;\n`\n\nconst SpreadTR = styled(CustomHead)`\n  margin-bottom: 8px;\n  margin-top: 4px;\n`\n\nconst TD = styled.span`\n  color: ${({ theme, variant }) => variant ? theme[variant] : theme.text1};\n  font-size: .75rem;\n  font-weight: 400;\n  padding-right: 5px;\n`\n\nconst TBody = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  max-height: 306px;\n  min-height: 306px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  \n  \n  @media (max-width: 1400px) {\n    max-height: initial;\n  }\n  \n  /* width */\n  ::-webkit-scrollbar {\n    width: 3px;\n  }\n  \n  /* Track */\n  ::-webkit-scrollbar-track {\n    box-shadow: none;\n    background-color: transparent; \n    border-radius: 10px;\n    padding: 0 6px;\n    margin: 0 6px;\n    border-right: 1px solid ${({ theme }) => theme.text1};\n  }\n   \n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n    background: ${({ theme }) => theme.text1}; \n    border-radius: 10px;\n    width: 4px !important;\n    \n  }\n  \n  /* Handle on hover */\n  ::-webkit-scrollbar-thumb:hover {\n    background: ${({ theme }) => lighten(0.08, theme.text1)}; \n  }\n`\n\nconst depthItems = [\n    {\n        value: 5,\n        title: '5'\n    },\n    {\n        value: 10,\n        title: '10'\n    },\n    {\n        value: 20,\n        title: '20'\n    },\n    {\n        value: 50,\n        title: '50'\n    },\n]\n\nclass OrderToRow extends Component {\n    render() {\n        const { order, index, baseToken, priceColor, mySizeOrders = [], currencyPair } = this.props;\n        const basePrecision = currencyPair.config.basePrecision;\n        const pricePrecision = currencyPair.config.pricePrecision;\n\n        const size = tokenAmountInUnits(order.size, baseToken.decimals, basePrecision);\n        const price = order.price.toString();\n\n        const mySize = mySizeOrders.reduce((sumSize, mySizeItem) => {\n            if (mySizeItem.price.eq(order.price)) {\n                return sumSize.plus(mySizeItem.size);\n            }\n            return sumSize;\n        }, ZERO);\n\n        const mySizeConverted = tokenAmountInUnits(mySize, baseToken.decimals, basePrecision);\n        const isMySizeEmpty = mySize.eq(new BigNumber(0));\n        const numSplitted = padRightSplitted(new BigNumber(size), basePrecision);\n\n        return (\n            <InnerTR\n                onClick={() => this._setOrderPriceSelected(order.price)}\n            >\n                <TD>{numSplitted.num}</TD>\n                <TD variant={priceColor}>\n                    {parseFloat(price).toFixed(pricePrecision)}\n                </TD>\n                <TD>\n                    {isMySizeEmpty ? '-' : mySizeConverted}\n                </TD>\n            </InnerTR>\n        )\n    }\n\n    _setOrderPriceSelected = async (size) => {\n        const { order, orders } = this.props;\n        let totalSize = ZERO;\n        if (order.side === OrderSide.Buy) {\n            totalSize = orders.reduce((sumSize, sizeItem) => {\n                if (order.price.lte(sizeItem.price)) {\n                    return sumSize.plus(sizeItem.size);\n                }\n                return sumSize;\n            }, ZERO);\n        } else {\n            totalSize = orders.reduce((sumSize, sizeItem) => {\n                if (order.price.gte(sizeItem.price)) {\n                    return sumSize.plus(sizeItem.size);\n                }\n                return sumSize;\n            }, ZERO);\n        }\n        if (order.side === OrderSide.Buy) {\n            await this.props.onSetOrderBuyPriceSelected(size);\n        } else {\n            await this.props.onSetOrderSellPriceSelected(size);\n        }\n\n        await this.props.onSetOrderPriceSelected(size);\n        await this.props.onSetMakerAmountSelected(totalSize);\n    };\n}\n\n\nconst mapOrderToRowDispatchToProps = (dispatch) => {\n    return {\n        onSetOrderPriceSelected: (orderPriceSelected) => dispatch(setOrderPriceSelected(orderPriceSelected)),\n        onSetOrderBuyPriceSelected: (orderPriceSelected) =>\n            dispatch(setOrderBuyPriceSelected(orderPriceSelected)),\n        onSetOrderSellPriceSelected: (orderPriceSelected) =>\n            dispatch(setOrderSellPriceSelected(orderPriceSelected)),\n        onSetMakerAmountSelected: (makerAmountSelected) =>\n            dispatch(setMakerAmountSelected(makerAmountSelected)),\n    };\n};\n\nconst OrderToRowContainer = connect(null, mapOrderToRowDispatchToProps)(OrderToRow);\n\nclass Orderbook extends Component {\n    state = {\n        depth: { value: this.props.defaultDepth || 5 },\n        bookOption: BookOptionType.BuySellBook,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this._spreadRowScrollable = React.createRef();\n        this._spreadRowFixed = React.createRef();\n        this._itemsScroll = React.createRef();\n    }\n\n    render() {\n        const {\n            orderBook,\n            baseToken,\n            quoteToken,\n            absoluteSpread,\n            percentageSpread,\n            currencyPair,\n            totalQuoteBuyOrders,\n            totalBaseSellOrders,\n            serverState,\n            t\n        } = this.props;\n        const { sellOrders, buyOrders, mySizeOrders } = orderBook;\n\n        const mySizeSellArray = mySizeOrders.filter((order) => {\n            return order.side === OrderSide.Sell;\n        });\n        const mySizeBuyArray = mySizeOrders.filter((order) => {\n            return order.side === OrderSide.Buy;\n        });\n        const getColor = (order) => {\n            return order.side === OrderSide.Buy ? 'success' : 'danger';\n        };\n        let content;\n\n        if((!baseToken || !quoteToken) || serverState === ServerState.NotLoaded){\n            content = (\n                <div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n                    <Loading width={40} height={40} id={`orderbooks-${this.props.isMobile ? 'mobile' : 'desktop'}`} active/>\n                </div>\n            )\n        } else if ((!buyOrders.length && !sellOrders.length) || !baseToken || !quoteToken) {\n            content = (\n                <div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n                    <EmptyText>{t('errors.noTrade')}</EmptyText>\n                </div>\n            )\n        } else {\n            const spreadAbsFixed = absoluteSpread.toFixed(currencyPair.config.pricePrecision);\n            const spreadPercentFixed = percentageSpread.toFixed(UI_DECIMALS_DISPLAYED_SPREAD_PERCENT);\n            const basePrecision = currencyPair.config.basePrecision;\n\n            const totalBase = tokenAmountInUnits(totalBaseSellOrders, baseToken.decimals, basePrecision);\n\n            const totalQuote = tokenAmountInUnits(totalQuoteBuyOrders, quoteToken.decimals, 2);\n\n            const baseSymbol = formatTokenSymbol(baseToken.symbol);\n            const quoteSymbol = formatTokenSymbol(quoteToken.symbol);\n\n            const handleDepth = (value) => {\n                this.setState({ depth: { value: Number(value) } });\n            };\n\n            const bookOptionState = this.state.bookOption;\n            const handleBookOption = (option) => {\n                this.setState({ bookOption: option });\n            };\n\n            content = (\n                <>\n                    <HeaderRow className=\"d-flex align-items-center justify-content-between\">\n                        <div className={'d-flex align-items-center'}>\n                            <StyledBookOption\n                                active={bookOptionState === BookOptionType.BuySellBook}\n                                onChange={() => handleBookOption(BookOptionType.BuySellBook)}\n                                isSell={true}\n                                isBuy\n                            />\n                            <StyledBookOption\n                                active={bookOptionState === BookOptionType.BuyBook}\n                                onChange={() => handleBookOption(BookOptionType.BuyBook)}\n                                isBuy\n                            />\n                            <StyledBookOption\n                                active={bookOptionState === BookOptionType.SellBook}\n                                onChange={() => handleBookOption(BookOptionType.SellBook)}\n                                isSell\n                            />\n                        </div>\n                        <div className=\"d-flex align-items-center\">\n                            <Dropdown size={'sm'} items={depthItems} placeholder={t('depth')} onChange={handleDepth} />\n                        </div>\n                    </HeaderRow>\n                    <TitleRow className=\"d-flex align-items-xl-center justify-content-between\">\n                        <Title>{t('asks')}</Title>\n                        <Result>{`${t('total')}: ${totalBase} ${baseSymbol}`}</Result>\n                    </TitleRow>\n                    <TableRow>\n                        <CustomHead>\n                            <TH>{t('tradeSize')}</TH>\n                            <TH>{t('price')} ({formatTokenSymbol(quoteToken.symbol)})</TH>\n                            <TH>{t('mySize')}</TH>\n                        </CustomHead>\n                        <TBody>\n\n                            {((bookOptionState === BookOptionType.BuySellBook ||\n                                bookOptionState === BookOptionType.SellBook)) && sellOrders\n                                .slice(sellOrders.length - this.state.depth.value, sellOrders.length)\n                                .map((order, index) => (\n                                    <OrderToRowContainer\n                                        key={index}\n                                        order={order}\n                                        index={index}\n                                        count={sellOrders.length}\n                                        orders={sellOrders}\n                                        baseToken={baseToken}\n                                        priceColor={getColor(order)}\n                                        mySizeOrders={mySizeSellArray}\n                                        currencyPair={currencyPair}\n                                    />\n                                ))}\n\n                            <SpreadTR>\n                                <SpreadTitle>{t('spread')}</SpreadTitle>\n                                <SpreadTitle>{spreadAbsFixed}</SpreadTitle>\n                                <SpreadTitle>{spreadPercentFixed}%</SpreadTitle>\n                            </SpreadTR>\n\n                            {((bookOptionState === BookOptionType.BuyBook ||\n                                bookOptionState === BookOptionType.BuySellBook)) && (\n                                buyOrders.slice(0, this.state.depth.value).map((order, index) => (\n                                    <OrderToRowContainer\n                                        key={index}\n                                        order={order}\n                                        index={index}\n                                        count={buyOrders.length}\n                                        orders={buyOrders}\n                                        baseToken={baseToken}\n                                        priceColor={getColor(order)}\n                                        mySizeOrders={mySizeBuyArray}\n                                        currencyPair={currencyPair}\n                                    />\n                                ))\n                            )}\n                        </TBody>\n\n\n                        <CustomHead>\n                            <SpreadTitle>{t('bids')}</SpreadTitle>\n                            <SpreadTitle>{`${totalQuote} ${quoteSymbol}`}</SpreadTitle>\n                            <SpreadTitle> </SpreadTitle>\n                        </CustomHead>\n                    </TableRow>\n                </>\n            )\n        }\n\n        return (\n            <Container>\n                {content}\n            </Container>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        baseToken: state.spot.baseToken,\n        currencyPair: state.spot.currencyPair,\n        quoteToken: state.spot.quoteToken,\n        userOrders: state.relayer.userOrders,\n        orderBookState: state.relayer.orderBookState,\n        orderBook: getOrderBook(state),\n        absoluteSpread: getSpread(state),\n        percentageSpread: getSpreadInPercentage(state),\n        totalQuoteBuyOrders: getTotalQuoteBuyOrders(state),\n        totalBaseSellOrders: getTotalBaseSellOrders(state),\n        serverState: getOrderbookState(state),\n    }\n}\n\nexport default connect(mapStateToProps)(withTranslation()(Orderbook));\n","import { withRouter } from 'react-router-dom';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport {\n    updateERC20Markets,\n    updateERC20Store,\n    updateMarketPriceEther,\n    updateMarketPriceQuote,\n    updateMarketPriceTokens\n} from \"../../../../state/spot/actions\";\nimport withWeb3Account from \"../../../../components/hoc/withWeb3Account\";\nimport {\n    UI_UPDATE_CHECK_INTERVAL, UPDATE_ERC20_MARKETS,\n    UPDATE_ETHER_PRICE_INTERVAL,\n    UPDATE_TOKENS_PRICE_INTERVAL\n} from \"../../../../constants\";\nimport Web3 from \"web3\";\n\nconst web3 = new Web3(Web3.givenProvider);\n\nclass Provider extends Component {\n    _deactivatePollingUpdates = () => {\n        if (this._updateStoreInterval) {\n            clearInterval(this._updateStoreInterval);\n            this._updateStoreInterval = undefined;\n        }\n\n        if (this._updatePriceEtherInterval) {\n            clearInterval(this._updatePriceEtherInterval);\n            this._updatePriceEtherInterval = undefined;\n        }\n        if (this._updatePriceTokensInterval) {\n            clearInterval(this._updatePriceTokensInterval);\n            this._updatePriceTokensInterval = undefined;\n        }\n        if (this._updateERC20MarketsInterval) {\n            clearInterval(this._updateERC20MarketsInterval);\n            this._updateERC20MarketsInterval = undefined;\n        }\n    };\n\n    _activatePollingUpdates = () => {\n        this.props.onUpdateERC20Markets();\n        this.props.onUpdateMarketPriceTokens();\n        this.props.onUpdateMarketPriceEther();\n        this.props.onUpdateMarketPriceQuote();\n        if(this.props.web3.account) {\n            this.props.onUpdateERC20Store(this.props.web3.account, web3.givenProvider || window.ethereum);\n        }\n        // Enables realtime updates of the store using polling\n        if (UI_UPDATE_CHECK_INTERVAL !== 0 && !this._updateStoreInterval) {\n            this._updateStoreInterval = window.setInterval(async () => {\n                if(this.props.web3.account) {\n                    this.props.onUpdateERC20Store(this.props.web3.account, web3.givenProvider || window.ethereum);\n                    this.props.onUpdateMarketPriceQuote();\n                    this.setState({\n                        isActiveCheckUpdates: true,\n                    });\n                }\n            }, UI_UPDATE_CHECK_INTERVAL);\n        }\n\n        // Enables realtime updates of the price ether and quote token using polling\n        if (!this._updatePriceEtherInterval && UPDATE_ETHER_PRICE_INTERVAL !== 0) {\n            this._updatePriceEtherInterval = window.setInterval(async () => {\n                this.props.onUpdateMarketPriceEther();\n                this.props.onUpdateMarketPriceQuote();\n            }, UPDATE_ETHER_PRICE_INTERVAL);\n        }\n        // Enables realtime updates of token prices\n        if (\n            !this._updatePriceTokensInterval &&\n            UPDATE_TOKENS_PRICE_INTERVAL !== 0\n        ) {\n            this._updatePriceTokensInterval = window.setInterval(async () => {\n                this.props.onUpdateMarketPriceTokens();\n            }, UPDATE_TOKENS_PRICE_INTERVAL);\n        }\n        // Enables realtime updates of the token markets\n        if (!this._updateERC20MarketsInterval && UPDATE_ERC20_MARKETS !== 0) {\n            this._updateERC20MarketsInterval = window.setInterval(async () => {\n                this.props.onUpdateERC20Markets();\n            }, UPDATE_ERC20_MARKETS);\n        }\n    };\n\n    componentDidMount() {\n        if (this.props.web3.account) {\n            this._activatePollingUpdates();\n        }else {\n            this.props.onUpdateERC20Markets();\n            this.props.onUpdateMarketPriceTokens();\n            this.props.onUpdateMarketPriceEther();\n            this.props.onUpdateMarketPriceQuote();\n            this.props.onUpdateERC20Store(\"\", undefined);\n            this._deactivatePollingUpdates();\n        }\n    }\n\n    componentWillUnmount = () => {\n        clearInterval(this._updateStoreInterval);\n        clearInterval(this._updatePriceEtherInterval);\n        clearInterval(this._updatePriceTokensInterval);\n        clearInterval(this._updateERC20MarketsInterval);\n    };\n\n\n    render = () => this.props.children;\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onUpdateMarketPriceEther: () => dispatch(updateMarketPriceEther()),\n        onUpdateMarketPriceQuote: () => dispatch(updateMarketPriceQuote()),\n        onUpdateMarketPriceTokens: () => dispatch(updateMarketPriceTokens()),\n        onUpdateERC20Markets: () => dispatch(updateERC20Markets()),\n        onUpdateERC20Store: (account, library) => dispatch(updateERC20Store(account, library))\n    }\n}\n\nexport default withRouter(connect(null, mapDispatchToProps)(withWeb3Account(Provider)));\n","import { connect } from 'react-redux';\n\nimport {OrderSide, ServerState, USE_RELAYER_MARKET_UPDATES} from \"../../../../constants\";\nimport { changeMarket } from \"../../../../state/spot/actions\";\nimport { isWeth } from \"../../../../utils/known_tokens\";\nimport { getCurrencyPairByTokensSymbol } from \"../../../../utils/spot/knownCurrencyPair\";\nimport { marketToStringFromTokens } from \"../../../../utils/spot/market\";\nimport { formatTokenSymbol, tokenAmountInUnits } from \"../../../../utils/spot/tokens\";\nimport Loading from \"../../../../components/Loading\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport {lighten} from \"polished\";\nimport {useTranslation} from \"react-i18next\";\n\nconst EmptyText = styled.span`\n  font-size: .875rem;\n  font-weight: 400;\n  color: ${({ theme }) => theme.text1};\n  \n`\nconst Container = styled.div`\n  width: 280px;\n  display: flex;\n  flex-direction: column;\n  \n  @media (max-width: 1400px) {\n    width: 100%;\n  }\n`\n\n\nconst TR = styled.div`\n  padding: 4px 16px;\n  border-radius: 12px;\n  margin-bottom: 4px;\n  max-height: 24px;\n  height: 24px;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  \n  @media (max-width: 1400px) {\n    max-height: 56px;\n    padding: 18px 20px;\n    border-radius: 18px;\n    height: 56px;\n  }\n`\nconst CustomHead = styled(TR)`\n  background-color: ${({ theme }) => theme.text1}10;\n  max-height: 32px;\n  height: 32px;\n  margin-bottom: 12px;\n  padding: 8px 16px;\n`\n\nconst TH = styled.span`\n  color: ${({ theme }) => theme.text1};\n  font-size: .75rem;\n  font-weight: 400;\n`\n\n\nconst TD = styled.span`\n  color: ${({ theme, variant }) => variant ? theme[variant] : theme.text1};\n  font-size: .75rem;\n  font-weight: 400;\n  padding-right: 5px;\n`\n\nconst TBody = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  max-height: 338px;\n  min-height: 338px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  \n  \n  @media (max-width: 1400px) {\n    max-height: initial;\n  }\n  \n  /* width */\n  ::-webkit-scrollbar {\n    width: 3px;\n  }\n  \n  /* Track */\n  ::-webkit-scrollbar-track {\n    box-shadow: none;\n    background-color: transparent; \n    border-radius: 10px;\n    padding: 0 6px;\n    margin: 0 6px;\n    border-right: 1px solid ${({ theme }) => theme.text1};\n  }\n   \n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n    background: ${({ theme }) => theme.text1}; \n    border-radius: 10px;\n    width: 4px !important;\n    \n  }\n  \n  /* Handle on hover */\n  ::-webkit-scrollbar-thumb:hover {\n    background: ${({ theme }) => lighten(0.08, theme.text1)}; \n  }\n`\n\nconst TableContainer = styled.div`\n  padding-top: 77px;\n  padding-left: 8px;\n  \n  \n  @media (max-width: 1400px) {\n    padding: 0;\n  }\n`\n\nconst fillToRow = (fill, index) => {\n    let amountBase;\n    USE_RELAYER_MARKET_UPDATES\n        ? (amountBase = fill.amountBase.toFixed(fill.tokenBase.displayDecimals))\n        : (amountBase = tokenAmountInUnits(fill.amountBase, fill.tokenBase.decimals, fill.tokenBase.displayDecimals));\n\n    const displayAmountBase = `${amountBase}`;\n    let currencyPair;\n    try {\n        currencyPair = getCurrencyPairByTokensSymbol(fill.tokenBase.symbol, fill.tokenQuote.symbol);\n    } catch {\n        return null;\n    }\n    const price = parseFloat(fill.price.toString()).toFixed(currencyPair.config.pricePrecision);\n\n    return (\n        <TR key={index}>\n            <TD variant={fill.side === OrderSide.Buy ? 'success' : 'danger'}>\n                {price}\n            </TD>\n            <TD>{displayAmountBase}</TD>\n            <TD>\n                {fill.timestamp.toISOString().slice(-13, -5)}\n            </TD>\n        </TR>\n    );\n};\nconst MarketFills = props => {\n    let content;\n    const { t } = useTranslation()\n    const { marketFills, baseToken, quoteToken, marketFillsState } = props;\n\n    if(!baseToken || !quoteToken || marketFillsState === ServerState.NotLoaded) {\n        content = (\n            <div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n                <Loading width={40} height={40} id={`market-fills-${props.isMobile ? 'mobile' : 'desktop'}`} active/>\n            </div>\n        )\n    }else if (!Object.keys(marketFills).length || !baseToken || !quoteToken || !marketFills[marketToStringFromTokens(baseToken, quoteToken)]) {\n        content = (\n            <div className={'d-flex flex-column'}>\n                <div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n                    <EmptyText>{t('errors.noTrade')}</EmptyText>\n                </div>\n            </div>\n        )\n    } else {\n        const market = marketToStringFromTokens(baseToken, quoteToken);\n        const tokenQuoteSymbol = isWeth(quoteToken.symbol) ? 'ETH' : quoteToken.symbol.toUpperCase();\n        const tokenBaseSymbol = isWeth(baseToken.symbol) ? 'ETH' : baseToken.symbol.toUpperCase();\n\n        content = (\n            <TableContainer className=\"d-flex flex-column\">\n                <CustomHead>\n                    <TH >{t('price')} ({tokenQuoteSymbol})</TH>\n                    <TH>{t('amount')}</TH>\n                    <TH>{t('time')}</TH>\n                </CustomHead>\n                <TBody>\n                    {marketFills[market].map((marketFill, index) => fillToRow(marketFill, index))}\n                </TBody>\n            </TableContainer>\n        )\n    }\n    return (\n        <Container>\n            {content}\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        baseToken: state.spot.baseToken,\n        marketFills: state.spotUI.marketFills,\n        quoteToken: state.spot.quoteToken,\n        marketFillsState:  state.relayer.marketFillsState,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        changeMarket: (currencyPair) => dispatch(changeMarket(currencyPair))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MarketFills);\n","import { connect } from 'react-redux';\nimport styled from \"styled-components\";\nimport React from \"react\";\nimport {OrderStatus} from \"@0x/types\";\nimport { lighten } from 'polished';\n\nimport { isWeth } from \"../../../../utils/known_tokens\";\nimport { tokenAmountInUnits } from \"../../../../utils/spot/tokens\";\nimport { OrderSide } from '../../../../constants';\nimport { getCurrencyPairFromTokens } from \"../../../../utils/spot/knownCurrencyPair\";\nimport Loading from \"../../../../components/Loading\";\nimport { ResponsiveCard } from \"../../../../components/Card\";\nimport {cancelOrder} from \"../../../../state/relayer/actions\";\nimport {CloseIcon} from \"../../../../theme\";\nimport {RowBetween} from \"../../../../components/Row\";\nimport {useActiveWeb3React} from \"../../../../hooks\";\nimport {useTranslation} from \"react-i18next\";\n\nconst Card = styled(ResponsiveCard)`\n\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  margin-bottom: 10px;\n  min-height: 385px;\n  \n    & .card-body {\n      padding: 20px 30px 30px;\n      display: flex;\n      flex-direction: column;\n    }\n  \n  @media (min-width: 1400px) {\n    width: 570px;\n    height: 385px;\n  \n    & .card-body {\n      padding: 15px;\n      display: flex;\n      flex-direction: column;\n    }\n  }\n`\n\nconst CardTitle = styled.h4`\n  margin-top: 5px;\n  padding: 0;\n  margin-bottom: 10px;\n  font-size: .875rem;\n  font-weight: 700;\n  color: ${({ theme }) => theme.text1};\n`\n\nconst Content = styled.div`\n  background-color: ${({ theme }) => theme.bg3};\n  border-radius: 18px;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  max-height: 323px;\n  overflow: hidden;\n  \n  \n  \n`\n\n\nconst InnerContent = styled.div`\n  width: 100%;\n  height: 100%;\n  max-height: 100%;\n  overflow-x: hidden;\n  overflow-y: auto;\n  flex: 1;\n  padding: 12px;\n  \n  \n  @media (max-width: 1400px) {\n    padding: 20px;\n  }\n  \n  /* width */\n  ::-webkit-scrollbar {\n    width: 3px;\n  }\n  \n  /* Track */\n  ::-webkit-scrollbar-track {\n    box-shadow: none;\n    background-color: transparent; \n    border-radius: 10px;\n    padding: 0 6px;\n    margin: 0 6px;\n    border-right: 1px solid ${({ theme }) => theme.text1};\n  }\n   \n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n    background: ${({ theme }) => theme.text1}; \n    border-radius: 10px;\n    width: 4px !important;\n    \n  }\n  \n  /* Handle on hover */\n  ::-webkit-scrollbar-thumb:hover {\n    background: ${({ theme }) => lighten(0.08, theme.text1)}; \n  }\n  \n`\n\nconst EmptyText = styled.span`\n  font-size: .875rem;\n  font-weight: 400;\n  color: ${({ theme }) => theme.text1};\n  \n`\n\nconst TR = styled.div`\n  padding: 4px 16px;\n  border-radius: 12px;\n  margin-bottom: 10px;\n  max-height: 24px;\n  height: 24px;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr 1fr;\n`\nconst CustomHead = styled(TR)`\n  background-color: ${({ theme }) => theme.text1}10;\n  max-height: 40px;\n  height: 40px;\n  padding: 12px 16px;\n  margin-bottom: 12px;\n`\n\nconst TH = styled.span`\n  color: ${({ theme }) => theme.text1};\n  font-size: .75rem;\n  font-weight: 400;\n`\n\n\nconst TD = styled.span`\n  color: ${({ theme, variant }) => variant ? theme[variant] : theme.text1};\n  font-size: .875rem;\n  font-weight: 400;\n  padding-right: 5px;\n`\n\nconst TBody = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  \n  /* width */\n  ::-webkit-scrollbar {\n    width: 3px;\n  }\n  \n  /* Track */\n  ::-webkit-scrollbar-track {\n    box-shadow: none;\n    background-color: transparent; \n    border-radius: 10px;\n    padding: 0 6px;\n    margin: 0 6px;\n    border-right: 1px solid ${({ theme }) => theme.text1};\n  }\n   \n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n    background: ${({ theme }) => theme.text1}; \n    border-radius: 10px;\n    width: 4px !important;\n    \n  }\n  \n  /* Handle on hover */\n  ::-webkit-scrollbar-thumb:hover {\n    background: ${({ theme }) => lighten(0.08, theme.text1)}; \n  }\n`\n\nconst Close = styled(CloseIcon)`\n  width: 16px;\n  height: 16px;\n`\n\nconst orderToRow = (order, index, baseToken, quoteToken, cancelOrder) => {\n    const sideLabel = order.side === OrderSide.Sell ? 'Sell' : 'Buy';\n    const size = tokenAmountInUnits(order.size, baseToken.decimals, baseToken.displayDecimals);\n    let status = '--';\n    let isOrderFillable = false;\n\n    const filled = order.filled\n        ? tokenAmountInUnits(order.filled, baseToken.decimals, baseToken.displayDecimals)\n        : null;\n    if (order.status) {\n        isOrderFillable = order.status === OrderStatus.Fillable;\n        status = isOrderFillable ? 'Open' : 'Filled';\n    }\n    const currencyPair = getCurrencyPairFromTokens(baseToken, quoteToken);\n    const price = parseFloat(order.price.toString()).toFixed(currencyPair.config.pricePrecision);\n\n    return (\n        <TR key={index}>\n            <TD variant={order.side === OrderSide.Buy ? 'success' : 'danger'}>{sideLabel}</TD>\n            <TD>{size}</TD>\n            <TD>{filled}</TD>\n            <TD>{price}</TD>\n            <TD>\n                <div className=\"d-flex align-items-center justify-content-between\">\n                    <span>{status}</span>\n\n                    <Close onClick={cancelOrder.bind(this, order)} />\n                </div>\n            </TD>\n        </TR>\n    );\n};\n\n\nconst OrderHistory = props => {\n    const { account } = useActiveWeb3React();\n    const { t } = useTranslation()\n    const { orders, baseToken, quoteToken } = props;\n    const ordersToShow = orders.filter(order => order.status === OrderStatus.Fillable);\n\n    let content;\n\n    if(!baseToken || !quoteToken) {\n        content = (\n            <div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n                <Loading width={40} height={40} id={`order-history-${props.isMobile ? 'mobile' : 'desktop'}`} active/>\n            </div>\n        )\n    } else if (!ordersToShow.length || !baseToken || !quoteToken || !account) {\n        content = (\n            <div className=\"w-100 h-100 d-flex align-items-center justify-content-xl-center\">\n                <EmptyText>{t('errors.noTrade')}</EmptyText>\n            </div>\n        )\n    } else {\n        const tokenQuoteSymbol = isWeth(quoteToken.symbol) ? 'ETH' : quoteToken.symbol.toUpperCase();\n        const tokenBaseSymbol = isWeth(baseToken.symbol) ? 'ETH' : baseToken.symbol.toUpperCase();\n\n        content = (\n            <div className=\"d-flex flex-column\">\n                <CustomHead>\n                    <TH>{t('side')}</TH>\n                    <TH>{t('size')} ({tokenBaseSymbol})</TH>\n                    <TH>{t('filled')} ({tokenBaseSymbol})</TH>\n                    <TH>{t('price')} ({tokenQuoteSymbol})</TH>\n                    <TH>{t('status')}</TH>\n                </CustomHead>\n                <TBody>\n                    {ordersToShow.map((order, index) => orderToRow(order, index, baseToken, quoteToken, props.onCancelOrder))}\n                </TBody>\n            </div>\n        )\n    }\n\n    return (\n        <Card>\n            <CardTitle>{t('openOrders')}</CardTitle>\n            <Content>\n                <InnerContent>\n                    {content}\n                </InnerContent>\n            </Content>\n        </Card>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        baseToken: state.spot.baseToken,\n        orders: state.relayer.userOrders,\n        quoteToken: state.spot.quoteToken,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onCancelOrder: (order) => dispatch(cancelOrder(order))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(OrderHistory);\n","import React, {useEffect, useState} from 'react'\nimport styled from 'styled-components'\n\nimport { RowBetween } from '../Row'\nimport { Input as NumericalInput } from '../NumericalInput'\nimport {tokenAmountInUnits, unitsInTokenAmount} from \"../../utils/spot/tokens\";\nimport {ZERO} from \"../../constants\";\nimport {ETHER, Token} from \"@uniswap/sdk\";\nimport {useCurrencyBalance} from \"../../state/wallet/hooks\";\nimport {useActiveWeb3React} from \"../../hooks\";\n\nconst InputRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap};\n  align-items: center;\n  \n  padding: 0.625rem 0 0;\n  \n  \n  @media (min-width: 768px) {\n    padding-top: 0.75rem;\n  }\n`\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 34px;\n  \n  @media (min-width: 768px) {\n    margin-bottom: 15px;\n  }\n`\n\nconst Label = styled.span`\n  color: ${({ theme }) => theme.text1};\n  font-size: .875rem;\n  font-weight: 400;\n  padding: 0 ;\n  \n  @media (min-width: 768px) {\n    padding: 0 1rem;\n  font-weight: 700;\n  }\n`\n\nconst InputContainer = styled.div`\n  position: relative;\n  display: flex;\n  align-items: center;\n  flex-wrap: nowrap;\n  flex: 1;\n  \n`\n\nconst LabelRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap};\n  align-items: center;\n  color: ${({ theme }) => theme.text1};\n  font-size: 0.75rem;\n  line-height: 1rem;\n  padding: 0;\n`\n\n\nconst Aligner = styled.span`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  @media (min-width: 768px) {\n  justify-content: space-between;\n  }\n`\n\nconst InputPanel = styled.div`\n  ${({ theme }) => theme.flexColumnNoWrap};\n  position: relative;\n  border-radius: 0.42rem;\n`\n\n\nconst StyledTokenName = styled.span`\n  font-size:  0.875rem;\n  font-weight: 500;\n  \n  @media (min-width: 768px) {\n    font-size:  1rem;\n    margin-right: auto;\n  }\n\n`\n\n\nconst CurrencySelect = styled.button`\n  align-items: center;\n  height: 48px;\n  font-size: 0.875rem;\n  font-weight: 500;\n  background-color: ${({ theme }) => theme.bg3};\n  color: ${({ theme }) => theme.text1};\n  border-bottom-left-radius: 18px;\n  border-top-left-radius: 18px;\n  box-shadow: none;\n  outline: none;\n  cursor: pointer;\n  user-select: none;\n  border: none;\n  padding: 0.875rem 0.625rem;\n  min-width: 116px;\n  width: 116px;\n  text-align: center;\n  \n  \n  @media (min-width: 768px) {\n  min-width: 90px;\n  width: 90px;\n  padding: .625rem 1rem;\n  font-size: 1rem;\n  font-weight: 700;\n  text-align: left;\n  }\n\n  :focus,\n  :hover {\n    background-color: ${({ theme }) => theme.bg1};\n    outline: none;\n  }\n`\n\nlet BalanceRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap};\n  align-items: center;\n  margin-top: 10px;\n  color: ${({ theme }) => theme.text1};\n  opacity: 0.5;\n  font-size: 0.75rem;\n  font-weight: 400;\n  line-height: 1rem;\n  padding: 0;\n  \n  \n  @media (min-width: 768px) {\n    padding: 0 1rem;\n  }\n`\n\nexport default class SpotInputPanel extends React.Component {\n    state = {\n        valueStr: this.props.value\n            ? tokenAmountInUnits(this.props.value, this.props.decimals, this.props.valueFixedDecimals)\n            : '',\n    }\n\n\n    _updateValue = value => {\n\n        const newValue = unitsInTokenAmount(value || '0', this.props.decimals);\n        const invalidValue = this.props.min && newValue.isLessThan(this.props.min);\n        if (invalidValue) {\n            return;\n        }\n\n        this.props.onUserInput(newValue);\n        this.setState({\n            valueStr: value,\n        })\n    };\n\n\n    static getDerivedStateFromProps = (props, state) => {\n        const { decimals, value, valueFixedDecimals } = props;\n        const { valueStr } = state;\n\n        if (!value) {\n            return {\n                valueStr: '',\n            };\n        } else if (value && !unitsInTokenAmount(valueStr || '0', decimals).eq(value)) {\n            return {\n                valueStr: tokenAmountInUnits(value, decimals, valueFixedDecimals),\n            };\n        } else {\n            return null;\n        }\n    };\n\n\n    render() {\n        const {\n            label = 'Input',\n            disable = false,\n            selected,\n            hideInput = false,\n            id,\n            showBalance = true,\n            balanceText,\n        } = this.props;\n        const { valueStr } = this.state;\n\n        return (\n            <InputPanel id={id}>\n                <Container>\n                    {!hideInput && (\n                        <LabelRow>\n                            <RowBetween>\n                                <Label>\n                                    {label}\n                                </Label>\n                            </RowBetween>\n                        </LabelRow>\n                    )}\n                    <InputRow style={hideInput ? { padding: '0', borderRadius: '0.42rem' } : {}} selected={disable}>\n\n                        <CurrencySelect\n                            selected={!!selected}\n                            className=\"open-currency-select-button\"\n                        >\n                            <Aligner>\n                                <StyledTokenName className=\"token-symbol-container\" active={Boolean(selected)}>\n                                    {(selected && selected?.length > 20\n                                        ? (selected?.slice(0, 4) +\n                                            '...' +\n                                            selected?.slice(selected?.length - 5, selected?.length)).toUpperCase()\n                                        : selected.toUpperCase()) || `Select`}\n                                </StyledTokenName>\n                            </Aligner>\n                        </CurrencySelect>\n\n                        {!hideInput && (\n                            <InputContainer>\n                                <NumericalInput\n                                    size={'sm'}\n                                    className=\"token-amount-input pl-3 \"\n                                    value={valueStr}\n                                    onUserInput={this._updateValue}\n                                />\n                            </InputContainer>\n                        )}\n                    </InputRow>\n                    {selected && showBalance && (\n                        <BalanceRow>\n                            {balanceText()}\n                        </BalanceRow>\n                    )}\n                </Container>\n            </InputPanel>\n        )\n    }\n\n}\n","import { BigNumber, NULL_BYTES } from '@0x/utils';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\n\nimport {OrderSide, ZERO} from '../../constants';\nimport { fetchTakerAndMakerFee } from \"../../state/relayer/actions\";\nimport { getOpenBuyOrders, getOpenSellOrders, getQuoteInUsd } from \"../../state/selectors\";\nimport {getKnownTokens} from \"../../utils/known_tokens\";\nimport {formatTokenSymbol, tokenAmountInUnits, unitsInTokenAmount} from \"../../utils/spot/tokens\";\nimport {toUnitAmount} from \"../../lib/helper\";\nimport {buildMarketOrders, sumTakerAssetFillableOrders} from \"../../utils/spot/orders\";\nimport withWeb3Account from \"../hoc/withWeb3Account\";\nimport {withTranslation} from \"react-i18next\";\n\nconst Row = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  &:not(:last-child) {\n    margin-bottom: 30px;\n  }\n`\n\nconst Text = styled.span`\n  font-size: .75rem;\n  font-weight: 400;\n  color: ${({ theme }) => theme.text1};\n  \n  \n  @media (min-width: 768px) {\n    padding-left: 1rem;\n    font-size: .875rem;\n    font-weight: 700;\n  }\n`\n\nconst OrderType = {\n    Limit: 'Limit',\n    Market: 'Market',\n}\n\nclass OrderDetails extends React.Component {\n    state = {\n        makerFeeAmount: ZERO,\n        takerFeeAmount: ZERO,\n        makerFeeAssetData: NULL_BYTES,\n        takerFeeAssetData: NULL_BYTES,\n        quoteTokenAmount: ZERO,\n        canOrderBeFilled: true,\n    };\n\n    componentDidUpdate = async (prevProps) => {\n        const newProps = this.props;\n        if (\n            newProps.tokenPrice !== prevProps.tokenPrice ||\n            newProps.orderType !== prevProps.orderType ||\n            newProps.tokenAmount !== prevProps.tokenAmount ||\n            newProps.currencyPair !== prevProps.currencyPair ||\n            newProps.orderSide !== prevProps.orderSide\n        ) {\n            await this._updateOrderDetailsState();\n        }\n    };\n\n    _updateOrderDetailsState = async () => {\n        const { currencyPair, orderType, orderSide } = this.props;\n        if (!currencyPair) {\n            return;\n        }\n\n        if (orderType === OrderType.Limit) {\n            const { tokenAmount, tokenPrice, onFetchTakerAndMakerFee, web3 } = this.props;\n            const { quote, base } = currencyPair;\n            const quoteToken = getKnownTokens().getTokenBySymbol(quote);\n            const baseToken = getKnownTokens().getTokenBySymbol(base);\n            // TODO: Check if this precision is enough, price was giving error on precision\n            const priceInQuoteBaseUnits = unitsInTokenAmount(tokenPrice.toString(), quoteToken.decimals);\n            const baseTokenAmountInUnits = toUnitAmount(tokenAmount, baseToken.decimals);\n            const quoteTokenAmount = baseTokenAmountInUnits.multipliedBy(priceInQuoteBaseUnits);\n            const { makerFee, makerFeeAssetData, takerFee, takerFeeAssetData } = await onFetchTakerAndMakerFee(\n                tokenAmount,\n                tokenPrice,\n                orderSide,\n                web3.account,\n                window.ethereum || web3.library\n            );\n            this.setState({\n                makerFeeAmount: makerFee,\n                makerFeeAssetData,\n                takerFeeAmount: takerFee,\n                takerFeeAssetData,\n                quoteTokenAmount,\n            });\n        } else {\n            const { tokenAmount, openSellOrders, openBuyOrders } = this.props;\n            const isSell = orderSide === OrderSide.Sell;\n            const [ordersToFill, amountToPayForEachOrder, canOrderBeFilled] = buildMarketOrders(\n                {\n                    amount: tokenAmount,\n                    orders: isSell ? openBuyOrders : openSellOrders,\n                },\n                orderSide,\n            );\n            // HACK(dekz): we assume takerFeeAssetData is either empty or is consistent through all orders\n            const firstOrderWithFees = ordersToFill.find(o => o.takerFeeAssetData !== NULL_BYTES);\n            const takerFeeAssetData = firstOrderWithFees ? firstOrderWithFees.takerFeeAssetData : NULL_BYTES;\n            const takerFeeAmount = ordersToFill.reduce((sum, order) => sum.plus(order.takerFee), ZERO);\n            const quoteTokenAmount = sumTakerAssetFillableOrders(orderSide, ordersToFill, amountToPayForEachOrder);\n\n            this.setState({\n                takerFeeAmount,\n                takerFeeAssetData,\n                quoteTokenAmount,\n                canOrderBeFilled,\n            });\n        }\n    };\n\n    _getCostStringForRender = () => {\n        const { canOrderBeFilled } = this.state;\n        const { orderType } = this.props;\n        if (orderType === OrderType.Market && !canOrderBeFilled) {\n            return `---`;\n        }\n\n        const { quote } = this.props.currencyPair;\n        const quoteToken = getKnownTokens().getTokenBySymbol(quote);\n        const { quoteTokenAmount } = this.state;\n        //  const quoteTokenAmountUnits = tokenAmountInUnits(quoteTokenAmount, quoteToken.decimals);\n        const costAmount = tokenAmountInUnits(quoteTokenAmount, quoteToken.decimals, quoteToken.displayDecimals);\n        return `${costAmount} ${formatTokenSymbol(quote)}`;\n    };\n\n    _getMedianPriceStringForRender = () => {\n        const { canOrderBeFilled } = this.state;\n        const { orderType } = this.props;\n        const { tokenAmount } = this.props;\n        if (orderType === OrderType.Market && !canOrderBeFilled) {\n            return `---`;\n        }\n        if (tokenAmount.eq(0)) {\n            return `---`;\n        }\n        const { quote, base, config } = this.props.currencyPair;\n        const { quoteTokenAmount } = this.state;\n        const quoteToken = getKnownTokens().getTokenBySymbol(quote);\n        const baseToken = getKnownTokens().getTokenBySymbol(base);\n        const quoteTokenAmountUnits = new BigNumber(tokenAmountInUnits(quoteTokenAmount, quoteToken.decimals, 18));\n        const baseTokenAmountUnits = new BigNumber(tokenAmountInUnits(tokenAmount, baseToken.decimals, 18));\n        const priceDisplay = quoteTokenAmountUnits.div(baseTokenAmountUnits).toFormat(config.pricePrecision + 1);\n        return `${priceDisplay} ${formatTokenSymbol(quote)}`;\n    };\n\n    _getCostLabelStringForRender = () => {\n        const { qouteInUSD, orderSide, t } = this.props;\n        if (qouteInUSD) {\n            return orderSide === OrderSide.Sell ? t('total') : t('cost') ;\n        } else {\n            return orderSide === OrderSide.Sell ? t('total')  : t('cost') ;\n        }\n    };\n\n    componentDidMount = async () => {\n        await this._updateOrderDetailsState();\n    };\n\n    render = () => {\n        // const fee = this._getFeeStringForRender();\n        const cost = this._getCostStringForRender();\n        const costText = this._getCostLabelStringForRender();\n        const priceMedianText = this._getMedianPriceStringForRender();\n        const { orderType, t } = this.props;\n\n        return (\n            <>\n                <Row>\n                    <Text>{costText}</Text>\n                    <Text>{cost}</Text>\n                </Row>\n                {orderType === OrderType.Market && (\n                    <Row>\n                        <Text>{t('medianPrice')}:</Text>\n                        <Text>{priceMedianText}</Text>\n                    </Row>\n                )}\n            </>\n        );\n    };\n}\n\n\n\nconst mapStateToProps = (state) => {\n    return {\n        openSellOrders: getOpenSellOrders(state),\n        openBuyOrders: getOpenBuyOrders(state),\n        qouteInUSD: getQuoteInUsd(state),\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        onFetchTakerAndMakerFee: (amount, price, side, account, library) =>\n            dispatch(fetchTakerAndMakerFee(amount, price, side, account, library)),\n    };\n};\nexport default withWeb3Account(connect(mapStateToProps, mapDispatchToProps)(withTranslation(OrderDetails)));\n","import { connect } from 'react-redux';\nimport {BigNumber} from \"@0x/utils\";\nimport {Component} from \"react\";\nimport { Button } from 'react-bootstrap';\nimport styled from 'styled-components';\n\nimport {ZERO, IS_ORDER_LIMIT_MATCHING, OrderSide} from \"../../../../constants\";\nimport {\n    startBuySellLimitMatchingSteps,\n    startBuySellLimitSteps,\n    startBuySellMarketSteps,\n} from '../../../../state/spotUI/actions';\nimport { fetchTakerAndMakerFee } from \"../../../../state/relayer/actions\";\nimport { isWeth, getKnownTokens } from \"../../../../utils/known_tokens\";\nimport { formatTokenSymbol, tokenAmountInUnits, tokenAmountInUnitsToBigNumber, unitsInTokenAmount } from \"../../../../utils/spot/tokens\";\nimport {\n    getCurrencyPair,\n    getMakerAmountSelected,\n    getOpenBuyOrders,\n    getOpenSellOrders,\n    getOrderPriceSelected\n} from \"../../../../state/selectors\";\nimport { ResponsiveCard } from \"../../../../components/Card\";\nimport SpotInputPanel from \"../../../../components/SpotInputPanel\";\nimport OrderDetailsContainer from '../../../../components/OrderDetailsContainer'\nimport withBalance from \"../../../../components/hoc/withBalance\";\nimport withWeb3Account from \"../../../../components/hoc/withWeb3Account\";\nimport {withTranslation} from \"react-i18next\";\n\nconst Card = styled(ResponsiveCard)`\n  margin-bottom: 20px;\n  \n  & .card-body {\n    padding: 30px;      \n  }\n  \n  @media (min-width: 1400px) {\n    width: 580px;\n    height: 385px;\n    margin-bottom: 10px;\n  \n    & .card-body {\n      padding: 20px;\n      display: flex;\n      flex-direction: column;\n      \n    }\n  }\n`\n\nconst QuoteContainer = styled.div`\n  display: flex;\n  flex-direction: column;  \n  margin-bottom: -5px;\n  \n  @media (max-width: 1400px) {\n    padding-top: 0;\n    margin-bottom: -24px;\n  }\n`\n\nconst TabsContainer = styled.div`\n  margin-left: -20px;\n  margin-right: -20px;\n  margin-bottom: 10px;\n  \n  @media (max-width: 1400px) {\n    flex-direction: column-reverse;\n    align-items: stretch !important;\n    margin-bottom: 45px;\n  }\n`\n\nconst TabWrapper = styled.div`\n  padding: 0 20px;\n  flex: 1;\n  \n  @media (max-width: 1400px) {\n    &:not(:first-child) {\n      margin-bottom: 10px;\n    }\n  }\n`\n\nconst Tab = styled(Button)`\n  height: 48px;\n  font-size: 1rem;\n  font-weight: 500;\n  width: 100%;\n`\n\nconst Content = styled.div`\n  flex: 1;\n  position: relative;\n`\n\nconst DetailsContainer = styled.div`\n  margin-bottom: auto;\n`\n\nconst MarketType = styled.div`\n  position: absolute;\n  top: -14px;\n  right: 0;\n  z-index: 2;\n`\n\nconst MarketButton = styled.button`\n  :disabled {\n    color: ${({ theme }) => theme.text1};\n    opacity: 1;\n  }\n`\n\nconst OrderType = {\n    Limit: 'Limit',\n    Market: 'Market',\n}\n\nconst TIMEOUT_BTN_ERROR = 2000;\nconst TIMEOUT_CARD_ERROR = 4000;\n\nclass BuySell extends Component {\n    state = {\n        makerAmount: null,\n        price: null,\n        orderType: OrderType.Limit,\n        tab: OrderSide.Buy,\n        error: {\n            btnMsg: null,\n            cardMsg: null,\n        },\n    };\n\n    componentDidUpdate = async (prevProps) => {\n        const newProps = this.props;\n        if (newProps.orderPriceSelected !== prevProps.orderPriceSelected && this.state.orderType === OrderType.Limit) {\n            this.setState({\n                price: newProps.orderPriceSelected,\n            });\n        }\n\n        if (\n            newProps.makerAmountSelected !== prevProps.makerAmountSelected &&\n            this.state.orderType === OrderType.Market\n        ) {\n            this.setState({\n                makerAmount: newProps.makerAmountSelected,\n            });\n        }\n    };\n\n\n    changeTab = (tab) => () => this.setState({ tab });\n\n    updateMakerAmount = (newValue) => {\n        this.setState({\n            makerAmount: newValue,\n        });\n    };\n\n\n    getAmountAvailableLabel = () => {\n        const { baseTokenBalance, quoteTokenBalance, totalEthBalance } = this.props;\n        const { tab } = this.state;\n        if (tab === OrderSide.Sell) {\n            if (baseTokenBalance) {\n                const tokenBalanceAmount = isWeth(baseTokenBalance.token.symbol)\n                    ? totalEthBalance\n                    : baseTokenBalance.balance;\n                const baseBalanceString = tokenAmountInUnits(\n                    tokenBalanceAmount,\n                    baseTokenBalance.token.decimals,\n                    baseTokenBalance.token.displayDecimals,\n                );\n                const symbol = formatTokenSymbol(baseTokenBalance.token?.symbol);\n                return `Available: ${baseBalanceString}  ${symbol}`;\n            } else {\n                return null;\n            }\n        } else {\n            if (quoteTokenBalance) {\n                const tokenBalanceAmount = isWeth(quoteTokenBalance.token?.symbol)\n                    ? totalEthBalance\n                    : quoteTokenBalance.balance;\n                const quoteBalanceString = tokenAmountInUnits(\n                    tokenBalanceAmount,\n                    quoteTokenBalance.token?.decimals,\n                    quoteTokenBalance.token?.displayDecimals,\n                );\n                const symbol = formatTokenSymbol(quoteTokenBalance.token?.symbol);\n                return `Available: ${quoteBalanceString}  ${symbol}`;\n            } else {\n                return null;\n            }\n        }\n    };\n\n\n    updatePrice = (price) => {\n        this.setState({ price });\n    };\n\n\n\n    submit = async () => {\n        if(!this.props.web3.account) {\n            this.props.toggleWalletModal();\n            return false;\n        }\n        const { currencyPair, tokensBalance, wethBalance, ethBalance, web3 } = this.props;\n        const minAmount = currencyPair.config.minAmount;\n        const decimals = getKnownTokens().getTokenBySymbol(currencyPair.base).decimals;\n        const minAmountUnits = unitsInTokenAmount(String(minAmount), decimals);\n\n        const orderSide = this.state.tab;\n        const makerAmount = this.state.makerAmount || minAmountUnits;\n        const price = this.state.price || new BigNumber(0);\n\n        const orderFeeData = await this.props.onFetchTakerAndMakerFee(makerAmount, price, this.state.tab, web3.account, window.ethereum || web3.library);\n\n        if (this.state.orderType === OrderType.Limit) {\n            if (IS_ORDER_LIMIT_MATCHING) {\n                const result = await this.props.onSubmitLimitOrderMatching(makerAmount, price, orderSide, orderFeeData, tokensBalance, wethBalance, ethBalance);\n                if (result === 0) {\n                    await this.props.onSubmitLimitOrder(makerAmount, price, orderSide, orderFeeData, tokensBalance, wethBalance);\n                }\n            } else {\n                await this.props.onSubmitLimitOrder(makerAmount, price, orderSide, orderFeeData, tokensBalance, wethBalance);\n            }\n        } else {\n            try {\n                await this.props.onSubmitMarketOrder(makerAmount, orderSide, tokensBalance, wethBalance, ethBalance.balance);\n            } catch (error) {\n                this.setState(\n                    {\n                        error: {\n                            btnMsg: 'Error',\n                            cardMsg: error.message,\n                        },\n                    },\n                    () => {\n                        // After a timeout both error message and button gets cleared\n                        setTimeout(() => {\n                            this.setState({\n                                error: {\n                                    ...this.state.error,\n                                    btnMsg: null,\n                                },\n                            });\n                        }, TIMEOUT_BTN_ERROR);\n                        setTimeout(() => {\n                            this.setState({\n                                error: {\n                                    ...this.state.error,\n                                    cardMsg: null,\n                                },\n                            });\n                        }, TIMEOUT_CARD_ERROR);\n                    },\n                );\n            }\n        }\n        this._reset();\n    };\n\n\n    _reset = () => {\n        this.setState({\n            makerAmount: null,\n        });\n    };\n\n    _switchToMarket = () => {\n        this.setState({\n            orderType: OrderType.Market,\n        });\n    };\n\n    _switchToLimit = () => {\n        this.setState({\n            orderType: OrderType.Limit,\n        });\n    };\n\n\n    _getCostLabelStringForRender = () => {\n        const { qouteInUSD, orderSide } = this.props;\n        if (qouteInUSD) {\n            return orderSide === OrderSide.Sell ? 'Total' : 'Cost';\n        } else {\n            return orderSide === OrderSide.Sell ? 'Total' : 'Cost';\n        }\n    };\n\n    render() {\n        const { currencyPair, quoteTokenBalance, baseTokenBalance, totalEthBalance, baseToken, quoteToken, t } = this.props;\n        const { makerAmount, price, tab, orderType, error } = this.state;\n\n        const buySellInnerTabs = [\n            {\n                active: orderType === OrderType.Limit,\n                onClick: this._switchToLimit,\n                text: t('limit'),\n            },\n            {\n                active: orderType === OrderType.Market,\n                onClick: this._switchToMarket,\n                text: t('market'),\n            },\n        ];\n        const decimals = getKnownTokens().getTokenBySymbol(currencyPair.base).decimals;\n        const quoteDecimals = getKnownTokens().getTokenBySymbol(currencyPair.quote).decimals;\n        // Configs\n        const pricePrecision = currencyPair.config.pricePrecision;\n        const minAmount = currencyPair.config.minAmount;\n        const minAmountUnits = unitsInTokenAmount(String(currencyPair.config.minAmount), decimals);\n\n        const basePrecision = currencyPair.config.basePrecision;\n        const isWethQuote = quoteTokenBalance && isWeth(quoteTokenBalance.token?.symbol);\n        const isWethBase = baseTokenBalance && isWeth(baseTokenBalance.token?.symbol);\n\n        const quoteUnits = isWethQuote\n            ? tokenAmountInUnitsToBigNumber(totalEthBalance || ZERO, 18)\n            : tokenAmountInUnitsToBigNumber((quoteTokenBalance && quoteTokenBalance.balance) || ZERO, quoteDecimals);\n\n        const baseBalance = isWethBase ? totalEthBalance : (baseTokenBalance && baseTokenBalance.balance) || ZERO;\n\n        const amount = makerAmount || minAmountUnits;\n        const makerAmountUnits = tokenAmountInUnitsToBigNumber(amount, decimals);\n        const isMakerAmountEmpty = amount === null || amount.isZero();\n        const isMakerAmountMin = amount === null || amount.isLessThan(minAmountUnits);\n\n        const isPriceEmpty = price === null || price.isZero();\n        const isPriceMin =\n            price === null || price.isLessThan(new BigNumber(1).div(new BigNumber(10).pow(pricePrecision)));\n        const isOrderTypeLimitIsEmpty =\n            orderType === OrderType.Limit && (isMakerAmountEmpty || isPriceEmpty || isPriceMin);\n        const isBuy = tab === OrderSide.Buy;\n        const isOrderTypeLimitOverflow =\n            (orderType === OrderType.Limit && isBuy && makerAmountUnits.multipliedBy(price || ZERO).gt(quoteUnits)) ||\n            (!isBuy && amount.gt(baseBalance));\n\n        const isOrderTypeMarketIsEmpty = orderType === OrderType.Market && (isMakerAmountEmpty || isMakerAmountMin);\n        const baseSymbol = formatTokenSymbol(currencyPair.base);\n        const btnPrefix = tab === OrderSide.Buy ? `${t('orderSide.buy')} ` : `${t('orderSide.sell')} `;\n        const btnText = error && error.btnMsg ? 'Error' : btnPrefix + baseSymbol;\n\n        return (\n            <Card>\n                <TabsContainer className=\"d-flex align-items-center justify-content-between\">\n                    <TabWrapper>\n                        <Tab variant={tab === OrderSide.Buy ? 'secondary-light' : 'light-secondary-light'} onClick={this.changeTab(OrderSide.Buy)}>\n                            {t('orderSide.buy')}\n                        </Tab>\n                    </TabWrapper>\n                    <TabWrapper>\n                        <Tab variant={tab === OrderSide.Sell ? 'secondary-light' : 'light-secondary-light'} onClick={this.changeTab(OrderSide.Sell)}>\n                            {t('orderSide.sell')}\n                        </Tab>\n                    </TabWrapper>\n                </TabsContainer>\n                <Content>\n                    <MarketType>\n                        {buySellInnerTabs.map((tab, index) => {\n                            return (\n                                <>\n                                    <MarketButton className=\"btn btn-link px-0\" disabled={tab.active} onClick={tab.onClick}>{tab.text}</MarketButton>\n                                    {index < buySellInnerTabs.length - 1 && (<span className={'px-2'}>/</span>)}\n                                </>\n                            )\n                        })}\n                    </MarketType>\n                    <SpotInputPanel\n                        token={baseToken}\n                        decimals={decimals}\n                        value={amount}\n                        onUserInput={this.updateMakerAmount}\n                        selected={currencyPair.base}\n                        valueFixedDecimals={basePrecision}\n                        label={`Amount (Min: ${minAmount})`}\n                        balanceText={this.getAmountAvailableLabel}\n                        showBalance={true}\n                        min={minAmountUnits}\n                    />\n                    {orderType === OrderType.Limit && (\n                        <QuoteContainer>\n                            <SpotInputPanel\n                                token={quoteToken}\n                                decimals={0}\n                                min={ZERO}\n                                value={price}\n                                onUserInput={this.updatePrice}\n                                selected={currencyPair.quote}\n                                valueFixedDecimals={pricePrecision}\n                                label={t('pricePerToken')}\n                                showBalance={false}\n                            />\n                        </QuoteContainer>\n                    )}\n                    <DetailsContainer className=\"d-flex flex-column\">\n                        <OrderDetailsContainer\n                            orderType={orderType}\n                            orderSide={tab}\n                            tokenAmount={amount}\n                            tokenPrice={price || new BigNumber(1).div(new BigNumber(10).pow(pricePrecision))}\n                            currencyPair={currencyPair}\n                        />\n                    </DetailsContainer>\n                    <div className=\"d-flex flex-column align-items-xl-center align-items-stretch justify-content-center mt-auto\">\n                        <Button\n                            disabled={\n                                this.props.web3.account & (\n                                    isOrderTypeLimitIsEmpty ||\n                                    isOrderTypeMarketIsEmpty ||\n                                    isOrderTypeLimitOverflow\n                                )\n                            }\n                            onClick={this.submit}\n                            variant={'primary'}\n                            style={{\n                                minWidth: 250,\n                                height: 56,\n                                marginTop: 10,\n                                fontSize: 20,\n                                fontWeight: 700\n                            }}\n                        >\n                            {!this.props.web3.account ? t('wallet.connect') : btnText}\n                        </Button>\n                    </div>\n                </Content>\n            </Card>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        baseToken: state.spot.baseToken,\n        quoteToken: state.spot.quoteToken,\n        currencyPair: getCurrencyPair(state),\n        orderPriceSelected: getOrderPriceSelected(state),\n        makerAmountSelected: getMakerAmountSelected(state),\n        openSellOrders: getOpenSellOrders(state),\n        openBuyOrders: getOpenBuyOrders(state),\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        onSubmitLimitOrder: (amount, price, side, orderFeeData, tokensBalance, wethBalance) =>\n            dispatch(startBuySellLimitSteps(amount, price, side, orderFeeData, tokensBalance, wethBalance)),\n        onSubmitLimitOrderMatching: (\n            amount,\n            price,\n            side,\n            orderFeeData,\n            tokensBalance,\n            wethBalance,\n            ethBalance\n        ) => dispatch(startBuySellLimitMatchingSteps(amount, price, side, orderFeeData, tokensBalance, wethBalance, ethBalance)),\n        onSubmitMarketOrder: (\n            amount,\n            side,\n            tokensBalance,\n            wethBalance,\n            ethBalance\n        ) =>\n            dispatch(startBuySellMarketSteps(amount, side, tokensBalance, wethBalance, ethBalance)),\n        onFetchTakerAndMakerFee: (amount, price, side, account, library) =>\n            dispatch(fetchTakerAndMakerFee(amount, price, side, account, library)),\n    };\n};\n\n\nexport default withBalance(connect(mapStateToProps, mapDispatchToProps)(withTranslation()(withWeb3Account(BuySell))));\n","import {ConfirmationPendingContent} from \"../../../../../components/TransactionConfirmationModal\";\nimport React, {useEffect} from \"react\";\nimport { connect } from \"react-redux\";\n\nimport {useActiveWeb3React} from \"../../../../../hooks\";\nimport {createSignedOrder} from \"../../../../../state/spotUI/actions\";\nimport {getStepsModalCurrentStep} from \"../../../../../state/selectors\";\nimport {submitLimitOrder} from \"../../../../../state/relayer/actions\";\nimport Web3 from \"web3\";\n\nconst web3 = new Web3(Web3.givenProvider);\nconst SignOrderStepContainer = props => {\n    const { account, library } = useActiveWeb3React();\n    const { step } = props;\n    const { amount, price, side } = step;\n\n    const submitOrder = async () => {\n\n        try {\n            const signedOrder = await props.createSignedOrder(amount, price, side, account, web3.givenProvider || window.ethereum, library);\n            await props.submitLimitOrder(signedOrder, amount, side)\n\n            props.onDone();\n        } catch(e) {\n            props.onDismiss();\n        }\n    }\n\n    useEffect(() => {\n        submitOrder();\n    }, [step, account])\n\n    return (\n        <ConfirmationPendingContent onDismiss={props.onDismiss} pendingText={'Waiting for confirmation'} />\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        step: getStepsModalCurrentStep(state)\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        submitLimitOrder: (signedOrder, amount, side, account, library) =>\n            dispatch(submitLimitOrder(signedOrder, amount, side, account, library)),\n        createSignedOrder: (amount, price, side, account, web3, library) =>\n            dispatch(createSignedOrder(amount, price, side, account, web3, library)),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignOrderStepContainer);\n","import {ConfirmationPendingContent} from \"../../../../../components/TransactionConfirmationModal\";\nimport React, {useEffect} from \"react\";\nimport { connect } from \"react-redux\";\n\nimport {useActiveWeb3React} from \"../../../../../hooks\";\nimport {getCurrencyPair, getQuoteToken, getStepsModalCurrentStep} from \"../../../../../state/selectors\";\nimport {\n    getOrderbookAndUserOrders,\n    submitLimitMatchingOrder,\n} from \"../../../../../state/relayer/actions\";\nimport Web3 from \"web3\";\n\nconst web3 = new Web3(Web3.givenProvider);\nconst BuySellTokenMatchingStepContainer = props => {\n    const { account, library } = useActiveWeb3React();\n    const { step, onSubmitLimitMatchingOrder } = props;\n    const { amount, side, price } = step;\n\n    const submitOrder = async () => {\n        try {\n            const { txHash, amountInReturn } = await onSubmitLimitMatchingOrder(amount, price, side, account, web3.givenProvider || window.ethereum);\n            props.onDone(txHash);\n            props.refreshOrders();\n        } catch(e) {\n            props.onDismiss();\n        }\n    }\n\n    useEffect(() => {\n        submitOrder();\n    }, [step, account])\n\n    return (\n        <ConfirmationPendingContent onDismiss={props.onDismiss} pendingText={'Waiting for confirmation'} />\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        step: getStepsModalCurrentStep(state),\n        currencyPair: getCurrencyPair(state),\n        quoteToken: getQuoteToken(state)\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onSubmitLimitMatchingOrder: (amount, price, side, account, library) =>\n            dispatch(submitLimitMatchingOrder(amount, price, side, account, library)),\n        refreshOrders: (account, library) => dispatch(getOrderbookAndUserOrders(account, library)),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BuySellTokenMatchingStepContainer);\n","import {ConfirmationPendingContent} from \"../../../../../components/TransactionConfirmationModal\";\nimport React, {useEffect} from \"react\";\nimport { connect } from \"react-redux\";\n\nimport {useActiveWeb3React} from \"../../../../../hooks\";\nimport {getCurrencyPair, getQuoteToken, getStepsModalCurrentStep} from \"../../../../../state/selectors\";\nimport {\n    getOrderbookAndUserOrders,\n    submitMarketOrder\n} from \"../../../../../state/relayer/actions\";\nimport Web3 from \"web3\";\n\nconst web3 = new Web3(Web3.givenProvider);\nconst BuySellTokenMatchingStepContainer = props => {\n    const { account, library } = useActiveWeb3React();\n    const { step, onSubmitMarketOrder } = props;\n    const { amount, side, context } = step;\n\n    const submitOrder = async () => {\n        try {\n            if(context === 'order') {\n                const { txHash, amountInReturn } = await onSubmitMarketOrder(amount, side, account, web3.givenProvider || window.ethereum);\n                props.onDone(txHash);\n                props.refreshOrders();\n            }\n        } catch(e) {\n            props.onDismiss();\n        }\n    }\n\n    useEffect(() => {\n        submitOrder();\n    }, [step, account])\n\n    return (\n        <ConfirmationPendingContent onDismiss={props.onDismiss} pendingText={'Waiting for confirmation'} />\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        step: getStepsModalCurrentStep(state),\n        currencyPair: getCurrencyPair(state),\n        quoteToken: getQuoteToken(state)\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onSubmitMarketOrder: (amount, side, account, library) =>\n            dispatch(submitMarketOrder(amount, side, account, library)),\n        refreshOrders: (account, library) => dispatch(getOrderbookAndUserOrders(account, library)),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BuySellTokenMatchingStepContainer);\n","import { Modal } from '../../../../components/Modal/bootstrap';\nimport {useDispatch, useSelector} from \"react-redux\";\n\nimport {getStepsModalCurrentStep} from \"../../../../state/selectors\";\nimport {setStepsModalCurrentStep} from \"../../../../state/spotUI/actions\";\nimport {CHAIN_ID, StepKind} from \"../../../../constants\";\n\nimport UnlockToken from \"../../../Borrow/ModalProvider/modals/UnlockToken\";\nimport SignOrderStepContainer from \"./modals/SignOrderStepContainer\";\nimport BuySellTokenMatchingStepContainer from \"./modals/BuySellTokenMatchingStepContainer\";\nimport BuySellTokenStepContainer from \"./modals/BuySellTokenStepContainer\";\nimport React, {useState} from \"react\";\nimport {TransactionSubmittedContent} from \"../../../../components/TransactionConfirmationModal\";\n\n\nconst ModalProvider = props => {\n    const [submitted, setSubmitted] = useState(false);\n    const [txHash, setTxHash] = useState(null)\n    const currentStep = useSelector(getStepsModalCurrentStep);\n    const dispatch = useDispatch();\n    const isOpen = currentStep !== null;\n\n    const hideModal = () => {\n        setSubmitted(false);\n        setTxHash(null);\n        dispatch(setStepsModalCurrentStep(null))\n    }\n\n    const onDone = (tx) => {\n        setSubmitted(true);\n        setTxHash(tx);\n    }\n\n    return (\n        <>\n            {props.children}\n            <Modal show={isOpen} centered onHide={hideModal}>\n                <Modal.Body className={'px-0 py-0'}>\n                    {!submitted ? (\n\n                        <>\n                            {currentStep && currentStep.kind === StepKind.ToggleTokenLock && (\n                                (<UnlockToken onDismiss={hideModal}/>)\n                            )}\n\n                            {currentStep && currentStep.kind === StepKind.BuySellLimit && (\n                                <SignOrderStepContainer onDismiss={hideModal} onDone={onDone} />\n                            )}\n                            {currentStep && currentStep.kind === StepKind.BuySellLimitMatching && (\n                                <BuySellTokenMatchingStepContainer onDismiss={hideModal} onDone={onDone}/>\n                            )}\n                            {currentStep && currentStep.kind === StepKind.BuySellMarket && (\n                                <BuySellTokenStepContainer onDismiss={hideModal} onDone={onDone}/>\n                            )}\n                        </>\n                    ) : (\n                        <TransactionSubmittedContent chainId={CHAIN_ID} hash={txHash} onDismiss={hideModal}/>\n                    )}\n                </Modal.Body>\n            </Modal>\n        </>\n\n    )\n}\n\nexport default ModalProvider;\n","import TradingViewWidget, { Themes } from 'react-tradingview-widget';\nimport {useEffect, useState} from 'react';\nimport styled from \"styled-components\";\n\nimport Page from \"../../components/Page\";\nimport CheckBalance from '../../components/CheckBalance';\nimport StyledCard, { ResponsiveCard } from \"../../components/Card\";\nimport marketTokens from \"../../constants/marketTokens.json\";\nimport MarketStats from \"./components/MarketStats\";\nimport MarketDetails from \"./components/MarketDetails\";\nimport Orderbook from \"./components/Orderbook\";\nimport Provider from './components/Provider';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport MarketFills from \"./components/MarketFills\";\nimport OrderHistory from \"./components/OrderHistory\";\nimport BuySell from \"./components/BuySell\";\nimport ModalProvider from \"./components/BuySell/ModalProvider\";\nimport {updateGasInfo} from \"../../state/currency/actions\";\n\n\nconst Row = styled.div`\n  display: ${({ justMobile }) => justMobile ? 'none' : \"flex\"};\n  margin-left: -5px;\n  margin-right: -5px;\n  \n  @media (max-width: 1400px) {\n    flex-direction: column;\n    display: ${({ justDesktop }) => justDesktop ? 'none' : \"flex\"};\n  }\n`\nconst Col = styled.div`\n  padding: 0 5px;\n  display: flex;\n  flex-direction: column;\n`\n\nconst Card = styled(StyledCard)`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  margin-bottom: 20px;\n  overflow: hidden;\n  \n    & .card-body {\n      padding: 0;\n    }\n    @media (min-width: 1400px) {\n      margin-bottom: 10px;\n      width: 570px;\n      height: 373px;\n    }\n`\n\nconst ContainerCard = styled(ResponsiveCard)`\n  display: flex;\n  margin-bottom: 20px;\n  \n  & .card-body {\n    padding: 30px;\n  }\n  \n  @media (min-width: 1400px) {\n    width: 582px;\n    height: 486px;\n    margin-bottom: 10px;\n  \n    & .card-body {\n      padding: 12px 20px 20px;\n      display: flex;\n    }\n`\n\nconst Spot = props => {\n    const [pair, setPair] = useState('BINANCE:ETHDAI');\n    const { baseToken, quoteToken } = useSelector(state => state.spot);\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        if(!baseToken || !quoteToken) {\n            setPair('BINANCE:ETHDAI');\n        } else {\n            const quote = quoteToken && quoteToken.symbol.toLowerCase() === 'weth' ? 'ETH' : quoteToken.symbol.toUpperCase();\n            const base = baseToken && baseToken.symbol.toLowerCase() === 'weth' ? 'ETH' : baseToken.symbol.toUpperCase();\n            setPair(`BINANCE:${base}${quote}`)\n        }\n    }, [baseToken, quoteToken])\n\n    useEffect(() => {\n        dispatch(updateGasInfo())\n    }, [dispatch]);\n\n    return (\n        <Page title={false} morePadding size={'xl'}>\n            <Provider>\n                <ModalProvider>\n                    <Row justDesktop>\n                        <Col>\n                            <MarketStats />\n                        </Col>\n                        <Col>\n                            <MarketDetails isTradingGraphic={true}/>\n                            <Card>\n                                <TradingViewWidget\n                                    symbol={pair}\n                                    theme={Themes.DARK}\n                                    allow_symbol_change={false}\n                                    width={'100%'}\n                                    height={373}\n                                />\n                            </Card>\n                        </Col>\n                        <Col>\n                            <ContainerCard>\n                                <Orderbook />\n                                <MarketFills />\n                            </ContainerCard>\n                        </Col>\n                    </Row>\n                    <Row className={'justify-content-end'} justDesktop>\n                        <Col>\n                            <OrderHistory/>\n                        </Col>\n                        <Col>\n                            <BuySell/>\n                        </Col>\n                    </Row>\n                    <Row justMobile>\n                        <Col>\n                            <MarketDetails isMobile={true} isTradingGraphic={true}/>\n                            <Card>\n                                <TradingViewWidget\n                                    symbol={pair}\n                                    theme={Themes.DARK}\n                                    allow_symbol_change={false}\n                                    width={'100%'}\n                                    height={528}\n                                />\n                            </Card>\n                        </Col>\n\n                        <Col>\n                            <BuySell/>\n                        </Col>\n\n                        <Col>\n                            <ContainerCard>\n                                <Orderbook isMobile={true} />\n                            </ContainerCard>\n                        </Col>\n                        <Col>\n                            <ContainerCard>\n                                <MarketFills isMobile={true} />\n                            </ContainerCard>\n                        </Col>\n                        <Col>\n                            <MarketStats isMobile={true} />\n                        </Col>\n\n                        <Col>\n                            <OrderHistory isMobile={true}/>\n                        </Col>\n                    </Row>\n                </ModalProvider>\n            </Provider>\n        </Page>\n    )\n}\n\nexport default Spot;\n"],"sourceRoot":""}