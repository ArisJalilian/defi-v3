{"version":3,"sources":["components/hoc/withWeb3Account.tsx","components/NumericalInput/index.tsx","hooks/useTokenToBalance.js","components/hoc/withBalance.js","components/BookOption/index.js","components/UI/Dropdown/index.js","assets/images/global/dropdown.svg","../node_modules/react-feather/dist/icons/alert-triangle.js","utils/spot/numberUtils.js","pages/Borrow/ModalProvider/modals/UnlockToken.js","../node_modules/react-feather/dist/icons/chevron-down.js","../node_modules/react-feather/dist/icons/arrow-up-circle.js","pages/Spot/components/MarketStats/index.js","pages/Spot/components/MarketDetails/index.js","pages/Spot/components/Orderbook/index.js","pages/Spot/components/Provider/index.js","pages/Spot/components/MarketFills/index.js","pages/Spot/components/OrderHistory/index.js","components/SpotInputPanel/index.js","components/OrderDetailsContainer/index.js","pages/Spot/components/BuySell/index.js","pages/Spot/components/BuySell/modals/SignOrderStepContainer.js","pages/Spot/components/BuySell/modals/BuySellTokenMatchingStepContainer.js","pages/Spot/components/BuySell/modals/BuySellTokenStepContainer.js","pages/Spot/components/BuySell/ModalProvider.js","pages/Spot/index.js"],"names":["withWeb3Account","Component","props","context","useActiveWeb3React","toggleWalletModal","useWalletModalToggle","web3","StyledInput","styled","input","error","theme","red1","text1","bg3","align","size","reverse","noBorder","modalBG","text3","inputRegex","RegExp","Input","React","memo","value","onUserInput","placeholder","rest","onChange","event","nextUserInput","target","replace","test","escapeRegExp","inputMode","title","autoComplete","autoCorrect","type","pattern","minLength","maxLength","spellCheck","useSpotBalances","account","library","baseToken","useSelector","getBaseToken","quoteToken","getQuoteToken","knownTokens","useMemo","getKnownTokens","tokens","getTokens","wethToken","getWethToken","allBalances","address","useState","balances","setBalances","fetchBalances","a","tokensToTokenBalances","res","useEffect","length","useTokenToBalance","window","ethereum","ethBalance","useETHBalances","wethBalance","find","b","token","symbol","tokensBalance","filter","ethereumBalance","ETH","toExact","bn","BigNumber","currency","undefined","balance","totalEthBalance","total","plus","baseTokenBalance","searchToken","tokenBalances","wethTokenBalance","tokenToFind","quoteTokenBalance","withBalance","Wrapper","div","active","Cell","variant","BookOption","onClick","isSell","isBuy","Button","button","secondary2","primary","darken","ButtonText","span","DropdownList","isOpen","DropdownItem","Dropdown","items","setActive","open","setOpen","toggleModal","useCallback","changeActiveHandler","item","hasOwnProperty","src","require","default","map","i","bind","_extends","Object","assign","arguments","source","key","prototype","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","AlertTriangle","forwardRef","_ref","ref","_ref$color","color","_ref$size","createElement","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","x1","y1","x2","y2","propTypes","PropTypes","string","oneOfType","number","displayName","padRightSplitted","numBg","decimals","UI_DECIMALS_DISPLAYED_ORDER_SIZE","numBgToFixed","toFixed","numBgToString","toString","decimalPlaces","split","diff","num","isZero","UnlockToken","unlocking","setUnlocking","currentStep","getStepsModalCurrentStep","dispatch","useDispatch","unlockToken","getContractWrappers","getProvider","contractWrappers","approveAddress","contractAddresses","erc20Proxy","erc20Token","ERC20TokenContract","amount","UNLIMITED_ALLOWANCE_IN_BASE_UNITS","approve","sendTransactionAsync","from","tx","awaitTransactionSuccessAsync","stepsModalAdvanceStep","onDismiss","pendingText","ChevronDown","points","ArrowUpCircle","cx","cy","r","Card","ResponsiveCard","EmptyText","CustomInputGroup","InputGroup","TokenFiltersTabs","success","danger","TokenFiltersTab","Text","AutoHeight","lighten","withRouter","connect","state","spot","currencyPair","markets","marketsStats","marketsStatsState","relayer","changeMarket","t","useTranslation","query","setQuery","getMarketFilters","selectedFilter","setSelectedFilter","_setTokensFilterTab","changeQueryHandler","e","columns","dataField","text","formatter","cellContent","row","rowIndex","baseSymbol","formatTokenSymbol","base","toUpperCase","quoteSymbol","quote","_getLastPrice","marketStats","m","pair","marketToString","formatExtraData","market","marketStat","last_price","config","pricePrecision","rowEvents","newSearch","queryString","stringify","history","push","match","path","callback","_setSelectedMarket","ServerState","NotLoaded","className","SearchIcon","Form","id","index","filteredMarkets","filterMarketsByTokenSymbol","searchedMarkets","filterMarketsByString","bordered","classes","bootstrap4","keyField","remote","data","_getMarkets","Loading","isMobile","StyledCard","Logo","Img","highPrice","getCurrentMarketTodayHighPrice","lowerPrice","getCurrentMarketTodayLowerPrice","volume","getCurrentMarketTodayQuoteVolume","closedOrders","getCurrentMarketTodayClosedOrders","lastPrice","getCurrentMarketLastPrice","toAbsoluteUrl","icon","USE_RELAYER_MARKET_UPDATES","displayDecimals","tokenAmountInUnits","wrapperClasses","ResponsiveTable","breakpoint","direction","withoutBorder","Container","BookOptionType","StyledBookOption","HeaderRow","TitleRow","TableRow","Title","Result","TR","CustomHead","InnerTR","TH","SpreadTitle","SpreadTR","TD","TBody","depthItems","OrderToRow","_setOrderPriceSelected","order","orders","totalSize","ZERO","side","OrderSide","Buy","reduce","sumSize","sizeItem","price","lte","gte","onSetOrderBuyPriceSelected","onSetOrderSellPriceSelected","onSetOrderPriceSelected","onSetMakerAmountSelected","priceColor","mySizeOrders","basePrecision","mySize","mySizeItem","eq","mySizeConverted","isMySizeEmpty","numSplitted","parseFloat","OrderToRowContainer","orderPriceSelected","setOrderPriceSelected","setOrderBuyPriceSelected","setOrderSellPriceSelected","makerAmountSelected","setMakerAmountSelected","Orderbook","depth","defaultDepth","bookOption","_spreadRowScrollable","createRef","_spreadRowFixed","_itemsScroll","content","orderBook","absoluteSpread","percentageSpread","totalQuoteBuyOrders","totalBaseSellOrders","serverState","sellOrders","buyOrders","mySizeSellArray","Sell","mySizeBuyArray","getColor","spreadAbsFixed","spreadPercentFixed","UI_DECIMALS_DISPLAYED_SPREAD_PERCENT","totalBase","totalQuote","bookOptionState","handleBookOption","option","setState","Number","slice","count","userOrders","orderBookState","getOrderBook","getSpread","getSpreadInPercentage","getTotalQuoteBuyOrders","getTotalBaseSellOrders","getOrderbookState","withTranslation","Web3","givenProvider","providers","HttpProvider","process","Provider","_deactivatePollingUpdates","_updateStoreInterval","clearInterval","_updatePriceEtherInterval","_updatePriceTokensInterval","_updateERC20MarketsInterval","_activatePollingUpdates","onUpdateERC20Markets","onUpdateMarketPriceTokens","onUpdateMarketPriceEther","onUpdateMarketPriceQuote","onUpdateERC20Store","currentProvider","UI_UPDATE_CHECK_INTERVAL","setInterval","isActiveCheckUpdates","UPDATE_ETHER_PRICE_INTERVAL","UPDATE_TOKENS_PRICE_INTERVAL","UPDATE_ERC20_MARKETS","componentWillUnmount","render","children","updateMarketPriceEther","updateMarketPriceQuote","updateMarketPriceTokens","updateERC20Markets","updateERC20Store","TableContainer","marketFills","spotUI","marketFillsState","marketToStringFromTokens","tokenQuoteSymbol","isWeth","marketFill","amountBase","tokenBase","displayAmountBase","getCurrencyPairByTokensSymbol","tokenQuote","timestamp","toISOString","fillToRow","CardTitle","h4","Content","InnerContent","Close","CloseIcon","onCancelOrder","cancelOrder","ordersToShow","status","OrderStatus","Fillable","tokenBaseSymbol","sideLabel","filled","getCurrencyPairFromTokens","orderToRow","InputRow","flexRowNoWrap","Label","InputContainer","LabelRow","Aligner","InputPanel","flexColumnNoWrap","StyledTokenName","CurrencySelect","bg1","BalanceRow","SpotInputPanel","valueStr","valueFixedDecimals","_updateValue","newValue","unitsInTokenAmount","min","isLessThan","label","disable","selected","hideInput","showBalance","balanceText","style","padding","borderRadius","Boolean","NumericalInput","getDerivedStateFromProps","Row","OrderType","OrderDetails","makerFeeAmount","takerFeeAmount","makerFeeAssetData","NULL_BYTES","takerFeeAssetData","quoteTokenAmount","canOrderBeFilled","componentDidUpdate","prevProps","newProps","tokenPrice","orderType","tokenAmount","orderSide","_updateOrderDetailsState","onFetchTakerAndMakerFee","getTokenBySymbol","priceInQuoteBaseUnits","baseTokenAmountInUnits","toUnitAmount","multipliedBy","makerFee","takerFee","openSellOrders","openBuyOrders","buildMarketOrders","ordersToFill","amountToPayForEachOrder","firstOrderWithFees","o","sum","sumTakerAssetFillableOrders","_getCostStringForRender","costAmount","_getMedianPriceStringForRender","quoteTokenAmountUnits","baseTokenAmountUnits","priceDisplay","toFormat","_getCostLabelStringForRender","qouteInUSD","componentDidMount","cost","costText","priceMedianText","getOpenSellOrders","getOpenBuyOrders","getQuoteInUsd","fetchTakerAndMakerFee","QuoteContainer","TabsContainer","TabWrapper","Tab","DetailsContainer","MarketType","MarketButton","BuySell","makerAmount","tab","btnMsg","cardMsg","changeTab","updateMakerAmount","getAmountAvailableLabel","tokenBalanceAmount","baseBalanceString","quoteBalanceString","updatePrice","submit","minAmount","minAmountUnits","String","orderFeeData","IS_ORDER_LIMIT_MATCHING","onSubmitLimitOrderMatching","onSubmitLimitOrder","onSubmitMarketOrder","message","setTimeout","_reset","_switchToMarket","_switchToLimit","buySellInnerTabs","quoteDecimals","isWethQuote","isWethBase","quoteUnits","tokenAmountInUnitsToBigNumber","baseBalance","makerAmountUnits","isMakerAmountEmpty","isMakerAmountMin","isPriceEmpty","isPriceMin","pow","isOrderTypeLimitIsEmpty","isOrderTypeLimitOverflow","gt","isOrderTypeMarketIsEmpty","btnPrefix","btnText","disabled","OrderDetailsContainer","minWidth","marginTop","fontSize","fontWeight","getCurrencyPair","getOrderPriceSelected","getMakerAmountSelected","startBuySellLimitSteps","startBuySellLimitMatchingSteps","startBuySellMarketSteps","step","submitLimitOrder","signedOrder","createSignedOrder","submitOrder","onDone","onSubmitLimitMatchingOrder","submitLimitMatchingOrder","refreshOrders","getOrderbookAndUserOrders","txHash","amountInReturn","submitMarketOrder","ModalProvider","submitted","setSubmitted","setTxHash","hideModal","setStepsModalCurrentStep","show","centered","onHide","Body","chainId","CHAIN_ID","hash","kind","StepKind","ToggleTokenLock","BuySellLimit","BuySellLimitMatching","BuySellMarket","BuySellTokenStepContainer","justMobile","justDesktop","Col","ContainerCard","Spot","setPair","toLowerCase","updateGasInfo","Page","morePadding","isTradingGraphic","Themes","DARK","allow_symbol_change"],"mappings":"yIAWeA,IARS,SAACC,GACxB,OAAO,SAACC,GACP,IAAMC,EAAUC,cACVC,EAAoBC,cAC1B,OAAO,cAACL,EAAD,aAAWM,KAAMJ,EAASE,kBAAmBA,GAAuBH,O,2kCCH7E,IAAMM,EAAcC,UAAOC,MAAV,KAQP,gBAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,MAAV,OAAuBD,EAAQC,EAAMC,KAAOD,EAAME,SAQvC,qBAAGF,MAAkBG,OAE3B,gBAAGC,EAAH,EAAGA,MAAH,OAAeA,GAASA,KAI5B,kBAAwB,OAAxB,EAAGC,KAA4B,OAAS,UACpB,qBAAGC,QAAyB,IAAH,cAC5B,qBAAGA,QAAyB,IAAH,cACvB,qBAAGA,QAAyB,WAAH,OAC5B,qBAAGA,QAAyB,WAAH,OAEnC,gBAAGC,EAAH,EAAGA,SAAH,SAAaD,QAAyB,WAAaC,EAAW,WAAH,YAE5D,gBAAGP,EAAH,EAAGA,MAAH,SAAUO,SAA2B,OAAH,oBAAyBP,EAAMQ,YAoBtE,qBAAGR,MAAkBS,SAI1BC,EAAaC,OAAO,0BAEbC,EAAQC,IAAMC,MAAK,YAayC,IAZxEC,EAYuE,EAZvEA,MACAC,EAWuE,EAXvEA,YACAC,EAUuE,EAVvEA,YACAZ,EASuE,EATvEA,KACGa,EAQoE,4DAOvE,OACC,cAACtB,EAAD,2BACKsB,GADL,IAECH,MAAOA,EACPI,SAAU,SAACC,GAVI,IAACC,GACK,MADLA,EAYND,EAAME,OAAOP,MAAMQ,QAAQ,KAAM,OAXhBb,EAAWc,KAAKC,YAAaJ,MACxDL,EAAYK,IAaZK,UAAU,UACVC,MAAM,eACNC,aAAa,MACbC,YAAY,MACZxB,KAAMA,EAENyB,KAAK,OACLC,QAAQ,sBACRd,YAAaA,GAAe,MAC5Be,UAAW,EACXC,UAAW,GACXC,WAAW,e,4JCrEDC,EAAkB,WAAO,IAAD,EACP3C,cAArB4C,EAD4B,EAC5BA,QAASC,EADmB,EACnBA,QAEXC,EAAYC,YAAYC,KACxBC,EAAaF,YAAYG,KAEzBC,EAAcC,mBAAQ,WAC3B,OAAOC,gBACL,IACGC,EAASF,mBAAQ,WACtB,OAAOD,EAAYI,cACjB,IAEGC,EAAYJ,mBAAQ,WACzB,OAAOD,EAAYM,iBACjB,IAKGC,EA1C0B,SAACJ,EAAQK,EAASd,GAAa,IAAD,EAC9Be,mBAAS,IADqB,mBACvDC,EADuD,KAC7CC,EAD6C,KAGxDC,EAAa,uCAAG,4BAAAC,EAAA,0DACjBL,EADiB,gCAEFM,YAAsBX,EAAQK,EAASd,GAFrC,OAEdqB,EAFc,OAGpBJ,EAAYI,GAHQ,2CAAH,qDAUnB,OAJAC,qBAAU,WACTJ,MACE,CAACJ,EAASL,IAENF,mBAAQ,WACd,OAAIS,EAASO,OAAS,EACdP,EAEA,KAEN,CAACF,EAASE,EAAUP,IAuBHe,CAHVjB,mBAAQ,WACjB,MAAM,GAAN,mBAAWE,GAAX,CAAmBE,MACjB,CAACA,EAAWF,IAC0BV,EAAS0B,OAAOC,UAAY1B,GAE/D2B,EAAaC,YAAe,CAAC7B,IAE7B8B,EAActB,mBAAQ,WAC3B,OAAOM,EAAYiB,MAAK,SAACC,GAAD,OAAOA,EAAEC,MAAMC,SAAWtB,EAAUsB,YAC1D,CAACpB,IAEEqB,EAAgB3B,mBAAQ,WAC7B,OAAOM,EAAYsB,QAAO,SAACJ,GAAD,OAAOA,EAAEC,MAAMC,SAAWtB,EAAUsB,YAC5D,CAACpB,IAEEuB,EAAkB7B,mBAAQ,WAC/B,IAAM8B,EAAMV,EAAW5B,GAAW4B,EAAW5B,GAASuC,UAAY,KAC5DC,EAAK,IAAIC,YAAUH,EAAG,SAAG,GAAM,KAErC,MAAO,CACNL,MAAOL,EAAW5B,GAAW4B,EAAW5B,GAAS0C,cAAWC,EAC5DC,QAASJ,KAER,CAACZ,IAEEiB,EAAkBrC,mBAAQ,WAC/B,GAAIsB,GAAeO,EAAiB,CACnC,IAAIS,EAAQhB,EAAYc,QAKxB,YAJ8BD,IAA1BN,EAAgBJ,QACnBa,EAAQT,EAAgBO,QAAQG,KAAKjB,EAAYc,UAG3CE,KAIN,CAACT,EAAiBP,IAEfkB,EAAmBxC,mBAAQ,WAChC,OAAOyC,YAAY,CAAEC,cAAef,EAAegB,iBAAkBrB,EAAasB,YAAalD,MAC7F,CAACA,EAAWiC,EAAeL,IAExBuB,EAAoB7C,mBAAQ,WACjC,OAAOyC,YAAY,CAAEC,cAAef,EAAegB,iBAAkBrB,EAAasB,YAAa/C,MAC7F,CAACA,EAAY8B,EAAeL,IAE/B,OAAOtB,mBAAQ,WACd,MAAO,CACN6C,oBACAL,mBACAH,kBACAjB,WAAYS,EACZP,cACAK,mBAEC,CAACnC,EAASE,EAAWG,EAAYS,EAAakC,EAAkBK,KC9FrDC,IAPK,SAACrG,GACpB,OAAO,SAACC,GACP,IAAM+D,EAAWlB,IACjB,OAAO,cAAC9C,EAAD,2BAAeC,GAAW+D,O,unBCHnC,IAAMsC,EAAU9F,UAAO+F,IAAV,KAUQ,qBAAG5F,MAAkBG,OAE9B,qBAAG0F,OAAuB,IAAM,SAItCC,EAAOjG,UAAO+F,IAAV,KAIW,gBAAG5F,EAAH,EAAGA,MAAO+F,EAAV,EAAUA,QAAV,OAAyBA,EAAU/F,EAAM+F,GAAW,aAiB1DC,IAVI,SAAC1G,GACnB,OACC,eAACqG,EAAD,yBAASE,OAAQvG,EAAMuG,OAAQI,QAAS3G,EAAM6B,UAAc7B,GAA5D,cACC,cAACwG,EAAD,CAAMC,QAASzG,EAAM4G,QAAU,WAC/B,cAACJ,EAAD,IACA,cAACA,EAAD,CAAMC,QAASzG,EAAM6G,OAAS,kB,qoEC7BjC,IAAMR,EAAU9F,UAAO+F,IAAV,KAMPQ,EAASvG,UAAOwG,OAAV,KACD,kBAAwB,OAAxB,EAAGhG,KAA4B,OAAS,UAClC,kBAAwB,OAAxB,EAAGA,KAA4B,OAAS,UACvC,kBAAwB,OAAxB,EAAGA,KAA4B,OAAS,UACxC,kBAAwB,OAAxB,EAAGA,KAA4B,OAAS,UACrC,kBACP,cADO,EAAG0F,QACI,4BAA8B,+BAKhD,gBAAGA,EAAH,EAAGA,QAAS/F,EAAZ,EAAYA,MAAZ,MAAqC,cAAZ+F,EAA0B/F,EAAMsG,WAAatG,EAAMuG,WAIhE,gBAAGR,EAAH,EAAGA,QAAS/F,EAAZ,EAAYA,MAAZ,MAAqC,cAAZ+F,EAA0B/F,EAAMsG,WAAatG,EAAMuG,WACvF,qBAAGvG,MAAkBE,SAMV,gBAAG6F,EAAH,EAAGA,QAAS/F,EAAZ,EAAYA,MAAZ,MACP,cAAZ+F,EAA0BS,YAAO,GAAKxG,EAAMsG,YAAcE,YAAO,GAAKxG,EAAMuG,YAE1E,kBAA8B,cAA9B,EAAGR,QAAyC,4BAA8B,+BACpE,qBAAG/F,MAAkBE,SAY1BuG,EAAa5G,UAAO6G,KAAV,KAWVC,EAAe9G,UAAO+F,IAAV,KASV,kBAAwB,OAAxB,EAAGvF,KAAY,iBAEX,kBAAwB,OAAxB,EAAGA,KAAY,iBAIb,qBAAGuG,OAAoB,0DACzB,qBAAGA,OAAoB,WACpB,qBAAGA,OAAoB,sBAOhCC,EAAehH,UAAOwG,OAAV,KAsBC,kBAAwB,OAAxB,EAAGhG,KAAY,iBA0CnByG,IAtCE,SAACxH,GAAW,IAAD,EACC8D,mBAAS9D,EAAMyH,MAAMzH,EAAMuG,SAAW,MADvC,mBACpBA,EADoB,KACZmB,EADY,OAEH5D,oBAAS,GAFN,mBAEpB6D,EAFoB,KAEdC,EAFc,KAIrBC,EAAcC,uBAAY,WAC/BF,GAAQ,SAACD,GAAD,OAAWA,OACjB,IAEGI,EAAsBD,uBAC3B,SAACE,GACAN,EAAUM,GACVJ,GAAQ,GACJ5H,EAAMiI,eAAe,aACxBjI,EAAM6B,SAASmG,EAAKvG,SAGtB,CAACzB,EAAM6B,WAGR,OACC,eAACwE,EAAD,WACC,eAACS,EAAD,CAAQL,QAASzG,EAAMyG,QAASE,QAASkB,EAAaP,OAAQK,EAAM5G,KAAMf,EAAMe,MAAQ,KAAxF,UACC,cAACoG,EAAD,UAAaZ,EAASA,EAAOlE,MAAQrC,EAAM2B,aAAe,WAC1D,cAAC,IAAD,CAAKuG,IAAKC,EAAQ,MAA8CC,aAEjE,cAACf,EAAD,CAAcC,OAAQK,EAAM5G,KAAMf,EAAMe,MAAQ,KAAhD,SACEf,EAAMyH,MAAMY,KAAI,SAACL,EAAMM,GACvB,OACC,cAACf,EAAD,CAAcxG,KAAM,KAAM4F,QAASoB,EAAoBQ,K,UAAWP,GAAlE,SACEA,EAAK3F,OADP,mBAA0FiG,c,kCC1IhG,OAAe,cAA0B,sC,kCCAzC,8CAASE,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAU1G,GAAU,IAAK,IAAIsG,EAAI,EAAGA,EAAIK,UAAUrE,OAAQgE,IAAK,CAAE,IAAIM,EAASD,UAAUL,GAAI,IAAK,IAAIO,KAAOD,EAAcH,OAAOK,UAAUb,eAAec,KAAKH,EAAQC,KAAQ7G,EAAO6G,GAAOD,EAAOC,IAAY,OAAO7G,IAA2BgH,MAAMC,KAAMN,WAEhT,SAASO,EAAyBN,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,GAAI,IAAkEC,EAAKP,EAAnEtG,EAEzF,SAAuC4G,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,GAAI,IAA2DC,EAAKP,EAA5DtG,EAAS,GAAQoH,EAAaX,OAAOY,KAAKT,GAAqB,IAAKN,EAAI,EAAGA,EAAIc,EAAW9E,OAAQgE,IAAOO,EAAMO,EAAWd,GAAQa,EAASG,QAAQT,IAAQ,IAAa7G,EAAO6G,GAAOD,EAAOC,IAAQ,OAAO7G,EAFxMuH,CAA8BX,EAAQO,GAAuB,GAAIV,OAAOe,sBAAuB,CAAE,IAAIC,EAAmBhB,OAAOe,sBAAsBZ,GAAS,IAAKN,EAAI,EAAGA,EAAImB,EAAiBnF,OAAQgE,IAAOO,EAAMY,EAAiBnB,GAAQa,EAASG,QAAQT,IAAQ,GAAkBJ,OAAOK,UAAUY,qBAAqBX,KAAKH,EAAQC,KAAgB7G,EAAO6G,GAAOD,EAAOC,IAAU,OAAO7G,EAMne,IAAI2H,EAAgBC,sBAAW,SAAUC,EAAMC,GAC7C,IAAIC,EAAaF,EAAKG,MAClBA,OAAuB,IAAfD,EAAwB,eAAiBA,EACjDE,EAAYJ,EAAK9I,KACjBA,OAAqB,IAAdkJ,EAAuB,GAAKA,EACnCrI,EAAOsH,EAAyBW,EAAM,CAAC,QAAS,SAEpD,OAAoBtI,IAAM2I,cAAc,MAAO1B,EAAS,CACtDsB,IAAKA,EACLK,MAAO,6BACPC,MAAOrJ,EACPsJ,OAAQtJ,EACRuJ,QAAS,YACTC,KAAM,OACNC,OAAQR,EACRS,YAAa,IACbC,cAAe,QACfC,eAAgB,SACf/I,GAAoBL,IAAM2I,cAAc,OAAQ,CACjDU,EAAG,6FACYrJ,IAAM2I,cAAc,OAAQ,CAC3CW,GAAI,KACJC,GAAI,IACJC,GAAI,KACJC,GAAI,OACWzJ,IAAM2I,cAAc,OAAQ,CAC3CW,GAAI,KACJC,GAAI,KACJC,GAAI,QACJC,GAAI,WAGRrB,EAAcsB,UAAY,CACxBjB,MAAOkB,IAAUC,OACjBpK,KAAMmK,IAAUE,UAAU,CAACF,IAAUC,OAAQD,IAAUG,UAEzD1B,EAAc2B,YAAc,gBACb3B,O,kCC7Cf,6CAEa4B,EAAmB,SAACC,GAAwD,IAAjDC,EAAgD,uDAArCC,KAC5CC,EAAeH,EAAMI,QAAQH,GAC7BI,EAAgBL,EAAMM,WAEtBC,GAAiBF,EAAcG,MAAM,KAAK,IAAM,IAAI1H,OAEtD2H,EAAO,GACPC,EAAMP,EAMV,OALKH,EAAMW,UAAYJ,EAAgBN,IACtCQ,EAAON,EAAa1J,QAAQ4J,EAAe,IAC3CK,EAAML,GAGA,CACNK,MACAD,U,wJCsCaG,IA5CK,SAACpM,GAAW,IAAD,EACI8D,oBAAS,GADb,mBACvBuI,EADuB,KACZC,EADY,OAEDpM,cAArB4C,EAFsB,EAEtBA,QACFyJ,GAHwB,EAEbxJ,QACGE,YAAYuJ,MACxB3I,EAAmB0I,EAAnB1I,QAASkB,EAAUwH,EAAVxH,MACX1E,EAAOL,EAAMK,KACboM,EAAWC,cAEXC,EAAW,uCAAG,oCAAAzI,EAAA,+EAEa0I,YAAoBvM,EAAKwM,eAFtC,cAEZC,EAFY,OAGZC,EAAiBlJ,GAAoBiJ,EAAiBE,kBAAkBC,WAExEC,EAAa,IAAIC,qBAAmBpI,EAAMlB,QAASiJ,EAAiBD,eACpEO,EAASC,KANG,SAQDH,EAAWI,QAAQP,EAAgBK,GAAQG,qBAAqB,CAChFC,KAAM1K,IATW,cAQZ2K,EARY,OAWlBnB,GAAa,GAXK,UAYZjM,EAAKqN,6BAA6BD,GAZtB,QAcdA,IACHnB,GAAa,GACbG,EAASkB,gBAhBQ,kDAmBlBrB,GAAa,GACbtM,EAAM4N,YApBY,0DAAH,qDA4BjB,OAJAvJ,qBAAU,WACTsI,MACE,CAACJ,IAGH,cAAC,IAAD,CACCqB,UAAWvB,EAAY,kBAAM,MAAOrM,EAAM4N,UAC1CC,YAAaxB,EAAY,YAAc,+B,kCClD1C,8CAAS7D,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAU1G,GAAU,IAAK,IAAIsG,EAAI,EAAGA,EAAIK,UAAUrE,OAAQgE,IAAK,CAAE,IAAIM,EAASD,UAAUL,GAAI,IAAK,IAAIO,KAAOD,EAAcH,OAAOK,UAAUb,eAAec,KAAKH,EAAQC,KAAQ7G,EAAO6G,GAAOD,EAAOC,IAAY,OAAO7G,IAA2BgH,MAAMC,KAAMN,WAEhT,SAASO,EAAyBN,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,GAAI,IAAkEC,EAAKP,EAAnEtG,EAEzF,SAAuC4G,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,GAAI,IAA2DC,EAAKP,EAA5DtG,EAAS,GAAQoH,EAAaX,OAAOY,KAAKT,GAAqB,IAAKN,EAAI,EAAGA,EAAIc,EAAW9E,OAAQgE,IAAOO,EAAMO,EAAWd,GAAQa,EAASG,QAAQT,IAAQ,IAAa7G,EAAO6G,GAAOD,EAAOC,IAAQ,OAAO7G,EAFxMuH,CAA8BX,EAAQO,GAAuB,GAAIV,OAAOe,sBAAuB,CAAE,IAAIC,EAAmBhB,OAAOe,sBAAsBZ,GAAS,IAAKN,EAAI,EAAGA,EAAImB,EAAiBnF,OAAQgE,IAAOO,EAAMY,EAAiBnB,GAAQa,EAASG,QAAQT,IAAQ,GAAkBJ,OAAOK,UAAUY,qBAAqBX,KAAKH,EAAQC,KAAgB7G,EAAO6G,GAAOD,EAAOC,IAAU,OAAO7G,EAMne,IAAI8L,EAAclE,sBAAW,SAAUC,EAAMC,GAC3C,IAAIC,EAAaF,EAAKG,MAClBA,OAAuB,IAAfD,EAAwB,eAAiBA,EACjDE,EAAYJ,EAAK9I,KACjBA,OAAqB,IAAdkJ,EAAuB,GAAKA,EACnCrI,EAAOsH,EAAyBW,EAAM,CAAC,QAAS,SAEpD,OAAoBtI,IAAM2I,cAAc,MAAO1B,EAAS,CACtDsB,IAAKA,EACLK,MAAO,6BACPC,MAAOrJ,EACPsJ,OAAQtJ,EACRuJ,QAAS,YACTC,KAAM,OACNC,OAAQR,EACRS,YAAa,IACbC,cAAe,QACfC,eAAgB,SACf/I,GAAoBL,IAAM2I,cAAc,WAAY,CACrD6D,OAAQ,uBAGZD,EAAY7C,UAAY,CACtBjB,MAAOkB,IAAUC,OACjBpK,KAAMmK,IAAUE,UAAU,CAACF,IAAUC,OAAQD,IAAUG,UAEzDyC,EAAYxC,YAAc,cACXwC,O,kCCnCf,8CAAStF,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAU1G,GAAU,IAAK,IAAIsG,EAAI,EAAGA,EAAIK,UAAUrE,OAAQgE,IAAK,CAAE,IAAIM,EAASD,UAAUL,GAAI,IAAK,IAAIO,KAAOD,EAAcH,OAAOK,UAAUb,eAAec,KAAKH,EAAQC,KAAQ7G,EAAO6G,GAAOD,EAAOC,IAAY,OAAO7G,IAA2BgH,MAAMC,KAAMN,WAEhT,SAASO,EAAyBN,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,GAAI,IAAkEC,EAAKP,EAAnEtG,EAEzF,SAAuC4G,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,GAAI,IAA2DC,EAAKP,EAA5DtG,EAAS,GAAQoH,EAAaX,OAAOY,KAAKT,GAAqB,IAAKN,EAAI,EAAGA,EAAIc,EAAW9E,OAAQgE,IAAOO,EAAMO,EAAWd,GAAQa,EAASG,QAAQT,IAAQ,IAAa7G,EAAO6G,GAAOD,EAAOC,IAAQ,OAAO7G,EAFxMuH,CAA8BX,EAAQO,GAAuB,GAAIV,OAAOe,sBAAuB,CAAE,IAAIC,EAAmBhB,OAAOe,sBAAsBZ,GAAS,IAAKN,EAAI,EAAGA,EAAImB,EAAiBnF,OAAQgE,IAAOO,EAAMY,EAAiBnB,GAAQa,EAASG,QAAQT,IAAQ,GAAkBJ,OAAOK,UAAUY,qBAAqBX,KAAKH,EAAQC,KAAgB7G,EAAO6G,GAAOD,EAAOC,IAAU,OAAO7G,EAMne,IAAIgM,EAAgBpE,sBAAW,SAAUC,EAAMC,GAC7C,IAAIC,EAAaF,EAAKG,MAClBA,OAAuB,IAAfD,EAAwB,eAAiBA,EACjDE,EAAYJ,EAAK9I,KACjBA,OAAqB,IAAdkJ,EAAuB,GAAKA,EACnCrI,EAAOsH,EAAyBW,EAAM,CAAC,QAAS,SAEpD,OAAoBtI,IAAM2I,cAAc,MAAO1B,EAAS,CACtDsB,IAAKA,EACLK,MAAO,6BACPC,MAAOrJ,EACPsJ,OAAQtJ,EACRuJ,QAAS,YACTC,KAAM,OACNC,OAAQR,EACRS,YAAa,IACbC,cAAe,QACfC,eAAgB,SACf/I,GAAoBL,IAAM2I,cAAc,SAAU,CACnD+D,GAAI,KACJC,GAAI,KACJC,EAAG,OACY5M,IAAM2I,cAAc,WAAY,CAC/C6D,OAAQ,oBACOxM,IAAM2I,cAAc,OAAQ,CAC3CW,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,UAGRgD,EAAc/C,UAAY,CACxBjB,MAAOkB,IAAUC,OACjBpK,KAAMmK,IAAUE,UAAU,CAACF,IAAUC,OAAQD,IAAUG,UAEzD2C,EAAc1C,YAAc,gBACb0C,O,+mFCff,IAAMI,EAAO7N,kBAAO8N,IAAP9N,CAAH,KAqBJ+N,EAAY/N,UAAO6G,KAAV,KAGL,qBAAG1G,MAAkBE,SAGzB2N,EAAmBhO,kBAAOiO,IAAPjO,CAAH,KAyBhBkO,GANclO,UAAO6G,KAAV,KACP,SAACpH,GAAD,OACRA,EAAMyB,MAAQ,EAAIzB,EAAMU,MAAMgO,QAAU1O,EAAMyB,MAAQ,EAAIzB,EAAMU,MAAMiO,OAAS3O,EAAMU,MAAMS,SAIpEZ,UAAO+F,IAAV,MAMhBsI,EAAkBrO,UAAOwG,OAAV,KAGX,gBAAGR,EAAH,EAAGA,OAAQ7F,EAAX,EAAWA,MAAX,OAAwB6F,EAAS7F,EAAMuG,QAAUvG,EAAME,SAY3DiO,EAAOtO,UAAO6G,KAAV,KACA,gBAAG1G,EAAH,EAAGA,MAAO+F,EAAV,EAAUA,QAAV,OAAyBA,EAAU/F,EAAM+F,GAAW/F,EAAME,SAM9DkO,EAAavO,UAAO+F,IAAV,KAwBY,qBAAG5F,MAAkBE,SAKjC,qBAAGF,MAAkBE,SAOrB,gBAAGF,EAAH,EAAGA,MAAH,OAAeqO,YAAQ,IAAMrO,EAAME,UAgMpCoO,cAAWC,aAjBF,SAACC,GACxB,MAAO,CACNlM,UAAWkM,EAAMC,KAAKnM,UACtBoM,aAAcF,EAAMC,KAAKC,aACzBC,QAASH,EAAMC,KAAKE,QACpBlM,WAAY+L,EAAMC,KAAKhM,WACvBmM,aAAcJ,EAAMC,KAAKG,aACzBC,kBAAmBL,EAAMM,QAAQD,sBAIR,SAAC9C,GAC3B,MAAO,CACNgD,aAAc,SAACL,GAAD,OAAkB3C,EAASgD,YAAaL,QAI9BH,EA5LN,SAACjP,GAAW,IAAD,EACDE,cAArB4C,EADsB,EACtBA,QAASC,EADa,EACbA,QACT2M,EAAMC,cAAND,EAFsB,EAGJ5L,mBAAS,IAHL,mBAGvB8L,EAHuB,KAGhBC,EAHgB,OAIc/L,mBAASgM,cAAmB,IAJ1C,mBAIvBC,EAJuB,KAIPC,EAJO,KAKtBhN,EAAoEhD,EAApEgD,UAAWG,EAAyDnD,EAAzDmD,WAAYkM,EAA6CrP,EAA7CqP,QAASC,EAAoCtP,EAApCsP,aAAcC,EAAsBvP,EAAtBuP,kBAsBhDU,EAAsB,SAAC/K,GAC5B8K,EAAkB9K,IAebgL,EAAqBpI,uBAAY,SAACqI,GACvCN,EAASM,EAAEnO,OAAOP,SAChB,IAEG2O,EAAU,CACf,CACCC,UAAW,SACXC,KAAMZ,EAAE,UACRa,UAAW,SAACC,EAAaC,EAAKC,GAC7B,IAAMC,EAAaC,YAAkBH,EAAIrB,aAAayB,MAAMC,cACtDC,EAAcH,YAAkBH,EAAIrB,aAAa4B,OAAOF,cAC9D,OACC,eAACjC,EAAD,WACE8B,EADF,MACiBI,OAKpB,CACCV,UAAW,QACXC,KAAMZ,EAAE,eACRa,UAAW,SAACC,EAAaC,EAAKC,EAAnB,GAAkE,IAAnCO,EAAkC,EAAlCA,cAAe3B,EAAmB,EAAnBA,aAClD4B,EACL5B,GAAgBA,EAAazK,MAAK,SAACsM,GAAD,OAAOA,EAAEC,KAAKN,gBAAkBO,YAAeZ,EAAIrB,iBACtF,OAAO,cAACP,EAAD,UAAOoC,EAAcR,EAAKS,MAElCI,gBAAiB,CAChBL,cA/DmB,SAACM,EAAQC,GAC9B,OAAIA,GAAcA,EAAWC,WACrB,IAAIlM,YAAUiM,EAAWC,YAAY7F,QAAQ2F,EAAOnC,aAAasC,OAAOC,gBAGzE,KA2DLrC,kBAKGsC,EAAY,CACjBjL,QAAS,SAACwJ,EAAGM,IA9Ca,SAACrB,EAActM,EAASC,IACjC,SAACqM,GACjB,IAAMyC,EAAYC,IAAYC,UAAU,CACvClB,KAAMzB,EAAayB,KACnBG,MAAO5B,EAAa4B,QAErBhR,EAAMgS,QAAQC,KAAd,UAAsBjS,EAAMkS,MAAMC,KAAlC,YAA0CN,IAE3CO,CAAShD,GACTpP,EAAMyP,aAAaL,EAActM,EAASC,GAsCzCsP,CAAmB5B,EAAIrB,aAActM,EAASC,KAiChD,OAAKC,GAAcG,GAAcoM,IAAsB+C,KAAYC,UAQvDvP,GAAcG,EAQdkM,GAAYC,EAgBvB,eAAC,EAAD,WACC,eAACf,EAAD,CAAkBiE,UAAW,SAA7B,UACC,cAAC,IAAD,UACC,cAAC,IAAD,UACC,cAAC,IAAD,CAAKtK,IAAKuK,UAGZ,cAACC,EAAA,EAAD,CAAaC,GAAG,cAAchR,YAAa+N,EAAE,UAAW7N,SAAUqO,OAGnE,cAACzB,EAAD,CAAkB+D,UAAW,oDAA7B,SACE1C,cAAmBzH,KAAI,SAACnD,EAAQ0N,GAChC,OACC,cAAChE,EAAD,CACCrI,OAAQrB,IAAW6K,EAEnBpJ,QAASsJ,EAAoB1H,K,UAAWrD,GAHzC,SAKEA,EAAOoL,MAHHsC,QA5ES,WAAO,IAClB5P,EAAuBhD,EAAvBgD,UAAWqM,EAAYrP,EAAZqP,QAEnB,IAAKrM,IAAcqM,EAClB,OAAO,KAGR,IAAMwD,EACa,MAAlB9C,GAAmD,OAAzBA,EAAetO,MACtC4N,EACAyD,YAA2BzD,EAASU,EAAetO,OACjDsR,EAAkBC,YAAsBH,EAAiBjD,GAE/D,OACC,cAACd,EAAD,UACC,cAAC,IAAD,CACCmE,UAAU,EACVC,QAAQ,qGACRC,YAAU,EACVC,SAAU,KACVC,QAAM,EACNzB,UAAWA,EACX0B,KAA0B,OAApBP,EAA2B,GAAKA,EACtC3C,QAASA,MA6DVmD,MArCD,cAAC,EAAD,UACC,qBAAKf,UAAU,+DAAf,SACC,cAACgB,EAAA,EAAD,CACCpJ,MAAO,GACPC,OAAQ,GACRsI,GAAE,gCAA2B3S,EAAMyT,SAAW,SAAW,WACzDlN,QAAM,QAdT,cAAC,EAAD,UACC,qBAAKiM,UAAU,+DAAf,SACC,cAAClE,EAAD,UAAYoB,EAAE,yBAVhB,cAAC,EAAD,UACC,qBAAK8C,UAAU,+DAAf,SACC,cAACgB,EAAA,EAAD,CAASpJ,MAAO,GAAIC,OAAQ,GAAIsI,GAAE,gBAAW3S,EAAMyT,SAAW,SAAW,WAAalN,QAAM,Y,g0BC1OjG,IAAM6H,GAAO7N,kBAAOmT,IAAPnT,CAAH,MAqBJoT,GAAOpT,kBAAOqT,IAAPrT,CAAH,KAKW,qBAAGG,MAAkBE,SASpCiO,GAAOtO,UAAO6G,KAAV,KACA,gBAAG1G,EAAH,EAAGA,MAAO+F,EAAV,EAAUA,QAAV,OAAyBA,EAAU/F,EAAM+F,GAAW/F,EAAME,SAwJrDqO,gBAnBS,SAACC,GACxB,MAAO,CACNlM,UAAWkM,EAAMC,KAAKnM,UACtBoM,aAAcF,EAAMC,KAAKC,aACzBjM,WAAY+L,EAAMC,KAAKhM,WACvB0Q,UAAWC,YAA+B5E,GAC1C6E,WAAYC,YAAgC9E,GAC5C+E,OAAQC,YAAiChF,GACzCiF,aAAcC,YAAkClF,GAChDmF,UAAWC,YAA0BpF,OAIZ,SAACzC,GAC3B,MAAO,CACNgD,aAAc,SAACL,GAAD,OAAkB3C,EAASgD,YAAaL,QAIzCH,EAnJO,SAACjP,GAAW,IACzB0P,EAAMC,cAAND,EACA1M,EAAwChD,EAAxCgD,UAAWG,EAA6BnD,EAA7BmD,WAAYiM,EAAiBpP,EAAjBoP,aAIzB8B,EAAc,CACnB2C,UAHkE7T,EAA3D6T,UAIPE,WAJkE/T,EAAhD+T,WAKlBE,OALkEjU,EAApCiU,OAM9BE,aANkEnU,EAA5BmU,aAOtCE,UAPkErU,EAAdqU,WAU/CjE,EAAU,CACf,CACCC,UAAW,UACXC,KAAMZ,EAAE,WACRa,UAAW,SAACC,EAAaC,EAAKC,GAC7B,OACC,qBAAK8B,UAAU,4BAAf,SACC,cAACmB,GAAD,CAAMzL,IAAKqM,YAAc,IAAD,OAAK9D,EAAIzN,UAAUwR,aAK/C,CACCnE,UAAW,aACXC,KAAMZ,EAAE,eACRa,UAAW,SAACC,EAAaC,EAAKC,GAC7B,IAAM2D,EAAY5D,EAAIS,YAAYmD,UAC/B,IAAI9O,YAAUkL,EAAIS,YAAYmD,WAAWzI,QAAQ6E,EAAIrB,aAAasC,OAAOC,gBACzE,IACH,OAAO,cAAC,GAAD,UAAO0C,MAGhB,CACChE,UAAW,YACXC,KAAMZ,EAAE,iBACRa,UAAW,SAACC,EAAaC,EAAKC,GAC7B,OACC,cAAC,GAAD,UACGD,EAAIS,YAAY2C,WACjBpD,EAAIS,YAAY2C,UAAUjI,QAAQ6E,EAAIrB,aAAasC,OAAOC,iBAC1D,QAKL,CACCtB,UAAW,YACXC,KAAMZ,EAAE,gBACRa,UAAW,SAACC,EAAaC,EAAKC,GAC7B,OAAO,cAAC,GAAD,UAAQD,EAAIS,YAAY6C,YAActD,EAAIS,YAAY6C,WAAWnI,QAAQ,IAAO,QAGzF,CACCyE,UAAW,SACXC,KAAMZ,EAAE,mBACRa,UAAW,SAACC,EAAaC,EAAKC,GAC7B,IAAIuD,EAkBJ,OAhBCA,EADGQ,KAEDhE,EAAIS,YAAY+C,QAAhB,UACGxD,EAAIS,YAAY+C,OAAOrI,QAAQ6E,EAAItN,WAAWuR,iBADjD,YACqE9D,YACpEH,EAAItN,WAAW6B,UAEjB,KAGCyL,EAAIS,YAAY+C,QAAhB,UACGU,YACFlE,EAAIS,YAAY+C,OAChBxD,EAAItN,WAAWsI,SACfgF,EAAItN,WAAWuR,iBACd5I,WALF,YAKgB8E,YAAkBH,EAAItN,WAAW6B,UAClD,KAEK,cAAC,GAAD,UAAOiP,MAGhB,CACC5D,UAAW,gBACXC,KAAM,gBACNC,UAAW,SAACC,EAAaC,EAAKC,GAC7B,OAAO,cAAC,GAAD,UAAOD,EAAIS,YAAYiD,cAAgB,SAKjD,OAAKnR,GAAcG,EAgBlB,eAAC,GAAD,WACC,cAAC,IAAD,CACCyR,eAAe,oBACf3B,UAAU,EACVC,QAAQ,uGACRC,YAAU,EACVC,SAAU,KACVC,QAAM,EACNC,KAAM,CAAC,CAAEpC,cAAalO,YAAWG,aAAYiM,iBAC7CgB,QAASA,IAEV,cAACyE,EAAA,EAAD,CACCC,WAAY,KACZ1E,QAASA,EACTkD,KAAM,CAAC,CAAEpC,cAAalO,YAAWG,aAAYiM,iBAC7C2F,UAAW,MACXC,eAAa,OA9Bd,cAAC,GAAD,UACC,qBAAKxC,UAAU,+DAAf,SACC,cAACgB,EAAA,EAAD,CACCpJ,MAAO,GACPC,OAAQ,GACRsI,GAAE,gCAA2B3S,EAAMyT,SAAW,SAAW,WACzDlN,QAAM,W,oqHC7IZ,IAAM0O,GAAY1U,UAAO+F,IAAV,MAUTgI,GAAY/N,UAAO6G,KAAV,MAGL,qBAAG1G,MAAkBE,SAEzBsU,GACQ,EADRA,GAEK,EAFLA,GAGI,EAGJC,GAAmB5U,kBAAOmG,KAAPnG,CAAH,MAMhB6U,GAAY7U,UAAO+F,IAAV,MAOT+O,GAAW9U,UAAO+F,IAAV,MAQRgP,GAAW/U,UAAO+F,IAAV,MAYRiP,GAAQhV,UAAO6G,KAAV,MACD,qBAAG1G,MAAkBE,SAUzB4U,GAASjV,UAAO6G,KAAV,MACF,qBAAG1G,MAAkBE,SAKzB6U,GAAKlV,UAAO+F,IAAV,MAgBFoP,GAAanV,kBAAOkV,GAAPlV,CAAH,MACK,qBAAGG,MAAkBE,SAGpC+U,GAAUpV,kBAAOkV,GAAPlV,CAAH,MAgBS,qBAAGG,MAAkBE,SAIrCgV,GAAKrV,UAAO6G,KAAV,MACE,qBAAG1G,MAAkBE,SAMzBiV,GAActV,UAAO6G,KAAV,MACP,qBAAG1G,MAAkBE,SAMzBkV,GAAWvV,kBAAOmV,GAAPnV,CAAH,MAKRwV,GAAKxV,UAAO6G,KAAV,MACE,gBAAG1G,EAAH,EAAGA,MAAO+F,EAAV,EAAUA,QAAV,OAAyBA,EAAU/F,EAAM+F,GAAW/F,EAAME,SAM9DoV,GAAQzV,UAAO+F,IAAV,MAyBiB,qBAAG5F,MAAkBE,SAKjC,qBAAGF,MAAkBE,SAOrB,gBAAGF,EAAH,EAAGA,MAAH,OAAeqO,YAAQ,IAAMrO,EAAME,UAI7CqV,GAAa,CAClB,CACCxU,MAAO,EACPY,MAAO,KAER,CACCZ,MAAO,GACPY,MAAO,MAER,CACCZ,MAAO,GACPY,MAAO,MAER,CACCZ,MAAO,GACPY,MAAO,OAIH6T,G,+MA6BLC,uB,yCAAyB,WAAOpV,GAAP,sBAAAmD,EAAA,2DACE,EAAKlE,MAAvBoW,EADgB,EAChBA,MAAOC,EADS,EACTA,OACXC,EAAYC,KAEfD,EADGF,EAAMI,OAASC,IAAUC,IAChBL,EAAOM,QAAO,SAACC,EAASC,GACnC,OAAIT,EAAMU,MAAMC,IAAIF,EAASC,OACrBF,EAAQ/Q,KAAKgR,EAAS9V,MAEvB6V,IACLL,MAESF,EAAOM,QAAO,SAACC,EAASC,GACnC,OAAIT,EAAMU,MAAME,IAAIH,EAASC,OACrBF,EAAQ/Q,KAAKgR,EAAS9V,MAEvB6V,IACLL,MAEAH,EAAMI,OAASC,IAAUC,IAlBL,gCAmBjB,EAAK1W,MAAMiX,2BAA2BlW,GAnBrB,+CAqBjB,EAAKf,MAAMkX,4BAA4BnW,GArBtB,yBAwBlB,EAAKf,MAAMmX,wBAAwBpW,GAxBjB,yBAyBlB,EAAKf,MAAMoX,yBAAyBd,GAzBlB,4C,8GA5Bf,IAAD,SACyErN,KAAKjJ,MAA9EoW,EADA,EACAA,MAAcpT,GADd,EACO4P,MADP,EACc5P,WAAWqU,EADzB,EACyBA,WADzB,IACqCC,oBADrC,MACoD,GADpD,EACwDlI,EADxD,EACwDA,aAC1DmI,EAAgBnI,EAAasC,OAAO6F,cACpC5F,EAAiBvC,EAAasC,OAAOC,eAErC5Q,EAAO4T,YAAmByB,EAAMrV,KAAMiC,EAAUyI,SAAU8L,GAC1DT,EAAQV,EAAMU,MAAMhL,WAEpB0L,EAASF,EAAaX,QAAO,SAACC,EAASa,GAC5C,OAAIA,EAAWX,MAAMY,GAAGtB,EAAMU,OACtBF,EAAQ/Q,KAAK4R,EAAW1W,MAEzB6V,IACLL,MAEGoB,EAAkBhD,YAAmB6C,EAAQxU,EAAUyI,SAAU8L,GACjEK,EAAgBJ,EAAOE,GAAG,IAAInS,YAAU,IACxCsS,EAActM,aAAiB,IAAIhG,YAAUxE,GAAOwW,GAE1D,OACC,eAAC5B,GAAD,CAAShP,QAAS,kBAAM,EAAKwP,uBAAuBC,EAAMU,QAA1D,UACC,cAACf,GAAD,UAAK8B,EAAY3L,MACjB,cAAC6J,GAAD,CAAItP,QAAS4Q,EAAb,SAA0BS,WAAWhB,GAAOlL,QAAQ+F,KACpD,cAACoE,GAAD,UAAK6B,EAAgB,IAAMD,W,GAxBN5X,aAmEnBgY,GAAsB9I,YAAQ,MATC,SAACxC,GACrC,MAAO,CACN0K,wBAAyB,SAACa,GAAD,OAAwBvL,EAASwL,aAAsBD,KAChFf,2BAA4B,SAACe,GAAD,OAAwBvL,EAASyL,aAAyBF,KACtFd,4BAA6B,SAACc,GAAD,OAAwBvL,EAAS0L,aAA0BH,KACxFZ,yBAA0B,SAACgB,GAAD,OAAyB3L,EAAS4L,aAAuBD,QAIzDnJ,CAA4CiH,IAElEoC,G,oDAML,WAAYtY,GAAQ,IAAD,+BAClB,cAAMA,IANPkP,MAAQ,CACPqJ,MAAO,CAAE9W,MAAO,EAAKzB,MAAMwY,cAAgB,GAC3CC,WAAYvD,IAMZ,EAAKwD,qBAAuBnX,IAAMoX,YAClC,EAAKC,gBAAkBrX,IAAMoX,YAC7B,EAAKE,aAAetX,IAAMoX,YALR,E,sDAQT,IAwBLG,EAxBI,SAYJ7P,KAAKjJ,MAVR+Y,EAFO,EAEPA,UACA/V,EAHO,EAGPA,UACAG,EAJO,EAIPA,WACA6V,EALO,EAKPA,eACAC,EANO,EAMPA,iBACA7J,EAPO,EAOPA,aACA8J,EARO,EAQPA,oBACAC,EATO,EASPA,oBACAC,EAVO,EAUPA,YACA1J,EAXO,EAWPA,EAEO2J,EAAwCN,EAAxCM,WAAYC,EAA4BP,EAA5BO,UAAWhC,EAAiByB,EAAjBzB,aAEzBiC,EAAkBjC,EAAapS,QAAO,SAACkR,GAC5C,OAAOA,EAAMI,OAASC,IAAU+C,QAE3BC,EAAiBnC,EAAapS,QAAO,SAACkR,GAC3C,OAAOA,EAAMI,OAASC,IAAUC,OAE3BgD,EAAW,SAACtD,GACjB,OAAOA,EAAMI,OAASC,IAAUC,IAAM,UAAY,UAInD,GAAK1T,GAAcG,GAAciW,IAAgB9G,KAAYC,UAWtD,IAAM+G,EAAUhV,QAAW+U,EAAW/U,SAAYtB,GAAcG,EAMhE,CACN,IAAMwW,EAAiBX,EAAepN,QAAQwD,EAAasC,OAAOC,gBAC5DiI,EAAqBX,EAAiBrN,QAAQiO,MAC9CtC,EAAgBnI,EAAasC,OAAO6F,cAEpCuC,EAAYnF,YAAmBwE,EAAqBnW,EAAUyI,SAAU8L,GAExEwC,EAAapF,YAAmBuE,EAAqB/V,EAAWsI,SAAU,GAE1EkF,EAAaC,YAAkB5N,EAAUgC,QACzC+L,EAAcH,YAAkBzN,EAAW6B,QAM3CgV,EAAkB/Q,KAAKiG,MAAMuJ,WAC7BwB,EAAmB,SAACC,GACzB,EAAKC,SAAS,CAAE1B,WAAYyB,KAG7BpB,EACC,qCACC,eAAC1D,GAAD,CAAW5C,UAAU,oDAArB,UACC,sBAAKA,UAAW,4BAAhB,UACC,cAAC2C,GAAD,CACC5O,OAAQyT,IAAoB9E,GAC5BrT,SAAU,kBAAMoY,EAAiB/E,KACjCtO,QAAQ,EACRC,OAAK,IAEN,cAACsO,GAAD,CACC5O,OAAQyT,IAAoB9E,GAC5BrT,SAAU,kBAAMoY,EAAiB/E,KACjCrO,OAAK,IAEN,cAACsO,GAAD,CACC5O,OAAQyT,IAAoB9E,GAC5BrT,SAAU,kBAAMoY,EAAiB/E,KACjCtO,QAAM,OAGR,qBAAK4L,UAAU,4BAAf,SACC,cAAChL,GAAA,EAAD,CAAUzG,KAAM,KAAM0G,MAAOwO,GAAYtU,YAAa+N,EAAE,SAAU7N,SA/BlD,SAACJ,GACpB,EAAK0Y,SAAS,CAAE5B,MAAO,CAAE9W,MAAO2Y,OAAO3Y,cAiCtC,eAAC4T,GAAD,CAAU7C,UAAU,uDAApB,UACC,cAAC+C,GAAD,UAAQ7F,EAAE,UACV,cAAC8F,GAAD,oBAAY9F,EAAE,SAAd,aAA2BoK,EAA3B,YAAwCnJ,QAEzC,eAAC2E,GAAD,WACC,eAACI,GAAD,WACC,cAACE,GAAD,UAAKlG,EAAE,eACP,eAACkG,GAAD,WACElG,EAAE,SADJ,KACgBkB,YAAkBzN,EAAW6B,QAD7C,OAGA,cAAC4Q,GAAD,UAAKlG,EAAE,eAER,eAACsG,GAAD,YACGgE,IAAoB9E,IACrB8E,IAAoB9E,KACpBmE,EACEgB,MAAMhB,EAAW/U,OAAS2E,KAAKiG,MAAMqJ,MAAM9W,MAAO4X,EAAW/U,QAC7D+D,KAAI,SAAC+N,EAAOxD,GAAR,OACJ,cAACmF,GAAD,CAEC3B,MAAOA,EACPxD,MAAOA,EACP0H,MAAOjB,EAAW/U,OAClB+R,OAAQgD,EACRrW,UAAWA,EACXqU,WAAYqC,EAAStD,GACrBkB,aAAciC,EACdnK,aAAcA,GARTwD,MAYT,eAACkD,GAAD,WACC,cAACD,GAAD,UAAcnG,EAAE,YAChB,cAACmG,GAAD,UAAc8D,IACd,eAAC9D,GAAD,WAAc+D,EAAd,WAGCI,IAAoB9E,IACrB8E,IAAoB9E,KACpBoE,EACEe,MAAM,EAAGpR,KAAKiG,MAAMqJ,MAAM9W,OAC1B4G,KAAI,SAAC+N,EAAOxD,GAAR,OACJ,cAACmF,GAAD,CAEC3B,MAAOA,EACPxD,MAAOA,EACP0H,MAAOhB,EAAUhV,OACjB+R,OAAQiD,EACRtW,UAAWA,EACXqU,WAAYqC,EAAStD,GACrBkB,aAAcmC,EACdrK,aAAcA,GARTwD,SAaV,eAAC8C,GAAD,WACC,cAACG,GAAD,UAAcnG,EAAE,UAChB,cAACmG,GAAD,oBAAiBkE,EAAjB,YAA+BhJ,KAC/B,cAAC8E,GAAD,8BA9GJiD,EACC,qBAAKtG,UAAU,+DAAf,SACC,cAAC,GAAD,UAAY9C,EAAE,2BAbhBoJ,EACC,qBAAKtG,UAAU,+DAAf,SACC,cAACgB,EAAA,EAAD,CACCpJ,MAAO,GACPC,OAAQ,GACRsI,GAAE,qBAAgB1J,KAAKjJ,MAAMyT,SAAW,SAAW,WACnDlN,QAAM,MA0HV,OAAO,cAAC0O,GAAD,UAAY6D,Q,GAzKG/Y,aA6LTkP,gBAhBS,SAACC,GACxB,MAAO,CACNlM,UAAWkM,EAAMC,KAAKnM,UACtBoM,aAAcF,EAAMC,KAAKC,aACzBjM,WAAY+L,EAAMC,KAAKhM,WACvBoX,WAAYrL,EAAMM,QAAQ+K,WAC1BC,eAAgBtL,EAAMM,QAAQgL,eAC9BzB,UAAW0B,YAAavL,GACxB8J,eAAgB0B,YAAUxL,GAC1B+J,iBAAkB0B,YAAsBzL,GACxCgK,oBAAqB0B,YAAuB1L,GAC5CiK,oBAAqB0B,YAAuB3L,GAC5CkK,YAAa0B,YAAkB5L,MAIlBD,CAAyB8L,eAAkBzC,K,+BChdpDjY,GAAO,IAAI2a,KAAKA,KAAKC,eAAiBD,KAAKE,UAAUC,aAAaC,kEAElEC,G,+MACLC,0BAA4B,WACvB,EAAKC,uBACRC,cAAc,EAAKD,sBACnB,EAAKA,0BAAuB9V,GAGzB,EAAKgW,4BACRD,cAAc,EAAKC,2BACnB,EAAKA,+BAA4BhW,GAE9B,EAAKiW,6BACRF,cAAc,EAAKE,4BACnB,EAAKA,gCAA6BjW,GAE/B,EAAKkW,8BACRH,cAAc,EAAKG,6BACnB,EAAKA,iCAA8BlW,I,EAIrCmW,wBAA0B,WACzB,EAAK5b,MAAM6b,uBACX,EAAK7b,MAAM8b,4BACX,EAAK9b,MAAM+b,2BACX,EAAK/b,MAAMgc,2BACP,EAAKhc,MAAMK,KAAKyC,SACnB,EAAK9C,MAAMic,mBAAmB,EAAKjc,MAAMK,KAAKyC,QAASzC,GAAK6b,iBAAmB1X,OAAOC,UAGtD,IAA7B0X,MAAmC,EAAKZ,uBAC3C,EAAKA,qBAAuB/W,OAAO4X,YAAP,wBAAmB,uBAAAlY,EAAA,sDAC1C,EAAKlE,MAAMK,KAAKyC,UACnB,EAAK9C,MAAMic,mBAAmB,EAAKjc,MAAMK,KAAKyC,QAASzC,GAAK6b,iBAAmB1X,OAAOC,UACtF,EAAKzE,MAAMgc,2BACX,EAAK7B,SAAS,CACbkC,sBAAsB,KALsB,2CAQ5CF,OAIC,EAAKV,2BAA6D,IAAhCa,OACtC,EAAKb,0BAA4BjX,OAAO4X,YAAP,wBAAmB,uBAAAlY,EAAA,sDACnD,EAAKlE,MAAM+b,2BACX,EAAK/b,MAAMgc,2BAFwC,2CAGjDM,OAGC,EAAKZ,4BAA+D,IAAjCa,OACvC,EAAKb,2BAA6BlX,OAAO4X,YAAP,wBAAmB,uBAAAlY,EAAA,sDACpD,EAAKlE,MAAM8b,4BADyC,2CAElDS,OAGC,EAAKZ,6BAAwD,IAAzBa,OACxC,EAAKb,4BAA8BnX,OAAO4X,YAAP,wBAAmB,uBAAAlY,EAAA,sDACrD,EAAKlE,MAAM6b,uBAD0C,2CAEnDW,Q,EAiBLC,qBAAuB,WACtBjB,cAAc,EAAKD,sBACnBC,cAAc,EAAKC,2BACnBD,cAAc,EAAKE,4BACnBF,cAAc,EAAKG,8B,EAGpBe,OAAS,kBAAM,EAAK1c,MAAM2c,U,mEAnBrB1T,KAAKjJ,MAAMK,KAAKyC,QACnBmG,KAAK2S,2BAEL3S,KAAKjJ,MAAM6b,uBACX5S,KAAKjJ,MAAM8b,4BACX7S,KAAKjJ,MAAM+b,2BACX9S,KAAKjJ,MAAMgc,2BACX/S,KAAKjJ,MAAMic,mBAAmB,QAAIxW,GAClCwD,KAAKqS,iC,GAxEevb,aAgGRiP,eAAWC,YAAQ,MAVP,SAACxC,GAC3B,MAAO,CACNsP,yBAA0B,kBAAMtP,EAASmQ,gBACzCZ,yBAA0B,kBAAMvP,EAASoQ,gBACzCf,0BAA2B,kBAAMrP,EAASqQ,gBAC1CjB,qBAAsB,kBAAMpP,EAASsQ,gBACrCd,mBAAoB,SAACnZ,EAASC,GAAV,OAAsB0J,EAASuQ,YAAiBla,EAASC,QAIrDkM,CAAkCnP,aAAgBub,M,2lECvG5E,IAAM/M,GAAY/N,UAAO6G,KAAV,MAGL,qBAAG1G,MAAkBE,SAEzBqU,GAAY1U,UAAO+F,IAAV,MAUTmP,GAAKlV,UAAO+F,IAAV,MAgBFoP,GAAanV,kBAAOkV,GAAPlV,CAAH,MACK,qBAAGG,MAAkBE,SAOpCgV,GAAKrV,UAAO6G,KAAV,MACE,qBAAG1G,MAAkBE,SAKzBmV,GAAKxV,UAAO6G,KAAV,MACE,gBAAG1G,EAAH,EAAGA,MAAO+F,EAAV,EAAUA,QAAV,OAAyBA,EAAU/F,EAAM+F,GAAW/F,EAAME,SAM9DoV,GAAQzV,UAAO+F,IAAV,MAyBiB,qBAAG5F,MAAkBE,SAKjC,qBAAGF,MAAkBE,SAOrB,gBAAGF,EAAH,EAAGA,MAAH,OAAeqO,YAAQ,IAAMrO,EAAME,UAI7Cqc,GAAiB1c,UAAO+F,IAAV,MA4FL2I,gBAfS,SAACC,GACxB,MAAO,CACNlM,UAAWkM,EAAMC,KAAKnM,UACtBka,YAAahO,EAAMiO,OAAOD,YAC1B/Z,WAAY+L,EAAMC,KAAKhM,WACvBia,iBAAkBlO,EAAMM,QAAQ4N,qBAIP,SAAC3Q,GAC3B,MAAO,CACNgD,aAAc,SAACL,GAAD,OAAkB3C,EAASgD,YAAaL,QAIzCH,EA5DK,SAACjP,GACpB,IAAI8Y,EACIpJ,EAAMC,cAAND,EACAwN,EAAyDld,EAAzDkd,YAAala,EAA4ChD,EAA5CgD,UAAWG,EAAiCnD,EAAjCmD,WAAYia,EAAqBpd,EAArBod,iBAE5C,GAAKpa,GAAcG,GAAcia,IAAqB9K,KAAYC,UAM3D,GACL9J,OAAOY,KAAK6T,GAAa5Y,QACzBtB,GACAG,GACA+Z,EAAYG,YAAyBra,EAAWG,IAS3C,CACN,IAAMoO,EAAS8L,YAAyBra,EAAWG,GAC7Cma,EAAmBC,aAAOpa,EAAW6B,QAAU,MAAQ7B,EAAW6B,OAAO8L,cACvDyM,aAAOva,EAAUgC,SAAkBhC,EAAUgC,OAAO8L,cAE5EgI,EACC,eAACmE,GAAD,CAAgBzK,UAAU,qBAA1B,UACC,eAAC,GAAD,WACC,eAAC,GAAD,WACE9C,EAAE,SADJ,KACgB4N,EADhB,OAGA,cAAC,GAAD,UAAK5N,EAAE,YACP,cAAC,GAAD,UAAKA,EAAE,aAER,cAAC,GAAD,UAAQwN,EAAY3L,GAAQlJ,KAAI,SAACmV,EAAY5K,GAAb,OA7DlB,SAACrI,EAAMqI,GACxB,IAAI6K,EAEAA,EADJhJ,KACiBlK,EAAKkT,WAAW7R,QAAQrB,EAAKmT,UAAUhJ,iBACvCC,YAAmBpK,EAAKkT,WAAYlT,EAAKmT,UAAUjS,SAAUlB,EAAKmT,UAAUhJ,iBAE7F,IACItF,EADEuO,EAAiB,UAAMF,GAE7B,IACCrO,EAAewO,aAA8BrT,EAAKmT,UAAU1Y,OAAQuF,EAAKsT,WAAW7Y,QACnF,SACD,OAAO,KAER,IAAM8R,EAAQgB,WAAWvN,EAAKuM,MAAMhL,YAAYF,QAAQwD,EAAasC,OAAOC,gBAE5E,OACC,eAAC,GAAD,WACC,cAAC,GAAD,CAAIlL,QAAS8D,EAAKiM,OAASC,IAAUC,IAAM,UAAY,SAAvD,SAAkEI,IAClE,cAAC,GAAD,UAAK6G,IACL,cAAC,GAAD,UAAKpT,EAAKuT,UAAUC,cAAc1D,OAAO,IAAK,OAHtCzH,GA6CgDoL,CAAUR,EAAY5K,gBArB/EkG,EACC,qBAAKtG,UAAW,qBAAhB,SACC,qBAAKA,UAAU,+DAAf,SACC,cAAC,GAAD,UAAY9C,EAAE,6BAdjBoJ,EACC,qBAAKtG,UAAU,+DAAf,SACC,cAACgB,EAAA,EAAD,CAASpJ,MAAO,GAAIC,OAAQ,GAAIsI,GAAE,uBAAkB3S,EAAMyT,SAAW,SAAW,WAAalN,QAAM,MAkCtG,OAAO,cAAC,GAAD,UAAYuS,O,4sGCnKpB,IAAM1K,GAAO7N,kBAAO8N,IAAP9N,CAAH,MAyBJ0d,GAAY1d,UAAO2d,GAAV,MAML,qBAAGxd,MAAkBE,SAGzBud,GAAU5d,UAAO+F,IAAV,MACQ,qBAAG5F,MAAkBG,OASpCud,GAAe7d,UAAO+F,IAAV,MAyBU,qBAAG5F,MAAkBE,SAKjC,qBAAGF,MAAkBE,SAOrB,gBAAGF,EAAH,EAAGA,MAAH,OAAeqO,YAAQ,IAAMrO,EAAME,UAI7C0N,GAAY/N,UAAO6G,KAAV,MAGL,qBAAG1G,MAAkBE,SAGzB6U,GAAKlV,UAAO+F,IAAV,MASFoP,GAAanV,kBAAOkV,GAAPlV,CAAH,MACK,qBAAGG,MAAkBE,SAOpCgV,GAAKrV,UAAO6G,KAAV,MACE,qBAAG1G,MAAkBE,SAKzBmV,GAAKxV,UAAO6G,KAAV,MACE,gBAAG1G,EAAH,EAAGA,MAAO+F,EAAV,EAAUA,QAAV,OAAyBA,EAAU/F,EAAM+F,GAAW/F,EAAME,SAM9DoV,GAAQzV,UAAO+F,IAAV,MAiBiB,qBAAG5F,MAAkBE,SAKjC,qBAAGF,MAAkBE,SAOrB,gBAAGF,EAAH,EAAGA,MAAH,OAAeqO,YAAQ,IAAMrO,EAAME,UAI7Cyd,GAAQ9d,kBAAO+d,KAAP/d,CAAH,MA8GI0O,gBAdS,SAACC,GACxB,MAAO,CACNlM,UAAWkM,EAAMC,KAAKnM,UACtBqT,OAAQnH,EAAMM,QAAQ+K,WACtBpX,WAAY+L,EAAMC,KAAKhM,eAIE,SAACsJ,GAC3B,MAAO,CACN8R,cAAe,SAACnI,GAAD,OAAW3J,EAAS+R,aAAYpI,QAIlCnH,EAxEM,SAACjP,GAAW,IAM5B8Y,EALIhW,EAAY5C,cAAZ4C,QACA4M,EAAMC,cAAND,EACA2G,EAAkCrW,EAAlCqW,OAAQrT,EAA0BhD,EAA1BgD,UAAWG,EAAenD,EAAfmD,WACrBsb,EAAepI,EAAOnR,QAAO,SAACkR,GAAD,OAAWA,EAAMsI,SAAWC,eAAYC,YAI3E,GAAK5b,GAAcG,EAMZ,GAAKsb,EAAana,QAAWtB,GAAcG,GAAeL,EAM1D,CACN,IAAMwa,EAAmBC,aAAOpa,EAAW6B,QAAU,MAAQ7B,EAAW6B,OAAO8L,cACzE+N,EAAkBtB,aAAOva,EAAUgC,QAAU,MAAQhC,EAAUgC,OAAO8L,cAE5EgI,EACC,sBAAKtG,UAAU,qBAAf,UACC,eAAC,GAAD,WACC,cAAC,GAAD,UAAK9C,EAAE,UACP,eAAC,GAAD,WACEA,EAAE,QADJ,KACemP,EADf,OAGA,eAAC,GAAD,WACEnP,EAAE,UADJ,KACiBmP,EADjB,OAGA,eAAC,GAAD,WACEnP,EAAE,SADJ,KACgB4N,EADhB,OAGA,cAAC,GAAD,UAAK5N,EAAE,eAER,cAAC,GAAD,UACE+O,EAAapW,KAAI,SAAC+N,EAAOxD,GAAR,OAzEJ,SAACwD,EAAOxD,EAAO5P,EAAWG,EAAYqb,GACxD,IAAMM,EAAY1I,EAAMI,OAASC,IAAU+C,KAAO,OAAS,MACrDzY,EAAO4T,YAAmByB,EAAMrV,KAAMiC,EAAUyI,SAAUzI,EAAU0R,iBACtEgK,EAAS,KAGPK,EAAS3I,EAAM2I,OAClBpK,YAAmByB,EAAM2I,OAAQ/b,EAAUyI,SAAUzI,EAAU0R,iBAC/D,KACC0B,EAAMsI,SAETA,EADkBtI,EAAMsI,SAAWC,eAAYC,SACpB,OAAS,UAErC,IAAMxP,EAAe4P,aAA0Bhc,EAAWG,GACpD2T,EAAQgB,WAAW1B,EAAMU,MAAMhL,YAAYF,QAAQwD,EAAasC,OAAOC,gBAE7E,OACC,eAAC,GAAD,WACC,cAAC,GAAD,CAAIlL,QAAS2P,EAAMI,OAASC,IAAUC,IAAM,UAAY,SAAxD,SAAmEoI,IACnE,cAAC,GAAD,UAAK/d,IACL,cAAC,GAAD,UAAKge,IACL,cAAC,GAAD,UAAKjI,IACL,cAAC,GAAD,UACC,sBAAKtE,UAAU,oDAAf,UACC,+BAAOkM,IAEP,cAACL,GAAD,CAAO1X,QAAS6X,EAAYjW,U,EAAW6N,YATjCxD,GAyDLqM,CAAW7I,EAAOxD,EAAO5P,EAAWG,EAAYnD,EAAMue,4BA1B1DzF,EACC,qBAAKtG,UAAU,kEAAf,SACC,cAAC,GAAD,UAAY9C,EAAE,2BARhBoJ,EACC,qBAAKtG,UAAU,+DAAf,SACC,cAACgB,EAAA,EAAD,CAASpJ,MAAO,GAAIC,OAAQ,GAAIsI,GAAE,wBAAmB3S,EAAMyT,SAAW,SAAW,WAAalN,QAAM,MAqCvG,OACC,eAAC,GAAD,WACC,cAAC0X,GAAD,UAAYvO,EAAE,gBACd,cAACyO,GAAD,UACC,cAACC,GAAD,UAAetF,Y,0hFC3PnB,IAAMoG,GAAW3e,UAAO+F,IAAV,MACX,qBAAG5F,MAAkBye,iBAUlBlK,GAAY1U,UAAO+F,IAAV,MAUT8Y,GAAQ7e,UAAO6G,KAAV,MACD,qBAAG1G,MAAkBE,SAWzBye,GAAiB9e,UAAO+F,IAAV,MAQdgZ,GAAW/e,UAAO+F,IAAV,MACX,qBAAG5F,MAAkBye,iBAEd,qBAAGze,MAAkBE,SAMzB2e,GAAUhf,UAAO6G,KAAV,MAUPoY,GAAajf,UAAO+F,IAAV,MACb,qBAAG5F,MAAkB+e,oBAKlBC,GAAkBnf,UAAO6G,KAAV,MAUfuY,GAAiBpf,UAAOwG,OAAV,MAKC,qBAAGrG,MAAkBG,OAChC,qBAAGH,MAAkBE,SAwBT,qBAAGF,MAAkBkf,OAKvCC,GAAatf,UAAO+F,IAAV,MACX,qBAAG5F,MAAkBye,iBAGd,qBAAGze,MAAkBE,SAYVkf,G,+MACpB5Q,MAAQ,CACP6Q,SAAU,EAAK/f,MAAMyB,MAClBkT,YAAmB,EAAK3U,MAAMyB,MAAO,EAAKzB,MAAMyL,SAAU,EAAKzL,MAAMggB,oBACrE,I,EAGJC,aAAe,SAACxe,GACf,IAAMye,EAAWC,YAAmB1e,GAAS,IAAK,EAAKzB,MAAMyL,UACxC,EAAKzL,MAAMogB,KAAOF,EAASG,WAAW,EAAKrgB,MAAMogB,OAKtE,EAAKpgB,MAAM0B,YAAYwe,GACvB,EAAK/F,SAAS,CACb4F,SAAUte,M,wDAqBF,IAAD,EASJwH,KAAKjJ,MATD,IAEPsgB,aAFO,MAEC,QAFD,MAGPC,eAHO,SAIPC,EAJO,EAIPA,SAJO,IAKPC,iBALO,SAMP9N,EANO,EAMPA,GANO,IAOP+N,mBAPO,SAQPC,EARO,EAQPA,YAEOZ,EAAa9W,KAAKiG,MAAlB6Q,SAER,OACC,cAACP,GAAD,CAAY7M,GAAIA,EAAhB,SACC,eAAC,GAAD,YACG8N,GACD,cAACnB,GAAD,UACC,cAAC,KAAD,UACC,cAACF,GAAD,UAAQkB,QAIX,eAACpB,GAAD,CAAU0B,MAAOH,EAAY,CAAEI,QAAS,IAAKC,aAAc,WAAc,GAAIN,SAAUD,EAAvF,UACC,cAACZ,GAAD,CAAgBa,WAAYA,EAAUhO,UAAU,8BAAhD,SACC,cAAC+M,GAAD,UACC,cAACG,GAAD,CAAiBlN,UAAU,yBAAyBjM,OAAQwa,QAAQP,GAApE,UACGA,IAAoB,OAARA,QAAQ,IAARA,OAAA,EAAAA,EAAUlc,QAAS,KAEtB,OAARkc,QAAQ,IAARA,OAAA,EAAAA,EAAUnG,MAAM,EAAG,IACnB,OADA,OAEAmG,QAFA,IAEAA,OAFA,EAEAA,EAAUnG,OAAc,OAARmG,QAAQ,IAARA,OAAA,EAAAA,EAAUlc,QAAS,EAAnC,OAAsCkc,QAAtC,IAAsCA,OAAtC,EAAsCA,EAAUlc,UAC9CwM,cACF0P,EAAS1P,gBANX,gBAWF2P,GACD,cAACpB,GAAD,UACC,cAAC2B,GAAA,EAAD,CACCjgB,KAAM,KACNyR,UAAU,2BACV/Q,MAAOse,EACPre,YAAauH,KAAKgX,oBAKrBO,GAAYE,GAAe,cAACb,GAAD,UAAac,e,GArFFpf,IAAMxB,WAA7B+f,GAoBbmB,yBAA2B,SAACjhB,EAAOkP,GAAW,IAC5CzD,EAAwCzL,EAAxCyL,SAAUhK,EAA8BzB,EAA9ByB,MAAOue,EAAuBhgB,EAAvBggB,mBACjBD,EAAa7Q,EAAb6Q,SAER,OAAKte,EAIMA,IAAU0e,YAAmBJ,GAAY,IAAKtU,GAAUiM,GAAGjW,GAC9D,CACNse,SAAUpL,YAAmBlT,EAAOgK,EAAUuU,IAGxC,KARA,CACND,SAAU,K,idCrJd,IAAMmB,GAAM3gB,UAAO+F,IAAV,MAUHuI,GAAOtO,UAAO6G,KAAV,MAGA,qBAAG1G,MAAkBE,SASzBugB,GACE,QADFA,GAEG,SAGHC,G,+MACLlS,MAAQ,CACPmS,eAAgB9K,KAChB+K,eAAgB/K,KAChBgL,kBAAmBC,aACnBC,kBAAmBD,aACnBE,iBAAkBnL,KAClBoL,kBAAkB,G,EAGnBC,mB,yCAAqB,WAAOC,GAAP,gBAAA3d,EAAA,0DACd4d,EAAW,EAAK9hB,OAEZ+hB,aAAeF,EAAUE,YAClCD,EAASE,YAAcH,EAAUG,WACjCF,EAASG,cAAgBJ,EAAUI,aACnCH,EAAS1S,eAAiByS,EAAUzS,cACpC0S,EAASI,YAAcL,EAAUK,UAPd,gCASb,EAAKC,2BATQ,2C,wDAarBA,yB,wBAA2B,iGAAAje,EAAA,2DACqB,EAAKlE,MAA5CoP,EADkB,EAClBA,aAAc4S,EADI,EACJA,UAAWE,EADP,EACOA,UAC5B9S,EAFqB,oDAMtB4S,IAAcb,GANQ,0BAO0C,EAAKnhB,MAAhEiiB,EAPiB,EAOjBA,YAAaF,EAPI,EAOJA,WAAYK,EAPR,EAOQA,wBAAyB/hB,EAPjC,EAOiCA,KAClD2Q,EAAgB5B,EAAhB4B,MAAOH,EAASzB,EAATyB,KACT1N,EAAaI,eAAiB8e,iBAAiBrR,GAC/ChO,EAAYO,eAAiB8e,iBAAiBxR,GAE9CyR,EAAwBnC,YAAmB4B,EAAWjW,WAAY3I,EAAWsI,UAC7E8W,EAAyBC,YAAaP,EAAajf,EAAUyI,UAC7DiW,EAAmBa,EAAuBE,aAAaH,GAdpC,UAekDF,EAC1EH,EACAF,EACAG,EACA7hB,EAAKyC,QACL0B,OAAOC,UAAYpE,EAAK0C,SApBA,iBAejB2f,EAfiB,EAejBA,SAAUnB,EAfO,EAePA,kBAAmBoB,EAfZ,EAeYA,SAAUlB,EAftB,EAesBA,kBAO/C,EAAKtH,SAAS,CACbkH,eAAgBqB,EAChBnB,oBACAD,eAAgBqB,EAChBlB,oBACAC,qBA3BwB,0BA8B8B,EAAK1hB,MAApDiiB,EA9BiB,EA8BjBA,YAAaW,EA9BI,EA8BJA,eAAgBC,EA9BZ,EA8BYA,cAC/Bjc,EAASsb,IAAczL,IAAU+C,KA/Bd,EAgCyCsJ,aACjE,CACC1V,OAAQ6U,EACR5L,OAAQzP,EAASic,EAAgBD,GAElCV,GArCwB,mBAgClBa,EAhCkB,KAgCJC,EAhCI,KAgCqBrB,EAhCrB,KAwCnBsB,EAAqBF,EAAale,MAAK,SAACqe,GAAD,OAAOA,EAAEzB,oBAAsBD,gBACtEC,EAAoBwB,EAAqBA,EAAmBxB,kBAAoBD,aAChFF,EAAiByB,EAAapM,QAAO,SAACwM,EAAK/M,GAAN,OAAgB+M,EAAItd,KAAKuQ,EAAMuM,YAAWpM,MAC/EmL,EAAmB0B,aAA4BlB,EAAWa,EAAcC,GAE9E,EAAK7I,SAAS,CACbmH,iBACAG,oBACAC,mBACAC,qBAjDwB,4C,EAsD3B0B,wBAA0B,WAAO,IACxB1B,EAAqB,EAAKzS,MAA1ByS,iBAER,GADsB,EAAK3hB,MAAnBgiB,YACUb,KAAqBQ,EACtC,MAAM,MAJwB,IAOvB3Q,EAAU,EAAKhR,MAAMoP,aAArB4B,MACF7N,EAAaI,eAAiB8e,iBAAiBrR,GAC7C0Q,EAAqB,EAAKxS,MAA1BwS,iBAEF4B,EAAa3O,YAAmB+M,EAAkBve,EAAWsI,SAAUtI,EAAWuR,iBACxF,MAAM,GAAN,OAAU4O,EAAV,YAAwB1S,YAAkBI,K,EAG3CuS,+BAAiC,WAAO,IAC/B5B,EAAqB,EAAKzS,MAA1ByS,iBACAK,EAAc,EAAKhiB,MAAnBgiB,UACAC,EAAgB,EAAKjiB,MAArBiiB,YACR,GAAID,IAAcb,KAAqBQ,EACtC,MAAM,MAEP,GAAIM,EAAYvK,GAAG,GAClB,MAAM,MAR+B,MAUN,EAAK1X,MAAMoP,aAAnC4B,EAV8B,EAU9BA,MAAOH,EAVuB,EAUvBA,KAAMa,EAViB,EAUjBA,OACbgQ,EAAqB,EAAKxS,MAA1BwS,iBACFve,EAAaI,eAAiB8e,iBAAiBrR,GAC/ChO,EAAYO,eAAiB8e,iBAAiBxR,GAC9C2S,EAAwB,IAAIje,YAAUoP,YAAmB+M,EAAkBve,EAAWsI,SAAU,KAChGgY,EAAuB,IAAIle,YAAUoP,YAAmBsN,EAAajf,EAAUyI,SAAU,KACzFiY,EAAeF,EAAsBld,IAAImd,GAAsBE,SAASjS,EAAOC,eAAiB,GACtG,MAAM,GAAN,OAAU+R,EAAV,YAA0B9S,YAAkBI,K,EAG7C4S,6BAA+B,WAAO,IAAD,EACC,EAAK5jB,MAAtBkiB,GADgB,EAC5B2B,WAD4B,EAChB3B,WAAWxS,EADK,EACLA,EAC/B,OACQwS,IAAczL,IAAU+C,KAAO9J,EAAE,SAAWA,EAAE,S,EAMvDoU,kB,wBAAoB,uBAAA5f,EAAA,sEACb,EAAKie,2BADQ,2C,EAIpBzF,OAAS,WAER,IAAMqH,EAAO,EAAKV,0BACZW,EAAW,EAAKJ,+BAChBK,EAAkB,EAAKV,iCAJf,EAKW,EAAKvjB,MAAtBgiB,EALM,EAKNA,UAAWtS,EALL,EAKKA,EAEnB,OACC,qCACC,eAAC,GAAD,WACC,cAAC,GAAD,UAAOsU,IACP,cAAC,GAAD,UAAOD,OAEP/B,IAAcb,IACd,eAAC,GAAD,WACC,eAAC,GAAD,WAAOzR,EAAE,eAAT,OACA,cAAC,GAAD,UAAOuU,W,YA7Ic1iB,IAAMxB,WAmKlBD,gBAAgBmP,aAdP,SAACC,GACxB,MAAO,CACN0T,eAAgBsB,YAAkBhV,GAClC2T,cAAesB,YAAiBjV,GAChC2U,WAAYO,YAAclV,OAID,SAACzC,GAC3B,MAAO,CACN2V,wBAAyB,SAAChV,EAAQ0J,EAAON,EAAM1T,EAASC,GAA/B,OACxB0J,EAAS4X,aAAsBjX,EAAQ0J,EAAON,EAAM1T,EAASC,QAGjCkM,CAA6C8L,aAAgBqG,M,kqDC3K5F,IAAMhT,GAAO7N,kBAAO8N,IAAP9N,CAAH,MAoBJ+jB,GAAiB/jB,UAAO+F,IAAV,MAWdie,GAAgBhkB,UAAO+F,IAAV,MAYbke,GAAajkB,UAAO+F,IAAV,MAWVme,GAAMlkB,kBAAOuG,KAAPvG,CAAH,MAOH4d,GAAU5d,UAAO+F,IAAV,MAKPoe,GAAmBnkB,UAAO+F,IAAV,MAIhBqe,GAAapkB,UAAO+F,IAAV,MAOVse,GAAerkB,UAAOwG,OAAV,MAEP,qBAAGrG,MAAkBE,SAK1BugB,GACE,QADFA,GAEG,SAMH0D,G,+MACL3V,MAAQ,CACP4V,YAAa,KACbhO,MAAO,KACPkL,UAAWb,GACX4D,IAAKtO,IAAUC,IACfjW,MAAO,CACNukB,OAAQ,KACRC,QAAS,O,EAIXrD,mB,yCAAqB,WAAOC,GAAP,gBAAA3d,EAAA,uDACd4d,EAAW,EAAK9hB,OACTgY,qBAAuB6J,EAAU7J,oBAAsB,EAAK9I,MAAM8S,YAAcb,IAC5F,EAAKhH,SAAS,CACbrD,MAAOgL,EAAS9J,qBAKjB8J,EAAS1J,sBAAwByJ,EAAUzJ,qBAC3C,EAAKlJ,MAAM8S,YAAcb,IAEzB,EAAKhH,SAAS,CACb2K,YAAahD,EAAS1J,sBAbJ,2C,wDAkBrB8M,UAAY,SAACH,GAAD,OAAS,kBAAM,EAAK5K,SAAS,CAAE4K,U,EAE3CI,kBAAoB,SAACjF,GACpB,EAAK/F,SAAS,CACb2K,YAAa5E,K,EAIfkF,wBAA0B,WAAO,IAAD,EACkC,EAAKplB,MAA9D8F,EADuB,EACvBA,iBAAkBK,EADK,EACLA,kBAAmBR,EADd,EACcA,gBAE7C,GADgB,EAAKuJ,MAAb6V,MACItO,IAAU+C,KAAM,CAC3B,GAAI1T,EAAkB,CAAC,IAAD,EACfuf,EAAqB9H,aAAOzX,EAAiBf,MAAMC,QACtDW,EACAG,EAAiBJ,QACd4f,EAAoB3Q,YACzB0Q,EACAvf,EAAiBf,MAAM0G,SACvB3F,EAAiBf,MAAM2P,iBAElB1P,EAAS4L,YAAiB,UAAC9K,EAAiBf,aAAlB,aAAC,EAAwBC,QACzD,MAAM,cAAN,OAAqBsgB,EAArB,aAA2CtgB,GAE3C,OAAO,KAGR,GAAImB,EAAmB,CAAC,IAAD,QAChBkf,EAAqB9H,aAAM,UAACpX,EAAkBpB,aAAnB,aAAC,EAAyBC,QACxDW,EACAQ,EAAkBT,QACf6f,EAAqB5Q,YAC1B0Q,EAD4C,UAE5Clf,EAAkBpB,aAF0B,aAE5C,EAAyB0G,SAFmB,UAG5CtF,EAAkBpB,aAH0B,aAG5C,EAAyB2P,iBAEpB1P,EAAS4L,YAAiB,UAACzK,EAAkBpB,aAAnB,aAAC,EAAyBC,QAC1D,MAAM,cAAN,OAAqBugB,EAArB,aAA4CvgB,GAE5C,OAAO,M,EAKVwgB,YAAc,SAAC1O,GACd,EAAKqD,SAAS,CAAErD,W,EAGjB2O,O,wBAAS,qDAAAvhB,EAAA,yDACH,EAAKlE,MAAMK,KAAKyC,QADb,uBAEP,EAAK9C,MAAMG,oBAFJ,mBAGA,GAHA,gBAK+D,EAAKH,MAApEoP,EALA,EAKAA,aAAcnK,EALd,EAKcA,cAAeL,EAL7B,EAK6BA,YAAaF,EAL1C,EAK0CA,WAAYrE,EALtD,EAKsDA,KACxDqlB,EAAYtW,EAAasC,OAAOgU,UAChCja,EAAWlI,eAAiB8e,iBAAiBjT,EAAayB,MAAMpF,SAChEka,EAAiBxF,YAAmByF,OAAOF,GAAYja,GAEvDyW,EAAY,EAAKhT,MAAM6V,IACvBD,EAAc,EAAK5V,MAAM4V,aAAea,EACxC7O,EAAQ,EAAK5H,MAAM4H,OAAS,IAAIvR,YAAU,GAZxC,UAcmB,EAAKvF,MAAMoiB,wBACrC0C,EACAhO,EACA,EAAK5H,MAAM6V,IACX1kB,EAAKyC,QACL0B,OAAOC,UAAYpE,EAAK0C,SAnBjB,WAcF8iB,EAdE,OAsBJ,EAAK3W,MAAM8S,YAAcb,GAtBrB,qBAuBH2E,IAvBG,kCAwBe,EAAK9lB,MAAM+lB,2BAC/BjB,EACAhO,EACAoL,EACA2D,EACA5gB,EACAL,EACAF,GA/BK,WAiCS,IAjCT,yCAkCC,EAAK1E,MAAMgmB,mBAChBlB,EACAhO,EACAoL,EACA2D,EACA5gB,EACAL,GAxCI,iDA4CA,EAAK5E,MAAMgmB,mBAChBlB,EACAhO,EACAoL,EACA2D,EACA5gB,EACAL,GAlDK,2DAuDA,EAAK5E,MAAMimB,oBAChBnB,EACA5C,EACAjd,EACAL,EACAF,EAAWgB,SA5DN,2DA+DN,EAAKyU,SACJ,CACC1Z,MAAO,CACNukB,OAAQ,QACRC,QAAS,KAAMiB,WAGjB,WAECC,YAAW,WACV,EAAKhM,SAAS,CACb1Z,MAAM,6BACF,EAAKyO,MAAMzO,OADV,IAEJukB,OAAQ,WA7JS,KAiKpBmB,YAAW,WACV,EAAKhM,SAAS,CACb1Z,MAAM,6BACF,EAAKyO,MAAMzO,OADV,IAEJwkB,QAAS,WApKS,QAgFjB,QA4FR,EAAKmB,SA5FG,2D,EA+FTA,OAAS,WACR,EAAKjM,SAAS,CACb2K,YAAa,Q,EAIfuB,gBAAkB,WACjB,EAAKlM,SAAS,CACb6H,UAAWb,M,EAIbmF,eAAiB,WAChB,EAAKnM,SAAS,CACb6H,UAAWb,M,EAIbyC,6BAA+B,WAAO,IAAD,EACF,EAAK5jB,MAAnBkiB,GADgB,EAC5B2B,WAD4B,EAChB3B,WACpB,OACQA,IAAczL,IAAU+C,KAAO,QAAU,Q,wDAMxC,IAAD,MASJvQ,KAAKjJ,MAPRoP,EAFO,EAEPA,aACAjJ,EAHO,EAGPA,kBACAL,EAJO,EAIPA,iBACAH,EALO,EAKPA,gBACA3C,EANO,EAMPA,UACAG,EAPO,EAOPA,WACAuM,EARO,EAQPA,EARO,EAU8CzG,KAAKiG,MAAnD4V,EAVA,EAUAA,YAAahO,EAVb,EAUaA,MAAOiO,EAVpB,EAUoBA,IAAK/C,EAVzB,EAUyBA,UAAWvhB,EAVpC,EAUoCA,MAEtC8lB,EAAmB,CACxB,CACChgB,OAAQyb,IAAcb,GACtBxa,QAASsC,KAAKqd,eACdhW,KAAMZ,EAAE,UAET,CACCnJ,OAAQyb,IAAcb,GACtBxa,QAASsC,KAAKod,gBACd/V,KAAMZ,EAAE,YAGJjE,EAAWlI,eAAiB8e,iBAAiBjT,EAAayB,MAAMpF,SAChE+a,EAAgBjjB,eAAiB8e,iBAAiBjT,EAAa4B,OAAOvF,SAEtEkG,EAAiBvC,EAAasC,OAAOC,eACrC+T,EAAYtW,EAAasC,OAAOgU,UAChCC,EAAiBxF,YAAmByF,OAAOxW,EAAasC,OAAOgU,WAAYja,GAE3E8L,EAAgBnI,EAAasC,OAAO6F,cACpCkP,EAActgB,GAAqBoX,aAAM,UAACpX,EAAkBpB,aAAnB,aAAC,EAAyBC,QACnE0hB,EAAa5gB,GAAoByX,aAAM,UAACzX,EAAiBf,aAAlB,aAAC,EAAwBC,QAEhE2hB,EAAaF,EAChBG,YAA8BjhB,GAAmB4Q,KAAM,IACvDqQ,YAA+BzgB,GAAqBA,EAAkBT,SAAY6Q,KAAMiQ,GAErFK,EAAcH,EAAa/gB,EAAmBG,GAAoBA,EAAiBJ,SAAY6Q,KAE/FnJ,EAAS0X,GAAea,EACxBmB,EAAmBF,YAA8BxZ,EAAQ3B,GACzDsb,EAAgC,OAAX3Z,GAAmBA,EAAOjB,SAC/C6a,EAA8B,OAAX5Z,GAAmBA,EAAOiT,WAAWsF,GAExDsB,EAAyB,OAAVnQ,GAAkBA,EAAM3K,SACvC+a,EACK,OAAVpQ,GAAkBA,EAAMuJ,WAAW,IAAI9a,YAAU,GAAGe,IAAI,IAAIf,YAAU,IAAI4hB,IAAIxV,KACzEyV,EACLpF,IAAcb,KAAoB4F,GAAsBE,GAAgBC,GACnErgB,EAAQke,IAAQtO,IAAUC,IAC1B2Q,EACJrF,IAAcb,IAAmBta,GAASigB,EAAiBrE,aAAa3L,GAASP,MAAM+Q,GAAGX,KACzF9f,GAASuG,EAAOka,GAAGT,GAEhBU,EAA2BvF,IAAcb,KAAqB4F,GAAsBC,GACpFrW,EAAaC,YAAkBxB,EAAayB,MAC5C2W,EAAYzC,IAAQtO,IAAUC,IAAlB,UAA2BhH,EAAE,iBAA7B,eAAsDA,EAAE,kBAAxD,KACZ+X,EAAUhnB,GAASA,EAAMukB,OAAS,QAAUwC,EAAY7W,EAE9D,OACC,eAAC,GAAD,WACC,eAAC4T,GAAD,CAAe/R,UAAU,oDAAzB,UACC,cAACgS,GAAD,UACC,cAACC,GAAD,CACChe,QAASse,IAAQtO,IAAUC,IAAM,kBAAoB,wBACrD/P,QAASsC,KAAKic,UAAUzO,IAAUC,KAFnC,SAIEhH,EAAE,qBAGL,cAAC8U,GAAD,UACC,cAACC,GAAD,CACChe,QAASse,IAAQtO,IAAU+C,KAAO,kBAAoB,wBACtD7S,QAASsC,KAAKic,UAAUzO,IAAU+C,MAFnC,SAIE9J,EAAE,yBAIN,eAAC,GAAD,WACC,cAACiV,GAAD,UACE4B,EAAiBle,KAAI,SAAC0c,EAAKnS,GAC3B,OACC,qCACC,cAACgS,GAAD,CACCpS,UAAU,oBACVkV,SAAU3C,EAAIxe,OACdI,QAASoe,EAAIpe,QAHd,SAKEoe,EAAIzU,OAELsC,EAAQ2T,EAAiBjiB,OAAS,GAAK,sBAAMkO,UAAW,OAAjB,uBAK5C,cAAC,GAAD,CACCzN,MAAO/B,EACPyI,SAAUA,EACVhK,MAAO2L,EACP1L,YAAauH,KAAKkc,kBAClB3E,SAAUpR,EAAayB,KACvBmP,mBAAoBzI,EACpB+I,MAAK,uBAAkBoF,EAAlB,KACL/E,YAAa1X,KAAKmc,wBAClB1E,aAAa,EACbN,IAAKuF,IAEL3D,IAAcb,IACd,cAACmD,GAAD,UACC,cAAC,GAAD,CACCvf,MAAO5B,EACPsI,SAAU,EACV2U,IAAK7J,KACL9U,MAAOqV,EACPpV,YAAauH,KAAKuc,YAClBhF,SAAUpR,EAAa4B,MACvBgP,mBAAoBrO,EACpB2O,MAAO5Q,EAAE,iBACTgR,aAAa,MAIhB,cAACgE,GAAD,CAAkBlS,UAAU,qBAA5B,SACC,cAACmV,GAAD,CACC3F,UAAWA,EACXE,UAAW6C,EACX9C,YAAa7U,EACb2U,WAAYjL,GAAS,IAAIvR,YAAU,GAAGe,IAAI,IAAIf,YAAU,IAAI4hB,IAAIxV,IAChEvC,aAAcA,MAGhB,qBAAKoD,UAAU,8FAAf,SACC,cAAC1L,GAAA,EAAD,CACC4gB,SACCze,KAAKjJ,MAAMK,KAAKyC,UACfskB,GAA2BG,GAA4BF,GAEzD1gB,QAASsC,KAAKwc,OACdhf,QAAS,UACTma,MAAO,CACNgH,SAAU,IACVvd,OAAQ,GACRwd,UAAW,GACXC,SAAU,GACVC,WAAY,KAZd,SAeG9e,KAAKjJ,MAAMK,KAAKyC,QAAgC2kB,EAAtB/X,EAAE,gC,GA9Vf3P,aA0YPqG,gBAAY6I,aAnCH,SAACC,GACxB,MAAO,CACNlM,UAAWkM,EAAMC,KAAKnM,UACtBG,WAAY+L,EAAMC,KAAKhM,WACvBiM,aAAc4Y,YAAgB9Y,GAC9B8I,mBAAoBiQ,YAAsB/Y,GAC1CkJ,oBAAqB8P,YAAuBhZ,GAC5C0T,eAAgBsB,YAAkBhV,GAClC2T,cAAesB,YAAiBjV,OAIP,SAACzC,GAC3B,MAAO,CACNuZ,mBAAoB,SAAC5Y,EAAQ0J,EAAON,EAAMqP,EAAc5gB,EAAeL,GAAnD,OACnB6H,EAAS0b,aAAuB/a,EAAQ0J,EAAON,EAAMqP,EAAc5gB,EAAeL,KACnFmhB,2BAA4B,SAAC3Y,EAAQ0J,EAAON,EAAMqP,EAAc5gB,EAAeL,EAAaF,GAAhE,OAC3B+H,EACC2b,aACChb,EACA0J,EACAN,EACAqP,EACA5gB,EACAL,EACAF,KAGHuhB,oBAAqB,SAAC7Y,EAAQoJ,EAAMvR,EAAeL,EAAaF,GAA3C,OACpB+H,EAAS4b,aAAwBjb,EAAQoJ,EAAMvR,EAAeL,EAAaF,KAC5E0d,wBAAyB,SAAChV,EAAQ0J,EAAON,EAAM1T,EAASC,GAA/B,OACxB0J,EAAS4X,aAAsBjX,EAAQ0J,EAAON,EAAM1T,EAASC,QAIrCkM,CAA6C8L,eAAkBjb,aAAgB+kB,O,gCC9fpGxkB,GAAO,IAAI2a,KAAKA,KAAKC,eAAiBD,KAAKE,UAAUC,aAAaC,kEA+CzDnM,gBAfS,SAACC,GACxB,MAAO,CACNoZ,KAAM9b,YAAyB0C,OAIN,SAACzC,GAC3B,MAAO,CACN8b,iBAAkB,SAACC,EAAapb,EAAQoJ,EAAM1T,EAASC,GAArC,OACjB0J,EAAS8b,aAAiBC,EAAapb,EAAQoJ,EAAM1T,EAASC,KAC/D0lB,kBAAmB,SAACrb,EAAQ0J,EAAON,EAAM1T,EAASzC,EAAM0C,GAArC,OAClB0J,EAASgc,aAAkBrb,EAAQ0J,EAAON,EAAM1T,EAASzC,EAAM0C,QAInDkM,EA7CgB,SAACjP,GAAW,IAAD,EACZE,cAArB4C,EADiC,EACjCA,QAASC,EADwB,EACxBA,QACTulB,EAAStoB,EAATsoB,KACAlb,EAAwBkb,EAAxBlb,OAAQ0J,EAAgBwR,EAAhBxR,MAAON,EAAS8R,EAAT9R,KAEjBkS,EAAW,yCAAG,6BAAAxkB,EAAA,+EAEQlE,EAAMyoB,kBAC/Brb,EACA0J,EACAN,EACA1T,EACAzC,GAAK6b,iBAAmB1X,OAAOC,SAC/B1B,GARiB,cAEZylB,EAFY,gBAUZxoB,EAAMuoB,iBAAiBC,EAAapb,EAAQoJ,GAVhC,OAYlBxW,EAAM2oB,SAZY,gDAclB3oB,EAAM4N,YAdY,yDAAH,qDAsBjB,OAJAvJ,qBAAU,WACTqkB,MACE,CAACJ,EAAMxlB,IAEH,cAAC,KAAD,CAA4B8K,UAAW5N,EAAM4N,UAAWC,YAAa,gCC9BvExN,GAAO,IAAI2a,KAAKA,KAAKC,eAAiBD,KAAKE,UAAUC,aAAaC,kEA8CzDnM,gBAhBS,SAACC,GACxB,MAAO,CACNoZ,KAAM9b,YAAyB0C,GAC/BE,aAAc4Y,YAAgB9Y,GAC9B/L,WAAYC,YAAc8L,OAID,SAACzC,GAC3B,MAAO,CACNmc,2BAA4B,SAACxb,EAAQ0J,EAAON,EAAM1T,EAASC,GAA/B,OAC3B0J,EAASoc,aAAyBzb,EAAQ0J,EAAON,EAAM1T,EAASC,KACjE+lB,cAAe,SAAChmB,EAASC,GAAV,OAAsB0J,EAASsc,aAA0BjmB,EAASC,QAIpEkM,EA5C2B,SAACjP,GAAW,IAAD,EACvBE,cAArB4C,EAD4C,EAC5CA,QACAwlB,GAF4C,EACnCvlB,QAC4B/C,EAArCsoB,MAAMM,EAA+B5oB,EAA/B4oB,2BACNxb,EAAwBkb,EAAxBlb,OAAQoJ,EAAgB8R,EAAhB9R,KAAMM,EAAUwR,EAAVxR,MAEhB4R,EAAW,yCAAG,+BAAAxkB,EAAA,+EAEuB0kB,EACxCxb,EACA0J,EACAN,EACA1T,EACAzC,GAAK6b,iBAAmB1X,OAAOC,UAPd,gBAEVukB,EAFU,EAEVA,OAFU,EAEFC,eAOhBjpB,EAAM2oB,OAAOK,GACbhpB,EAAM8oB,gBAVY,kDAYlB9oB,EAAM4N,YAZY,0DAAH,qDAoBjB,OAJAvJ,qBAAU,WACTqkB,MACE,CAACJ,EAAMxlB,IAEH,cAAC,KAAD,CAA4B8K,UAAW5N,EAAM4N,UAAWC,YAAa,gCC3BvExN,GAAO,IAAI2a,KAAKA,KAAKC,eAAiBD,KAAKE,UAAUC,aAAaC,kEA+CzDnM,gBAhBS,SAACC,GACxB,MAAO,CACNoZ,KAAM9b,YAAyB0C,GAC/BE,aAAc4Y,YAAgB9Y,GAC9B/L,WAAYC,YAAc8L,OAID,SAACzC,GAC3B,MAAO,CACNwZ,oBAAqB,SAAC7Y,EAAQoJ,EAAM1T,EAASC,GAAxB,OACpB0J,EAASyc,aAAkB9b,EAAQoJ,EAAM1T,EAASC,KACnD+lB,cAAe,SAAChmB,EAASC,GAAV,OAAsB0J,EAASsc,aAA0BjmB,EAASC,QAIpEkM,EA7C2B,SAACjP,GAAW,IAAD,EACvBE,cAArB4C,EAD4C,EAC5CA,QACAwlB,GAF4C,EACnCvlB,QACqB/C,EAA9BsoB,MAAMrC,EAAwBjmB,EAAxBimB,oBACN7Y,EAA0Bkb,EAA1Blb,OAAQoJ,EAAkB8R,EAAlB9R,KAAMvW,EAAYqoB,EAAZroB,QAEhByoB,EAAW,yCAAG,+BAAAxkB,EAAA,kEAEF,UAAZjE,EAFc,gCAGwBgmB,EACxC7Y,EACAoJ,EACA1T,EACAzC,GAAK6b,iBAAmB1X,OAAOC,UAPf,gBAGTukB,EAHS,EAGTA,OAHS,EAGDC,eAMhBjpB,EAAM2oB,OAAOK,GACbhpB,EAAM8oB,gBAVW,yDAalB9oB,EAAM4N,YAbY,0DAAH,qDAqBjB,OAJAvJ,qBAAU,WACTqkB,MACE,CAACJ,EAAMxlB,IAEH,cAAC,KAAD,CAA4B8K,UAAW5N,EAAM4N,UAAWC,YAAa,gCCyB9Dsb,GAhDO,SAACnpB,GAAW,IAAD,EACE8D,oBAAS,GADX,mBACzBslB,EADyB,KACdC,EADc,OAEJvlB,mBAAS,MAFL,mBAEzBklB,EAFyB,KAEjBM,EAFiB,KAG1B/c,EAActJ,YAAYuJ,KAC1BC,EAAWC,cACXpF,EAAyB,OAAhBiF,EAETgd,EAAY,WACjBF,GAAa,GACbC,EAAU,MACV7c,EAAS+c,aAAyB,QAG7Bb,EAAS,SAAClb,GACf4b,GAAa,GACbC,EAAU7b,IAGX,OACC,qCACEzN,EAAM2c,SACP,cAAC,KAAD,CAAO8M,KAAMniB,EAAQoiB,UAAQ,EAACC,OAAQJ,EAAtC,SACC,cAAC,KAAMK,KAAP,CAAYpX,UAAW,YAAvB,SACG4W,EAiBD,cAAC,KAAD,CAA6BS,QAASC,IAAUC,KAAMf,EAAQpb,UAAW2b,IAhBzE,qCACEhd,GAAeA,EAAYyd,OAASC,KAASC,iBAC7C,cAAC9d,GAAA,EAAD,CAAawB,UAAW2b,IAGxBhd,GAAeA,EAAYyd,OAASC,KAASE,cAC7C,cAAC,GAAD,CAAwBvc,UAAW2b,EAAWZ,OAAQA,IAEtDpc,GAAeA,EAAYyd,OAASC,KAASG,sBAC7C,cAAC,GAAD,CAAmCxc,UAAW2b,EAAWZ,OAAQA,IAEjEpc,GAAeA,EAAYyd,OAASC,KAASI,eAC7C,cAACC,GAAD,CAA2B1c,UAAW2b,EAAWZ,OAAQA,e,whCC/BjE,IAAMzH,GAAM3gB,UAAO+F,IAAV,MACG,qBAAGikB,WAA+B,OAAS,UAM1C,qBAAGC,YAAiC,OAAS,UAGpDC,GAAMlqB,UAAO+F,IAAV,MAMH8H,GAAO7N,kBAAOmT,IAAPnT,CAAH,MAiBJmqB,GAAgBnqB,kBAAO8N,IAAP9N,CAAH,MAsHJoqB,UAlGF,SAAC3qB,GAAW,IAAD,EACC8D,mBAAS,kBADV,mBAChBsN,EADgB,KACVwZ,EADU,OAEW3nB,aAAY,SAACiM,GAAD,OAAWA,EAAMC,QAAvDnM,EAFe,EAEfA,UAAWG,EAFI,EAEJA,WACbsJ,EAAWC,cAkBjB,OAhBArI,qBAAU,WACT,GAAKrB,GAAcG,EAEZ,CACN,IAAM6N,EACL7N,GAAkD,SAApCA,EAAW6B,OAAO6lB,cAA2B,MAAQ1nB,EAAW6B,OAAO8L,cAChFD,EACL7N,GAAgD,SAAnCA,EAAUgC,OAAO6lB,cAA2B,MAAQ7nB,EAAUgC,OAAO8L,cACnF8Z,EAAQ,WAAD,OAAY/Z,GAAZ,OAAmBG,SAN1B4Z,EAAQ,oBAQP,CAAC5nB,EAAWG,IAEfkB,qBAAU,WACToI,EAASqe,kBACP,CAACre,IAGH,cAACse,EAAA,EAAD,CAAM1oB,OAAO,EAAO2oB,aAAW,EAACjqB,KAAM,KAAtC,SACC,cAAC,GAAD,UACC,eAAC,GAAD,WACC,eAAC,GAAD,CAAKypB,aAAW,EAAhB,UACC,cAAC,GAAD,UACC,cAAC,EAAD,MAED,eAAC,GAAD,WACC,cAAC,GAAD,CAAeS,kBAAkB,IACjC,cAAC,GAAD,UACC,cAAC,IAAD,CACCjmB,OAAQoM,EACR1Q,MAAOwqB,SAAOC,KACdC,qBAAqB,EACrBhhB,MAAO,OACPC,OAAQ,WAIX,cAAC,GAAD,UACC,eAACqgB,GAAD,WACC,cAAC,GAAD,IACA,cAAC,GAAD,YAIH,eAAC,GAAD,CAAKlY,UAAW,sBAAuBgY,aAAW,EAAlD,UACC,cAAC,GAAD,UACC,cAAC,GAAD,MAED,cAAC,GAAD,UACC,cAAC,GAAD,SAGF,eAAC,GAAD,CAAKD,YAAU,EAAf,UACC,eAAC,GAAD,WACC,cAAC,GAAD,CAAe9W,UAAU,EAAMwX,kBAAkB,IACjD,cAAC,GAAD,UACC,cAAC,IAAD,CACCjmB,OAAQoM,EACR1Q,MAAOwqB,SAAOC,KACdC,qBAAqB,EACrBhhB,MAAO,OACPC,OAAQ,WAKX,cAAC,GAAD,UACC,cAAC,GAAD,MAGD,cAAC,GAAD,UACC,cAACqgB,GAAD,UACC,cAAC,GAAD,CAAWjX,UAAU,QAGvB,cAAC,GAAD,UACC,cAACiX,GAAD,UACC,cAAC,GAAD,CAAajX,UAAU,QAGzB,cAAC,GAAD,UACC,cAAC,EAAD,CAAaA,UAAU,MAGxB,cAAC,GAAD,UACC,cAAC,GAAD,CAAcA,UAAU","file":"static/js/19.5bc7ac6b.chunk.js","sourcesContent":["import { useActiveWeb3React } from \"../../hooks\";\nimport { useWalletModalToggle } from \"../../state/application/hooks\";\n\nconst withWeb3Account = (Component: any) => {\n\treturn (props: any) => {\n\t\tconst context = useActiveWeb3React();\n\t\tconst toggleWalletModal = useWalletModalToggle();\n\t\treturn <Component web3={context} toggleWalletModal={toggleWalletModal} {...props} />;\n\t};\n};\n\nexport default withWeb3Account;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { escapeRegExp } from \"../../utils\";\n\nconst StyledInput = styled.input<{\n\terror?: boolean;\n\tfontSize?: string;\n\talign?: string;\n\tnoBorder?: boolean;\n\treverse?: boolean;\n\tsize?: string;\n}>`\n\tcolor: ${({ error, theme }) => (error ? theme.red1 : theme.text1)};\n\twidth: 0;\n\tposition: relative;\n\tfont-weight: 500;\n\tfont-family: inherit;\n\toutline: none;\n\tborder: none;\n\tflex: 1 1 auto;\n\tbackground-color: ${({ theme }) => theme.bg3};\n\tfont-size: 1rem;\n\ttext-align: ${({ align }) => align && align};\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\theight: ${({ size }) => (size === \"sm\" ? \"48px\" : \"56px\")};\n\tborder-bottom-right-radius: ${({ reverse }) => (reverse ? \"0\" : `1.125rem`)};\n\tborder-top-right-radius: ${({ reverse }) => (reverse ? \"0\" : `1.125rem`)};\n\tborder-bottom-left-radius: ${({ reverse }) => (reverse ? \"1.125rem\" : `0`)};\n\tborder-top-left-radius: ${({ reverse }) => (reverse ? \"1.125rem\" : `0`)};\n\tpadding-right: 0.625rem;\n\tpadding-left: ${({ noBorder, reverse }) => (reverse ? \"1.375rem\" : noBorder ? \"0.625rem\" : `1.5rem`)};\n\t-webkit-appearance: textfield;\n\tborder-left: ${({ theme, noBorder }) => (noBorder ? \"none\" : `3px solid ${theme.modalBG}`)};\n\n\t@media (min-width: 768px) {\n\t\tpadding-right: 4.5625rem;\n\t}\n\n\t::-webkit-search-decoration {\n\t\t-webkit-appearance: none;\n\t}\n\n\t[type=\"number\"] {\n\t\t-moz-appearance: textfield;\n\t}\n\n\t::-webkit-outer-spin-button,\n\t::-webkit-inner-spin-button {\n\t\t-webkit-appearance: none;\n\t}\n\n\t::placeholder {\n\t\tcolor: ${({ theme }) => theme.text3};\n\t}\n`;\n\nconst inputRegex = RegExp(`^\\\\d*(?:\\\\\\\\[.])?\\\\d*$`); // match escaped \".\" characters via in a non-capturing group\n\nexport const Input = React.memo(function InnerInput({\n\tvalue,\n\tonUserInput,\n\tplaceholder,\n\tsize,\n\t...rest\n}: {\n\tvalue: string | number;\n\tonUserInput: (input: string) => void;\n\terror?: boolean;\n\tfontSize?: string;\n\tsize?: string;\n\talign?: \"right\" | \"left\";\n} & Omit<React.HTMLProps<HTMLInputElement>, \"ref\" | \"onChange\" | \"as\">) {\n\tconst enforcer = (nextUserInput: string) => {\n\t\tif (nextUserInput === \"\" || inputRegex.test(escapeRegExp(nextUserInput))) {\n\t\t\tonUserInput(nextUserInput);\n\t\t}\n\t};\n\n\treturn (\n\t\t<StyledInput\n\t\t\t{...rest}\n\t\t\tvalue={value}\n\t\t\tonChange={(event) => {\n\t\t\t\t// replace commas with periods, because uniswap exclusively uses period as the decimal separator\n\t\t\t\tenforcer(event.target.value.replace(/,/g, \".\"));\n\t\t\t}}\n\t\t\t// universal input options\n\t\t\tinputMode=\"decimal\"\n\t\t\ttitle=\"Token Amount\"\n\t\t\tautoComplete=\"off\"\n\t\t\tautoCorrect=\"off\"\n\t\t\tsize={size}\n\t\t\t// text-specific options\n\t\t\ttype=\"text\"\n\t\t\tpattern=\"^[0-9]*[.,]?[0-9]*$\"\n\t\t\tplaceholder={placeholder || \"0.0\"}\n\t\t\tminLength={1}\n\t\t\tmaxLength={79}\n\t\t\tspellCheck=\"false\"\n\t\t/>\n\t);\n});\n\nexport default Input;\n\n// const inputRegex = RegExp(`^\\\\d*(?:\\\\\\\\[.])?\\\\d*$`) // match escaped \".\" characters via in a non-capturing group\n","import { useMemo, useState, useEffect } from \"react\";\nimport { tokensToTokenBalances } from \"../utils/spot/tokens\";\nimport { useActiveWeb3React } from \"./index\";\nimport { useSelector } from \"react-redux\";\nimport { getBaseToken, getQuoteToken, searchToken } from \"../state/selectors\";\nimport { getKnownTokens } from \"../utils/known_tokens\";\nimport { useETHBalances } from \"../state/wallet/hooks\";\nimport { BigNumber } from \"@0x/utils\";\n\nexport const useTokenToBalance = (tokens, address, library) => {\n\tconst [balances, setBalances] = useState([]);\n\n\tconst fetchBalances = async () => {\n\t\tif (address) {\n\t\t\tconst res = await tokensToTokenBalances(tokens, address, library);\n\t\t\tsetBalances(res);\n\t\t}\n\t};\n\tuseEffect(() => {\n\t\tfetchBalances();\n\t}, [address, tokens]);\n\n\treturn useMemo(() => {\n\t\tif (balances.length > 0) {\n\t\t\treturn balances;\n\t\t} else {\n\t\t\treturn [];\n\t\t}\n\t}, [address, balances, tokens]);\n};\n\nexport const useSpotBalances = () => {\n\tconst { account, library } = useActiveWeb3React();\n\n\tconst baseToken = useSelector(getBaseToken);\n\tconst quoteToken = useSelector(getQuoteToken);\n\n\tconst knownTokens = useMemo(() => {\n\t\treturn getKnownTokens();\n\t}, []);\n\tconst tokens = useMemo(() => {\n\t\treturn knownTokens.getTokens();\n\t}, []);\n\n\tconst wethToken = useMemo(() => {\n\t\treturn knownTokens.getWethToken();\n\t}, []);\n\n\tconst t = useMemo(() => {\n\t\treturn [...tokens, wethToken];\n\t}, [wethToken, tokens]);\n\tconst allBalances = useTokenToBalance(t, account, window.ethereum || library);\n\n\tconst ethBalance = useETHBalances([account]);\n\n\tconst wethBalance = useMemo(() => {\n\t\treturn allBalances.find((b) => b.token.symbol === wethToken.symbol);\n\t}, [allBalances]);\n\n\tconst tokensBalance = useMemo(() => {\n\t\treturn allBalances.filter((b) => b.token.symbol !== wethToken.symbol);\n\t}, [allBalances]);\n\n\tconst ethereumBalance = useMemo(() => {\n\t\tconst ETH = ethBalance[account] ? ethBalance[account].toExact() : null;\n\t\tconst bn = new BigNumber(ETH * 10 ** 18);\n\n\t\treturn {\n\t\t\ttoken: ethBalance[account] ? ethBalance[account].currency : undefined,\n\t\t\tbalance: bn,\n\t\t};\n\t}, [ethBalance]);\n\n\tconst totalEthBalance = useMemo(() => {\n\t\tif (wethBalance && ethereumBalance) {\n\t\t\tlet total = wethBalance.balance;\n\t\t\tif (ethereumBalance.token !== undefined) {\n\t\t\t\ttotal = ethereumBalance.balance.plus(wethBalance.balance);\n\t\t\t}\n\n\t\t\treturn total;\n\t\t} else {\n\t\t\treturn undefined;\n\t\t}\n\t}, [ethereumBalance, wethBalance]);\n\n\tconst baseTokenBalance = useMemo(() => {\n\t\treturn searchToken({ tokenBalances: tokensBalance, wethTokenBalance: wethBalance, tokenToFind: baseToken });\n\t}, [baseToken, tokensBalance, wethBalance]);\n\n\tconst quoteTokenBalance = useMemo(() => {\n\t\treturn searchToken({ tokenBalances: tokensBalance, wethTokenBalance: wethBalance, tokenToFind: quoteToken });\n\t}, [quoteToken, tokensBalance, wethBalance]);\n\n\treturn useMemo(() => {\n\t\treturn {\n\t\t\tquoteTokenBalance,\n\t\t\tbaseTokenBalance,\n\t\t\ttotalEthBalance,\n\t\t\tethBalance: ethereumBalance,\n\t\t\twethBalance,\n\t\t\ttokensBalance,\n\t\t};\n\t}, [account, baseToken, quoteToken, allBalances, baseTokenBalance, quoteTokenBalance]);\n};\n","import { useSpotBalances } from \"../../hooks/useTokenToBalance\";\n\nconst withBalance = (Component) => {\n\treturn (props) => {\n\t\tconst balances = useSpotBalances();\n\t\treturn <Component {...props} {...balances} />;\n\t};\n};\n\nexport default withBalance;\n","import styled from \"styled-components\";\n\nconst Wrapper = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: flex-start;\n\tjustify-content: space-between;\n\twidth: 30px;\n\theight: 30px;\n\tmin-width: 30px;\n\tmin-height: 30px;\n\tpadding: 10px 6px;\n\tbackground-color: ${({ theme }) => theme.bg3};\n\tborder-radius: 30px;\n\topacity: ${({ active }) => (active ? \"1\" : \"0.5\")};\n\tcursor: pointer;\n`;\n\nconst Cell = styled.div`\n\theight: 2px;\n\tborder-radius: 9px;\n\twidth: 13px;\n\tbackground-color: ${({ theme, variant }) => (variant ? theme[variant] : \"#D3D6E8\")};\n\n\t&:not(:last-child) {\n\t\twidth: 17px;\n\t}\n`;\n\nconst BookOption = (props) => {\n\treturn (\n\t\t<Wrapper active={props.active} onClick={props.onChange} {...props}>\n\t\t\t<Cell variant={props.isSell && \"danger\"} />\n\t\t\t<Cell />\n\t\t\t<Cell variant={props.isBuy && \"success\"} />\n\t\t</Wrapper>\n\t);\n};\n\nexport default BookOption;\n","import styled from \"styled-components\";\nimport { useState, useCallback } from \"react\";\nimport SVG from \"react-inlinesvg\";\nimport { darken } from \"polished\";\n\nconst Wrapper = styled.div`\n\tposition: relative;\n\tz-index: 2;\n\tperspective: 800px;\n`;\n\nconst Button = styled.button`\n\theight: ${({ size }) => (size === \"sm\" ? \"32px\" : \"56px\")};\n\tpadding-left: ${({ size }) => (size === \"sm\" ? \"16px\" : \"20px\")};\n\tpadding-right: ${({ size }) => (size === \"sm\" ? \"22px\" : \"24px\")};\n\tborder-radius: ${({ size }) => (size === \"sm\" ? \"12px\" : \"18px\")};\n\tbackground-color: ${({ variant }) =>\n\t\tvariant === \"secondary\" ? \"rgba(121, 133, 246, 0.15)\" : \"rgba(135, 220, 225, 0.15)\"};\n\ttransition: 0.4s ease all;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tcolor: ${({ variant, theme }) => (variant === \"secondary\" ? theme.secondary2 : theme.primary)};\n\tborder: none;\n\n\t&:hover {\n\t\tbackground-color: ${({ variant, theme }) => (variant === \"secondary\" ? theme.secondary2 : theme.primary)};\n\t\tcolor: ${({ theme }) => theme.text1};\n\t}\n\n\t&:focus,\n\t&:active {\n\t\toutline: none;\n\t\tbackground-color: ${({ variant, theme }) =>\n\t\t\tvariant === \"secondary\" ? darken(0.1, theme.secondary2) : darken(0.1, theme.primary)};\n\t\tbox-shadow: 0 0 0 5px\n\t\t\t${({ variant }) => (variant === \"secondary\" ? \"rgba(121, 133, 246, 0.15)\" : \"rgba(135, 220, 225, 0.15)\")};\n\t\tcolor: ${({ theme }) => theme.text1};\n\t}\n\n\t@media (max-width: 991px) {\n\t\theight: 32px;\n\t\tfont-size: 0.875rem;\n\t\tborder-radius: 12px;\n\t\tpadding-left: 15px;\n\t\tpadding-right: 21px;\n\t}\n`;\n\nconst ButtonText = styled.span`\n\tcolor: currentColor;\n\tfont-weight: 500;\n\tfont-size: 1rem;\n\tpadding-right: 1rem;\n\n\t@media (max-width: 991px) {\n\t\tpadding-right: 0.5rem;\n\t}\n`;\n\nconst DropdownList = styled.div`\n\tbackground-image: linear-gradient(346.84deg, #9aa7d0 1.12%, #b7c2e4 78.56%);\n\tbox-shadow: -1px 11px 43px rgba(0, 0, 0, 0.12);\n\tborder-radius: 12px;\n\tposition: absolute;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: flex-start;\n\tright: 0;\n\ttop: ${({ size }) => (size === \"sm\" ? `42px` : `66px`)};\n\tmin-width: 100%;\n\tpadding: ${({ size }) => (size === \"sm\" ? `14px` : `20px`)};\n\ttransition: 0.5s ease all;\n\ttransform-style: preserve-3d;\n\ttransform-origin: top center;\n\ttransform: ${({ isOpen }) => (isOpen ? `translateY(0) scale(1)` : `translateY(20px) scale(0.8)`)};\n\topacity: ${({ isOpen }) => (isOpen ? `1` : `0`)};\n\tvisibility: ${({ isOpen }) => (isOpen ? `visible` : `hidden`)};\n\n\t@media (max-width: 991px) {\n\t\ttop: 42px;\n\t}\n`;\n\nconst DropdownItem = styled.button`\n\tborder: none;\n\tbackground-color: transparent;\n\tfont-weight: 500;\n\tfont-size: 1rem;\n\tcolor: #232429;\n\twhite-space: nowrap;\n\tpadding: 0;\n\n\t@media (max-width: 991px) {\n\t\tfont-size: 0.875rem;\n\t}\n\n\t&:hover,\n\t&:focus,\n\t&:active {\n\t\toutline: none;\n\t\ttext-decoration: none;\n\t\tbox-shadow: none;\n\t}\n\n\t&:not(:last-child) {\n\t\tmargin-bottom: ${({ size }) => (size === \"sm\" ? `14px` : `20px`)};\n\t}\n`;\n\nconst Dropdown = (props) => {\n\tconst [active, setActive] = useState(props.items[props.active] || null);\n\tconst [open, setOpen] = useState(false);\n\n\tconst toggleModal = useCallback(() => {\n\t\tsetOpen((open) => !open);\n\t}, []);\n\n\tconst changeActiveHandler = useCallback(\n\t\t(item) => {\n\t\t\tsetActive(item);\n\t\t\tsetOpen(false);\n\t\t\tif (props.hasOwnProperty(\"onChange\")) {\n\t\t\t\tprops.onChange(item.value);\n\t\t\t}\n\t\t},\n\t\t[props.onChange]\n\t);\n\n\treturn (\n\t\t<Wrapper>\n\t\t\t<Button variant={props.variant} onClick={toggleModal} isOpen={open} size={props.size || \"md\"}>\n\t\t\t\t<ButtonText>{active ? active.title : props.placeholder || \"Select\"}</ButtonText>\n\t\t\t\t<SVG src={require(\"../../../assets/images/global/dropdown.svg\").default} />\n\t\t\t</Button>\n\t\t\t<DropdownList isOpen={open} size={props.size || \"md\"}>\n\t\t\t\t{props.items.map((item, i) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<DropdownItem size={\"sm\"} onClick={changeActiveHandler.bind(this, item)} key={`dropdown-${i}`}>\n\t\t\t\t\t\t\t{item.title}\n\t\t\t\t\t\t</DropdownItem>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</DropdownList>\n\t\t</Wrapper>\n\t);\n};\n\nexport default Dropdown;\n","export default __webpack_public_path__ + \"static/media/dropdown.4a406929.svg\";","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar AlertTriangle = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"12\",\n    y1: \"9\",\n    x2: \"12\",\n    y2: \"13\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"12\",\n    y1: \"17\",\n    x2: \"12.01\",\n    y2: \"17\"\n  }));\n});\nAlertTriangle.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nAlertTriangle.displayName = 'AlertTriangle';\nexport default AlertTriangle;","import { UI_DECIMALS_DISPLAYED_ORDER_SIZE } from \"../../constants\";\n\nexport const padRightSplitted = (numBg, decimals = UI_DECIMALS_DISPLAYED_ORDER_SIZE) => {\n\tconst numBgToFixed = numBg.toFixed(decimals);\n\tconst numBgToString = numBg.toString();\n\n\tconst decimalPlaces = (numBgToString.split(\".\")[1] || []).length;\n\n\tlet diff = \"\";\n\tlet num = numBgToFixed;\n\tif (!numBg.isZero() && decimalPlaces < decimals) {\n\t\tdiff = numBgToFixed.replace(numBgToString, \"\");\n\t\tnum = numBgToString;\n\t}\n\n\treturn {\n\t\tnum,\n\t\tdiff,\n\t};\n};\n\nexport const truncateAddress = (address) => {\n\treturn `${address.slice(0, 7)}...${address.slice(address.length - 5)}`;\n};\n","import { ConfirmationPendingContent } from \"../../../../components/TransactionConfirmationModal\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { getStepsModalCurrentStep } from \"../../../../state/selectors\";\nimport { UNLIMITED_ALLOWANCE_IN_BASE_UNITS } from \"../../../../constants\";\nimport { useActiveWeb3React } from \"../../../../hooks\";\nimport { getContractWrappers } from \"../../../../utils/spot/contractWrapper\";\nimport { ERC20TokenContract } from \"@0x/contract-wrappers\";\nimport { stepsModalAdvanceStep } from \"../../../../state/spotUI/actions\";\n\nconst UnlockToken = (props) => {\n\tconst [unlocking, setUnlocking] = useState(false);\n\tconst { account, library } = useActiveWeb3React();\n\tconst currentStep = useSelector(getStepsModalCurrentStep);\n\tconst { address, token } = currentStep;\n\tconst web3 = props.web3;\n\tconst dispatch = useDispatch();\n\n\tconst unlockToken = async () => {\n\t\ttry {\n\t\t\tconst contractWrappers = await getContractWrappers(web3.getProvider());\n\t\t\tconst approveAddress = address ? address : contractWrappers.contractAddresses.erc20Proxy;\n\n\t\t\tconst erc20Token = new ERC20TokenContract(token.address, contractWrappers.getProvider());\n\t\t\tconst amount = UNLIMITED_ALLOWANCE_IN_BASE_UNITS;\n\n\t\t\tconst tx = await erc20Token.approve(approveAddress, amount).sendTransactionAsync({\n\t\t\t\tfrom: account,\n\t\t\t});\n\t\t\tsetUnlocking(true);\n\t\t\tawait web3.awaitTransactionSuccessAsync(tx);\n\n\t\t\tif (tx) {\n\t\t\t\tsetUnlocking(false);\n\t\t\t\tdispatch(stepsModalAdvanceStep());\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tsetUnlocking(false);\n\t\t\tprops.onDismiss();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tunlockToken();\n\t}, [currentStep]);\n\n\treturn (\n\t\t<ConfirmationPendingContent\n\t\t\tonDismiss={unlocking ? () => null : props.onDismiss}\n\t\t\tpendingText={unlocking ? \"Unlocking\" : \"Waiting for confirmation\"}\n\t\t/>\n\t);\n};\n\nexport default UnlockToken;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar ChevronDown = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"6 9 12 15 18 9\"\n  }));\n});\nChevronDown.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nChevronDown.displayName = 'ChevronDown';\nexport default ChevronDown;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar ArrowUpCircle = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\"\n  }), /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"16 12 12 8 8 12\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"12\",\n    y1: \"16\",\n    x2: \"12\",\n    y2: \"8\"\n  }));\n});\nArrowUpCircle.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nArrowUpCircle.displayName = 'ArrowUpCircle';\nexport default ArrowUpCircle;","import React, { useCallback, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { BigNumber } from \"@0x/utils\";\nimport styled from \"styled-components\";\nimport { lighten } from \"polished\";\nimport { withRouter } from \"react-router-dom\";\nimport queryString from \"query-string\";\n\nimport { ServerState } from \"../../../../constants\";\nimport { getMarketFilters } from \"../../../../common/markets\";\nimport { changeMarket } from \"../../../../state/spot/actions\";\nimport { formatTokenSymbol } from \"../../../../utils/spot/tokens\";\nimport { filterMarketsByString, filterMarketsByTokenSymbol, marketToString } from \"../../../../utils/spot/market\";\n\nimport { ResponsiveCard } from \"../../../../components/Card\";\nimport { useActiveWeb3React } from \"../../../../hooks\";\nimport Loading from \"../../../../components/Loading\";\nimport SearchIcon from \"../../../../assets/images/search.svg\";\nimport \"./styles.scss\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport { useTranslation } from \"react-i18next\";\nimport SVG from \"react-inlinesvg\";\nimport {\n\tInputGroupFormControl as FormControl,\n\tInputGroupPrepend,\n\tInputGroupText,\n\tInputGroup,\n} from \"../../../../components/Form\";\n\nconst Card = styled(ResponsiveCard)`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: stretch;\n\tmargin-bottom: 20px;\n\n\t& .card-body {\n\t\tpadding: 30px;\n\t}\n\n\t@media (min-width: 1400px) {\n\t\twidth: 228px;\n\t\theight: 486px;\n\t\tmargin-bottom: 10px;\n\n\t\t& .card-body {\n\t\t\tpadding: 10px;\n\t\t}\n\t}\n`;\n\nconst EmptyText = styled.span`\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tcolor: ${({ theme }) => theme.text1};\n`;\n\nconst CustomInputGroup = styled(InputGroup)`\n\tfont-size: 0.75rem;\n\n\t.input-group-text {\n\t\tpadding-left: 1.25rem;\n\t\tpadding-right: 0.625rem;\n\t}\n\n\t& input {\n\t\tfont-size: 0.75rem !important;\n\t\tpadding-left: 0;\n\t}\n\n\t& img {\n\t\twidth: 1rem;\n\t\theight: 1rem;\n\t}\n`;\n\nconst PriceChange = styled.span`\n\tcolor: ${(props) =>\n\t\tprops.value > 0 ? props.theme.success : props.value < 0 ? props.theme.danger : props.theme.text3};\n\tdisplay: block;\n`;\n\nconst TokenFiltersTabs = styled.div`\n\twidth: 100%;\n\tflex-wrap: nowrap;\n\tpadding: 15px 0;\n`;\n\nconst TokenFiltersTab = styled.button`\n\tbackground-color: transparent;\n\tborder: none;\n\tcolor: ${({ active, theme }) => (active ? theme.primary : theme.text1)};\n\tfont-size: 12px;\n\tfont-weight: 400;\n\n\t&:active,\n\t&:focus {\n\t\toutline: none;\n\t\tbox-shadow: none;\n\t\ttext-decoration: none;\n\t}\n`;\n\nconst Text = styled.span`\n\tcolor: ${({ theme, variant }) => (variant ? theme[variant] : theme.text1)};\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n\tcursor: pointer;\n`;\n\nconst AutoHeight = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex: 1;\n\toverflow-y: auto;\n\toverflow-x: hidden;\n\tmax-height: 360px;\n\n\t@media (max-width: 1400px) {\n\t\tmax-height: initial;\n\t}\n\n\t/* width */\n\t::-webkit-scrollbar {\n\t\twidth: 3px;\n\t}\n\n\t/* Track */\n\t::-webkit-scrollbar-track {\n\t\tbox-shadow: none;\n\t\tbackground-color: transparent;\n\t\tborder-radius: 10px;\n\t\tpadding: 0 6px;\n\t\tmargin: 0 6px;\n\t\tborder-right: 1px solid ${({ theme }) => theme.text1};\n\t}\n\n\t/* Handle */\n\t::-webkit-scrollbar-thumb {\n\t\tbackground: ${({ theme }) => theme.text1};\n\t\tborder-radius: 10px;\n\t\twidth: 4px !important;\n\t}\n\n\t/* Handle on hover */\n\t::-webkit-scrollbar-thumb:hover {\n\t\tbackground: ${({ theme }) => lighten(0.08, theme.text1)};\n\t}\n`;\n\nconst MarketStats = (props) => {\n\tconst { account, library } = useActiveWeb3React();\n\tconst { t } = useTranslation();\n\tconst [query, setQuery] = useState(\"\");\n\tconst [selectedFilter, setSelectedFilter] = useState(getMarketFilters()[0]);\n\tconst { baseToken, quoteToken, markets, marketsStats, marketsStatsState } = props;\n\n\tconst _getLastPrice = (market, marketStat) => {\n\t\tif (marketStat && marketStat.last_price) {\n\t\t\treturn new BigNumber(marketStat.last_price).toFixed(market.currencyPair.config.pricePrecision);\n\t\t}\n\n\t\treturn \"-\";\n\t};\n\n\tconst _getLastPriceChange = (marketStat) => {\n\t\tif (marketStat && marketStat.last_price_change_24) {\n\t\t\treturn (\n\t\t\t\t<PriceChange value={marketStat.last_price_change_24}>{`${new BigNumber(marketStat.last_price_change_24)\n\t\t\t\t\t.times(100)\n\t\t\t\t\t.toFixed(2)} %`}</PriceChange>\n\t\t\t);\n\t\t}\n\n\t\treturn <PriceChange value={0}>{`${new BigNumber(0).toFixed(2)} %`}</PriceChange>;\n\t};\n\n\tconst _setTokensFilterTab = (filter) => {\n\t\tsetSelectedFilter(filter);\n\t};\n\n\tconst _setSelectedMarket = (currencyPair, account, library) => {\n\t\tconst callback = (currencyPair) => {\n\t\t\tconst newSearch = queryString.stringify({\n\t\t\t\tbase: currencyPair.base,\n\t\t\t\tquote: currencyPair.quote,\n\t\t\t});\n\t\t\tprops.history.push(`${props.match.path}?${newSearch}`);\n\t\t};\n\t\tcallback(currencyPair);\n\t\tprops.changeMarket(currencyPair, account, library);\n\t};\n\n\tconst changeQueryHandler = useCallback((e) => {\n\t\tsetQuery(e.target.value);\n\t}, []);\n\n\tconst columns = [\n\t\t{\n\t\t\tdataField: \"market\",\n\t\t\ttext: t(\"market\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\tconst baseSymbol = formatTokenSymbol(row.currencyPair.base).toUpperCase();\n\t\t\t\tconst quoteSymbol = formatTokenSymbol(row.currencyPair.quote).toUpperCase();\n\t\t\t\treturn (\n\t\t\t\t\t<Text>\n\t\t\t\t\t\t{baseSymbol} / {quoteSymbol}\n\t\t\t\t\t</Text>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdataField: \"price\",\n\t\t\ttext: t(\"table.price\"),\n\t\t\tformatter: (cellContent, row, rowIndex, { _getLastPrice, marketsStats }) => {\n\t\t\t\tconst marketStats =\n\t\t\t\t\tmarketsStats && marketsStats.find((m) => m.pair.toUpperCase() === marketToString(row.currencyPair));\n\t\t\t\treturn <Text>{_getLastPrice(row, marketStats)}</Text>;\n\t\t\t},\n\t\t\tformatExtraData: {\n\t\t\t\t_getLastPrice,\n\t\t\t\tmarketsStats,\n\t\t\t},\n\t\t},\n\t];\n\n\tconst rowEvents = {\n\t\tonClick: (e, row) => {\n\t\t\t_setSelectedMarket(row.currencyPair, account, library);\n\t\t},\n\t};\n\n\tconst _getMarkets = () => {\n\t\tconst { baseToken, markets } = props;\n\n\t\tif (!baseToken || !markets) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst filteredMarkets =\n\t\t\tselectedFilter == null || selectedFilter.value === null\n\t\t\t\t? markets\n\t\t\t\t: filterMarketsByTokenSymbol(markets, selectedFilter.value);\n\t\tconst searchedMarkets = filterMarketsByString(filteredMarkets, query);\n\n\t\treturn (\n\t\t\t<AutoHeight>\n\t\t\t\t<BootstrapTable\n\t\t\t\t\tbordered={false}\n\t\t\t\t\tclasses=\"table table-head-custom table-borderless table-vertical-center overflow-hidden market-stats__table\"\n\t\t\t\t\tbootstrap4\n\t\t\t\t\tkeyField={\"id\"}\n\t\t\t\t\tremote\n\t\t\t\t\trowEvents={rowEvents}\n\t\t\t\t\tdata={searchedMarkets === null ? [] : searchedMarkets}\n\t\t\t\t\tcolumns={columns}\n\t\t\t\t/>\n\t\t\t</AutoHeight>\n\t\t);\n\t};\n\n\tif (!baseToken || !quoteToken || marketsStatsState === ServerState.NotLoaded) {\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n\t\t\t\t\t<Loading width={40} height={40} id={`spots-${props.isMobile ? \"mobile\" : \"desktop\"}`} active />\n\t\t\t\t</div>\n\t\t\t</Card>\n\t\t);\n\t} else if (!baseToken || !quoteToken) {\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n\t\t\t\t\t<EmptyText>{t(\"errors.noMarket\")}</EmptyText>\n\t\t\t\t</div>\n\t\t\t</Card>\n\t\t);\n\t} else if (!markets && !marketsStats) {\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n\t\t\t\t\t<Loading\n\t\t\t\t\t\twidth={40}\n\t\t\t\t\t\theight={40}\n\t\t\t\t\t\tid={`spots-markets-loading-${props.isMobile ? \"mobile\" : \"desktop\"}`}\n\t\t\t\t\t\tactive\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Card>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Card>\n\t\t\t<CustomInputGroup className={\"w-auto\"}>\n\t\t\t\t<InputGroupPrepend>\n\t\t\t\t\t<InputGroupText>\n\t\t\t\t\t\t<SVG src={SearchIcon} />\n\t\t\t\t\t</InputGroupText>\n\t\t\t\t</InputGroupPrepend>\n\t\t\t\t<FormControl id=\"PoolsSearch\" placeholder={t(\"search\")} onChange={changeQueryHandler} />\n\t\t\t</CustomInputGroup>\n\n\t\t\t<TokenFiltersTabs className={\"d-flex align-items-center justify-content-between\"}>\n\t\t\t\t{getMarketFilters().map((filter, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<TokenFiltersTab\n\t\t\t\t\t\t\tactive={filter === selectedFilter}\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tonClick={_setTokensFilterTab.bind(this, filter)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{filter.text}\n\t\t\t\t\t\t</TokenFiltersTab>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</TokenFiltersTabs>\n\t\t\t{_getMarkets()}\n\t\t</Card>\n\t);\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tbaseToken: state.spot.baseToken,\n\t\tcurrencyPair: state.spot.currencyPair,\n\t\tmarkets: state.spot.markets,\n\t\tquoteToken: state.spot.quoteToken,\n\t\tmarketsStats: state.spot.marketsStats,\n\t\tmarketsStatsState: state.relayer.marketsStatsState,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tchangeMarket: (currencyPair) => dispatch(changeMarket(currencyPair)),\n\t};\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(MarketStats));\n","import { connect } from \"react-redux\";\nimport { BigNumber } from \"@0x/utils\";\nimport styled from \"styled-components\";\n\nimport { USE_RELAYER_MARKET_UPDATES } from \"../../../../constants\";\nimport { changeMarket } from \"../../../../state/spot/actions\";\nimport {\n\tformatTokenName,\n\tformatTokenSymbol,\n\tgetEtherscanLinkForToken,\n\ttokenAmountInUnits,\n} from \"../../../../utils/spot/tokens\";\nimport {\n\tgetCurrentMarketLastPrice,\n\tgetCurrentMarketTodayClosedOrders,\n\tgetCurrentMarketTodayHighPrice,\n\tgetCurrentMarketTodayLowerPrice,\n\tgetCurrentMarketTodayQuoteVolume,\n} from \"../../../../state/selectors\";\nimport StyledCard from \"../../../../components/Card\";\nimport { useActiveWeb3React } from \"../../../../hooks\";\nimport Loading from \"../../../../components/Loading\";\nimport React from \"react\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport Img from \"../../../../components/UI/Img\";\nimport { toAbsoluteUrl } from \"../../../../lib/helper\";\nimport \"./styles.scss\";\nimport ResponsiveTable from \"../../../../components/ResponsiveTable\";\nimport { useTranslation } from \"react-i18next\";\n\nconst Card = styled(StyledCard)`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: stretch;\n\tmargin-bottom: 20px;\n\n\t& .card-body {\n\t\tpadding: 24px 20px 20px;\n\t}\n\n\t@media (min-width: 1400px) {\n\t\twidth: 570px;\n\t\theight: 103px;\n\t\tmargin-bottom: 10px;\n\n\t\t& .card-body {\n\t\t\tpadding: 24px;\n\t\t}\n\t}\n`;\n\nconst Logo = styled(Img)`\n\twidth: 24px;\n\tmin-width: 24px;\n\theight: 24px;\n\tborder-radius: 24px;\n\tborder: 1px solid ${({ theme }) => theme.text1};\n\tdisplay: block;\n\tmargin-right: 5px;\n\n\t@media (max-width: 1400px) {\n\t\tmargin-right: 10px;\n\t}\n`;\n\nconst Text = styled.span`\n\tcolor: ${({ theme, variant }) => (variant ? theme[variant] : theme.text1)};\n\tfont-size: 0.875rem;\n\tfont-weight: 500;\n`;\n\nconst MarketDetails = (props) => {\n\tconst { t } = useTranslation();\n\tconst { baseToken, quoteToken, currencyPair } = props;\n\n\tconst { highPrice, lowerPrice, volume, closedOrders, lastPrice } = props;\n\n\tconst marketStats = {\n\t\thighPrice,\n\t\tlowerPrice,\n\t\tvolume,\n\t\tclosedOrders,\n\t\tlastPrice,\n\t};\n\n\tconst columns = [\n\t\t{\n\t\t\tdataField: \"project\",\n\t\t\ttext: t(\"project\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"d-flex align-items-center\">\n\t\t\t\t\t\t<Logo src={toAbsoluteUrl(`/${row.baseToken.icon}`)} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdataField: \"last_price\",\n\t\t\ttext: t(\"table.price\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\tconst lastPrice = row.marketStats.lastPrice\n\t\t\t\t\t? new BigNumber(row.marketStats.lastPrice).toFixed(row.currencyPair.config.pricePrecision)\n\t\t\t\t\t: \"-\";\n\t\t\t\treturn <Text>{lastPrice}</Text>;\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdataField: \"max_price\",\n\t\t\ttext: t(\"table.24_high\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Text>\n\t\t\t\t\t\t{(row.marketStats.highPrice &&\n\t\t\t\t\t\t\trow.marketStats.highPrice.toFixed(row.currencyPair.config.pricePrecision)) ||\n\t\t\t\t\t\t\t\"-\"}\n\t\t\t\t\t</Text>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdataField: \"min_price\",\n\t\t\ttext: t(\"table.24_low\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\treturn <Text>{(row.marketStats.lowerPrice && row.marketStats.lowerPrice.toFixed(4)) || \"-\"}</Text>;\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdataField: \"volume\",\n\t\t\ttext: t(\"table.24_volume\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\tlet volume;\n\t\t\t\tif (USE_RELAYER_MARKET_UPDATES) {\n\t\t\t\t\tvolume =\n\t\t\t\t\t\t(row.marketStats.volume &&\n\t\t\t\t\t\t\t`${row.marketStats.volume.toFixed(row.quoteToken.displayDecimals)} ${formatTokenSymbol(\n\t\t\t\t\t\t\t\trow.quoteToken.symbol\n\t\t\t\t\t\t\t)}`) ||\n\t\t\t\t\t\t\"- \";\n\t\t\t\t} else {\n\t\t\t\t\tvolume =\n\t\t\t\t\t\t(row.marketStats.volume &&\n\t\t\t\t\t\t\t`${tokenAmountInUnits(\n\t\t\t\t\t\t\t\trow.marketStats.volume,\n\t\t\t\t\t\t\t\trow.quoteToken.decimals,\n\t\t\t\t\t\t\t\trow.quoteToken.displayDecimals\n\t\t\t\t\t\t\t).toString()} ${formatTokenSymbol(row.quoteToken.symbol)}`) ||\n\t\t\t\t\t\t\"- \";\n\t\t\t\t}\n\t\t\t\treturn <Text>{volume}</Text>;\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdataField: \"closed_orders\",\n\t\t\ttext: \"Orders Closed\",\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\treturn <Text>{row.marketStats.closedOrders || \"-\"}</Text>;\n\t\t\t},\n\t\t},\n\t];\n\n\tif (!baseToken || !quoteToken) {\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n\t\t\t\t\t<Loading\n\t\t\t\t\t\twidth={40}\n\t\t\t\t\t\theight={40}\n\t\t\t\t\t\tid={`spots-markets-details-${props.isMobile ? \"mobile\" : \"desktop\"}`}\n\t\t\t\t\t\tactive\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Card>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Card>\n\t\t\t<BootstrapTable\n\t\t\t\twrapperClasses=\"d-none d-lg-block\"\n\t\t\t\tbordered={false}\n\t\t\t\tclasses=\"table table-head-custom table-borderless table-vertical-center overflow-hidden market-details__table\"\n\t\t\t\tbootstrap4\n\t\t\t\tkeyField={\"id\"}\n\t\t\t\tremote\n\t\t\t\tdata={[{ marketStats, baseToken, quoteToken, currencyPair }]}\n\t\t\t\tcolumns={columns}\n\t\t\t/>\n\t\t\t<ResponsiveTable\n\t\t\t\tbreakpoint={\"lg\"}\n\t\t\t\tcolumns={columns}\n\t\t\t\tdata={[{ marketStats, baseToken, quoteToken, currencyPair }]}\n\t\t\t\tdirection={\"rtl\"}\n\t\t\t\twithoutBorder\n\t\t\t/>\n\t\t</Card>\n\t);\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tbaseToken: state.spot.baseToken,\n\t\tcurrencyPair: state.spot.currencyPair,\n\t\tquoteToken: state.spot.quoteToken,\n\t\thighPrice: getCurrentMarketTodayHighPrice(state),\n\t\tlowerPrice: getCurrentMarketTodayLowerPrice(state),\n\t\tvolume: getCurrentMarketTodayQuoteVolume(state),\n\t\tclosedOrders: getCurrentMarketTodayClosedOrders(state),\n\t\tlastPrice: getCurrentMarketLastPrice(state),\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tchangeMarket: (currencyPair) => dispatch(changeMarket(currencyPair)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MarketDetails);\n","import { connect } from \"react-redux\";\nimport styled from \"styled-components\";\nimport { lighten } from \"polished\";\nimport { BigNumber } from \"@0x/utils\";\n\nimport {\n\tgetOrderBook,\n\tgetOrderbookState,\n\tgetSpread,\n\tgetSpreadInPercentage,\n\tgetTotalBaseSellOrders,\n\tgetTotalQuoteBuyOrders,\n} from \"../../../../state/selectors\";\nimport { ZERO, UI_DECIMALS_DISPLAYED_SPREAD_PERCENT, OrderSide, ServerState } from \"../../../../constants\";\nimport { formatTokenSymbol, tokenAmountInUnits } from \"../../../../utils/spot/tokens\";\nimport {\n\tsetMakerAmountSelected,\n\tsetOrderBuyPriceSelected,\n\tsetOrderPriceSelected,\n\tsetOrderSellPriceSelected,\n} from \"../../../../state/spotUI/actions\";\nimport React, { Component } from \"react\";\nimport Loading from \"../../../../components/Loading\";\nimport BookOption from \"../../../../components/BookOption\";\nimport Dropdown from \"../../../../components/UI/Dropdown\";\nimport { padRightSplitted } from \"../../../../utils/spot/numberUtils\";\nimport { withTranslation } from \"react-i18next\";\n\nconst Container = styled.div`\n\twidth: 260px;\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t@media (max-width: 1400px) {\n\t\twidth: 100%;\n\t}\n`;\n\nconst EmptyText = styled.span`\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tcolor: ${({ theme }) => theme.text1};\n`;\nconst BookOptionType = {\n\tBuySellBook: 0,\n\tSellBook: 1,\n\tBuyBook: 2,\n};\n\nconst StyledBookOption = styled(BookOption)`\n\t&:not(:last-child) {\n\t\tmargin-right: 10px;\n\t}\n`;\n\nconst HeaderRow = styled.div`\n\tmargin-bottom: 12px;\n\n\t@media (max-width: 1400px) {\n\t\tmargin-bottom: 34px;\n\t}\n`;\nconst TitleRow = styled.div`\n\tmargin-bottom: 15px;\n\n\t@media (max-width: 1400px) {\n\t\tmargin-bottom: 10px;\n\t\talign-items: flex-end;\n\t}\n`;\nconst TableRow = styled.div`\n\tdisplay: flex;\n\tflex: 1;\n\tmax-height: 382px;\n\tflex-direction: column;\n\n\t@media (max-width: 1400px) {\n\t\tmargin-bottom: 0;\n\t\tmax-height: initial;\n\t}\n`;\n\nconst Title = styled.span`\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-weight: bold;\n\tfont-size: 1rem;\n\tline-height: 1;\n\n\t@media (max-width: 1400px) {\n\t\tmargin-bottom: 10px;\n\t}\n`;\n\nconst Result = styled.span`\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-weight: 500;\n\tfont-size: 0.75rem;\n`;\n\nconst TR = styled.div`\n\tpadding: 6px 16px;\n\tborder-radius: 12px;\n\tmargin-bottom: 12px;\n\tmax-height: 32px;\n\theight: 32px;\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 1fr 1fr;\n\n\t@media (max-width: 1400px) {\n\t\tmax-height: 56px;\n\t\tpadding: 18px 20px;\n\t\tborder-radius: 18px;\n\t\theight: 56px;\n\t}\n`;\nconst CustomHead = styled(TR)`\n\tbackground-color: ${({ theme }) => theme.text1}10;\n`;\n\nconst InnerTR = styled(TR)`\n\tbackground-color: transparent;\n\tcursor: pointer;\n\ttransition: all ease 0.3s;\n\tmargin-bottom: 2px;\n\tmax-height: 24px;\n\tpadding: 4px 16px;\n\n\t@media (max-width: 1400px) {\n\t\tmax-height: 56px;\n\t\tpadding: 18px 20px;\n\t\tborder-radius: 18px;\n\t\theight: 56px;\n\t}\n\n\t&:hover {\n\t\tbackground-color: ${({ theme }) => theme.text1}06;\n\t}\n`;\n\nconst TH = styled.span`\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n\twhite-space: nowrap;\n`;\n\nconst SpreadTitle = styled.span`\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-size: 0.75rem;\n\tfont-weight: 500;\n\twhite-space: nowrap;\n`;\n\nconst SpreadTR = styled(CustomHead)`\n\tmargin-bottom: 8px;\n\tmargin-top: 4px;\n`;\n\nconst TD = styled.span`\n\tcolor: ${({ theme, variant }) => (variant ? theme[variant] : theme.text1)};\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n\tpadding-right: 5px;\n`;\n\nconst TBody = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex: 1;\n\tmax-height: 306px;\n\tmin-height: 306px;\n\toverflow-x: hidden;\n\toverflow-y: auto;\n\n\t@media (max-width: 1400px) {\n\t\tmax-height: initial;\n\t}\n\n\t/* width */\n\t::-webkit-scrollbar {\n\t\twidth: 3px;\n\t}\n\n\t/* Track */\n\t::-webkit-scrollbar-track {\n\t\tbox-shadow: none;\n\t\tbackground-color: transparent;\n\t\tborder-radius: 10px;\n\t\tpadding: 0 6px;\n\t\tmargin: 0 6px;\n\t\tborder-right: 1px solid ${({ theme }) => theme.text1};\n\t}\n\n\t/* Handle */\n\t::-webkit-scrollbar-thumb {\n\t\tbackground: ${({ theme }) => theme.text1};\n\t\tborder-radius: 10px;\n\t\twidth: 4px !important;\n\t}\n\n\t/* Handle on hover */\n\t::-webkit-scrollbar-thumb:hover {\n\t\tbackground: ${({ theme }) => lighten(0.08, theme.text1)};\n\t}\n`;\n\nconst depthItems = [\n\t{\n\t\tvalue: 5,\n\t\ttitle: \"5\",\n\t},\n\t{\n\t\tvalue: 10,\n\t\ttitle: \"10\",\n\t},\n\t{\n\t\tvalue: 20,\n\t\ttitle: \"20\",\n\t},\n\t{\n\t\tvalue: 50,\n\t\ttitle: \"50\",\n\t},\n];\n\nclass OrderToRow extends Component {\n\trender() {\n\t\tconst { order, index, baseToken, priceColor, mySizeOrders = [], currencyPair } = this.props;\n\t\tconst basePrecision = currencyPair.config.basePrecision;\n\t\tconst pricePrecision = currencyPair.config.pricePrecision;\n\n\t\tconst size = tokenAmountInUnits(order.size, baseToken.decimals, basePrecision);\n\t\tconst price = order.price.toString();\n\n\t\tconst mySize = mySizeOrders.reduce((sumSize, mySizeItem) => {\n\t\t\tif (mySizeItem.price.eq(order.price)) {\n\t\t\t\treturn sumSize.plus(mySizeItem.size);\n\t\t\t}\n\t\t\treturn sumSize;\n\t\t}, ZERO);\n\n\t\tconst mySizeConverted = tokenAmountInUnits(mySize, baseToken.decimals, basePrecision);\n\t\tconst isMySizeEmpty = mySize.eq(new BigNumber(0));\n\t\tconst numSplitted = padRightSplitted(new BigNumber(size), basePrecision);\n\n\t\treturn (\n\t\t\t<InnerTR onClick={() => this._setOrderPriceSelected(order.price)}>\n\t\t\t\t<TD>{numSplitted.num}</TD>\n\t\t\t\t<TD variant={priceColor}>{parseFloat(price).toFixed(pricePrecision)}</TD>\n\t\t\t\t<TD>{isMySizeEmpty ? \"-\" : mySizeConverted}</TD>\n\t\t\t</InnerTR>\n\t\t);\n\t}\n\n\t_setOrderPriceSelected = async (size) => {\n\t\tconst { order, orders } = this.props;\n\t\tlet totalSize = ZERO;\n\t\tif (order.side === OrderSide.Buy) {\n\t\t\ttotalSize = orders.reduce((sumSize, sizeItem) => {\n\t\t\t\tif (order.price.lte(sizeItem.price)) {\n\t\t\t\t\treturn sumSize.plus(sizeItem.size);\n\t\t\t\t}\n\t\t\t\treturn sumSize;\n\t\t\t}, ZERO);\n\t\t} else {\n\t\t\ttotalSize = orders.reduce((sumSize, sizeItem) => {\n\t\t\t\tif (order.price.gte(sizeItem.price)) {\n\t\t\t\t\treturn sumSize.plus(sizeItem.size);\n\t\t\t\t}\n\t\t\t\treturn sumSize;\n\t\t\t}, ZERO);\n\t\t}\n\t\tif (order.side === OrderSide.Buy) {\n\t\t\tawait this.props.onSetOrderBuyPriceSelected(size);\n\t\t} else {\n\t\t\tawait this.props.onSetOrderSellPriceSelected(size);\n\t\t}\n\n\t\tawait this.props.onSetOrderPriceSelected(size);\n\t\tawait this.props.onSetMakerAmountSelected(totalSize);\n\t};\n}\n\nconst mapOrderToRowDispatchToProps = (dispatch) => {\n\treturn {\n\t\tonSetOrderPriceSelected: (orderPriceSelected) => dispatch(setOrderPriceSelected(orderPriceSelected)),\n\t\tonSetOrderBuyPriceSelected: (orderPriceSelected) => dispatch(setOrderBuyPriceSelected(orderPriceSelected)),\n\t\tonSetOrderSellPriceSelected: (orderPriceSelected) => dispatch(setOrderSellPriceSelected(orderPriceSelected)),\n\t\tonSetMakerAmountSelected: (makerAmountSelected) => dispatch(setMakerAmountSelected(makerAmountSelected)),\n\t};\n};\n\nconst OrderToRowContainer = connect(null, mapOrderToRowDispatchToProps)(OrderToRow);\n\nclass Orderbook extends Component {\n\tstate = {\n\t\tdepth: { value: this.props.defaultDepth || 5 },\n\t\tbookOption: BookOptionType.BuySellBook,\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis._spreadRowScrollable = React.createRef();\n\t\tthis._spreadRowFixed = React.createRef();\n\t\tthis._itemsScroll = React.createRef();\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\torderBook,\n\t\t\tbaseToken,\n\t\t\tquoteToken,\n\t\t\tabsoluteSpread,\n\t\t\tpercentageSpread,\n\t\t\tcurrencyPair,\n\t\t\ttotalQuoteBuyOrders,\n\t\t\ttotalBaseSellOrders,\n\t\t\tserverState,\n\t\t\tt,\n\t\t} = this.props;\n\t\tconst { sellOrders, buyOrders, mySizeOrders } = orderBook;\n\n\t\tconst mySizeSellArray = mySizeOrders.filter((order) => {\n\t\t\treturn order.side === OrderSide.Sell;\n\t\t});\n\t\tconst mySizeBuyArray = mySizeOrders.filter((order) => {\n\t\t\treturn order.side === OrderSide.Buy;\n\t\t});\n\t\tconst getColor = (order) => {\n\t\t\treturn order.side === OrderSide.Buy ? \"success\" : \"danger\";\n\t\t};\n\t\tlet content;\n\n\t\tif (!baseToken || !quoteToken || serverState === ServerState.NotLoaded) {\n\t\t\tcontent = (\n\t\t\t\t<div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n\t\t\t\t\t<Loading\n\t\t\t\t\t\twidth={40}\n\t\t\t\t\t\theight={40}\n\t\t\t\t\t\tid={`orderbooks-${this.props.isMobile ? \"mobile\" : \"desktop\"}`}\n\t\t\t\t\t\tactive\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else if ((!buyOrders.length && !sellOrders.length) || !baseToken || !quoteToken) {\n\t\t\tcontent = (\n\t\t\t\t<div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n\t\t\t\t\t<EmptyText>{t(\"errors.noTrade\")}</EmptyText>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\tconst spreadAbsFixed = absoluteSpread.toFixed(currencyPair.config.pricePrecision);\n\t\t\tconst spreadPercentFixed = percentageSpread.toFixed(UI_DECIMALS_DISPLAYED_SPREAD_PERCENT);\n\t\t\tconst basePrecision = currencyPair.config.basePrecision;\n\n\t\t\tconst totalBase = tokenAmountInUnits(totalBaseSellOrders, baseToken.decimals, basePrecision);\n\n\t\t\tconst totalQuote = tokenAmountInUnits(totalQuoteBuyOrders, quoteToken.decimals, 2);\n\n\t\t\tconst baseSymbol = formatTokenSymbol(baseToken.symbol);\n\t\t\tconst quoteSymbol = formatTokenSymbol(quoteToken.symbol);\n\n\t\t\tconst handleDepth = (value) => {\n\t\t\t\tthis.setState({ depth: { value: Number(value) } });\n\t\t\t};\n\n\t\t\tconst bookOptionState = this.state.bookOption;\n\t\t\tconst handleBookOption = (option) => {\n\t\t\t\tthis.setState({ bookOption: option });\n\t\t\t};\n\n\t\t\tcontent = (\n\t\t\t\t<>\n\t\t\t\t\t<HeaderRow className=\"d-flex align-items-center justify-content-between\">\n\t\t\t\t\t\t<div className={\"d-flex align-items-center\"}>\n\t\t\t\t\t\t\t<StyledBookOption\n\t\t\t\t\t\t\t\tactive={bookOptionState === BookOptionType.BuySellBook}\n\t\t\t\t\t\t\t\tonChange={() => handleBookOption(BookOptionType.BuySellBook)}\n\t\t\t\t\t\t\t\tisSell={true}\n\t\t\t\t\t\t\t\tisBuy\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<StyledBookOption\n\t\t\t\t\t\t\t\tactive={bookOptionState === BookOptionType.BuyBook}\n\t\t\t\t\t\t\t\tonChange={() => handleBookOption(BookOptionType.BuyBook)}\n\t\t\t\t\t\t\t\tisBuy\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<StyledBookOption\n\t\t\t\t\t\t\t\tactive={bookOptionState === BookOptionType.SellBook}\n\t\t\t\t\t\t\t\tonChange={() => handleBookOption(BookOptionType.SellBook)}\n\t\t\t\t\t\t\t\tisSell\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\n\t\t\t\t\t\t\t<Dropdown size={\"sm\"} items={depthItems} placeholder={t(\"depth\")} onChange={handleDepth} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</HeaderRow>\n\t\t\t\t\t<TitleRow className=\"d-flex align-items-xl-center justify-content-between\">\n\t\t\t\t\t\t<Title>{t(\"asks\")}</Title>\n\t\t\t\t\t\t<Result>{`${t(\"total\")}: ${totalBase} ${baseSymbol}`}</Result>\n\t\t\t\t\t</TitleRow>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<CustomHead>\n\t\t\t\t\t\t\t<TH>{t(\"tradeSize\")}</TH>\n\t\t\t\t\t\t\t<TH>\n\t\t\t\t\t\t\t\t{t(\"price\")} ({formatTokenSymbol(quoteToken.symbol)})\n\t\t\t\t\t\t\t</TH>\n\t\t\t\t\t\t\t<TH>{t(\"mySize\")}</TH>\n\t\t\t\t\t\t</CustomHead>\n\t\t\t\t\t\t<TBody>\n\t\t\t\t\t\t\t{(bookOptionState === BookOptionType.BuySellBook ||\n\t\t\t\t\t\t\t\tbookOptionState === BookOptionType.SellBook) &&\n\t\t\t\t\t\t\t\tsellOrders\n\t\t\t\t\t\t\t\t\t.slice(sellOrders.length - this.state.depth.value, sellOrders.length)\n\t\t\t\t\t\t\t\t\t.map((order, index) => (\n\t\t\t\t\t\t\t\t\t\t<OrderToRowContainer\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\torder={order}\n\t\t\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\t\t\tcount={sellOrders.length}\n\t\t\t\t\t\t\t\t\t\t\torders={sellOrders}\n\t\t\t\t\t\t\t\t\t\t\tbaseToken={baseToken}\n\t\t\t\t\t\t\t\t\t\t\tpriceColor={getColor(order)}\n\t\t\t\t\t\t\t\t\t\t\tmySizeOrders={mySizeSellArray}\n\t\t\t\t\t\t\t\t\t\t\tcurrencyPair={currencyPair}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t))}\n\n\t\t\t\t\t\t\t<SpreadTR>\n\t\t\t\t\t\t\t\t<SpreadTitle>{t(\"spread\")}</SpreadTitle>\n\t\t\t\t\t\t\t\t<SpreadTitle>{spreadAbsFixed}</SpreadTitle>\n\t\t\t\t\t\t\t\t<SpreadTitle>{spreadPercentFixed}%</SpreadTitle>\n\t\t\t\t\t\t\t</SpreadTR>\n\n\t\t\t\t\t\t\t{(bookOptionState === BookOptionType.BuyBook ||\n\t\t\t\t\t\t\t\tbookOptionState === BookOptionType.BuySellBook) &&\n\t\t\t\t\t\t\t\tbuyOrders\n\t\t\t\t\t\t\t\t\t.slice(0, this.state.depth.value)\n\t\t\t\t\t\t\t\t\t.map((order, index) => (\n\t\t\t\t\t\t\t\t\t\t<OrderToRowContainer\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\torder={order}\n\t\t\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\t\t\tcount={buyOrders.length}\n\t\t\t\t\t\t\t\t\t\t\torders={buyOrders}\n\t\t\t\t\t\t\t\t\t\t\tbaseToken={baseToken}\n\t\t\t\t\t\t\t\t\t\t\tpriceColor={getColor(order)}\n\t\t\t\t\t\t\t\t\t\t\tmySizeOrders={mySizeBuyArray}\n\t\t\t\t\t\t\t\t\t\t\tcurrencyPair={currencyPair}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TBody>\n\n\t\t\t\t\t\t<CustomHead>\n\t\t\t\t\t\t\t<SpreadTitle>{t(\"bids\")}</SpreadTitle>\n\t\t\t\t\t\t\t<SpreadTitle>{`${totalQuote} ${quoteSymbol}`}</SpreadTitle>\n\t\t\t\t\t\t\t<SpreadTitle> </SpreadTitle>\n\t\t\t\t\t\t</CustomHead>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\n\t\treturn <Container>{content}</Container>;\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tbaseToken: state.spot.baseToken,\n\t\tcurrencyPair: state.spot.currencyPair,\n\t\tquoteToken: state.spot.quoteToken,\n\t\tuserOrders: state.relayer.userOrders,\n\t\torderBookState: state.relayer.orderBookState,\n\t\torderBook: getOrderBook(state),\n\t\tabsoluteSpread: getSpread(state),\n\t\tpercentageSpread: getSpreadInPercentage(state),\n\t\ttotalQuoteBuyOrders: getTotalQuoteBuyOrders(state),\n\t\ttotalBaseSellOrders: getTotalBaseSellOrders(state),\n\t\tserverState: getOrderbookState(state),\n\t};\n};\n\nexport default connect(mapStateToProps)(withTranslation()(Orderbook));\n","import { withRouter } from \"react-router-dom\";\nimport { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n\tupdateERC20Markets,\n\tupdateERC20Store,\n\tupdateMarketPriceEther,\n\tupdateMarketPriceQuote,\n\tupdateMarketPriceTokens,\n} from \"../../../../state/spot/actions\";\nimport withWeb3Account from \"../../../../components/hoc/withWeb3Account\";\nimport {\n\tUI_UPDATE_CHECK_INTERVAL,\n\tUPDATE_ERC20_MARKETS,\n\tUPDATE_ETHER_PRICE_INTERVAL,\n\tUPDATE_TOKENS_PRICE_INTERVAL,\n} from \"../../../../constants\";\nimport Web3 from \"web3\";\n\nconst web3 = new Web3(Web3.givenProvider || Web3.providers.HttpProvider(process.env.REACT_APP_NETWORK_URL));\n\nclass Provider extends Component {\n\t_deactivatePollingUpdates = () => {\n\t\tif (this._updateStoreInterval) {\n\t\t\tclearInterval(this._updateStoreInterval);\n\t\t\tthis._updateStoreInterval = undefined;\n\t\t}\n\n\t\tif (this._updatePriceEtherInterval) {\n\t\t\tclearInterval(this._updatePriceEtherInterval);\n\t\t\tthis._updatePriceEtherInterval = undefined;\n\t\t}\n\t\tif (this._updatePriceTokensInterval) {\n\t\t\tclearInterval(this._updatePriceTokensInterval);\n\t\t\tthis._updatePriceTokensInterval = undefined;\n\t\t}\n\t\tif (this._updateERC20MarketsInterval) {\n\t\t\tclearInterval(this._updateERC20MarketsInterval);\n\t\t\tthis._updateERC20MarketsInterval = undefined;\n\t\t}\n\t};\n\n\t_activatePollingUpdates = () => {\n\t\tthis.props.onUpdateERC20Markets();\n\t\tthis.props.onUpdateMarketPriceTokens();\n\t\tthis.props.onUpdateMarketPriceEther();\n\t\tthis.props.onUpdateMarketPriceQuote();\n\t\tif (this.props.web3.account) {\n\t\t\tthis.props.onUpdateERC20Store(this.props.web3.account, web3.currentProvider || window.ethereum);\n\t\t}\n\t\t// Enables realtime updates of the store using polling\n\t\tif (UI_UPDATE_CHECK_INTERVAL !== 0 && !this._updateStoreInterval) {\n\t\t\tthis._updateStoreInterval = window.setInterval(async () => {\n\t\t\t\tif (this.props.web3.account) {\n\t\t\t\t\tthis.props.onUpdateERC20Store(this.props.web3.account, web3.currentProvider || window.ethereum);\n\t\t\t\t\tthis.props.onUpdateMarketPriceQuote();\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tisActiveCheckUpdates: true,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}, UI_UPDATE_CHECK_INTERVAL);\n\t\t}\n\n\t\t// Enables realtime updates of the price ether and quote token using polling\n\t\tif (!this._updatePriceEtherInterval && UPDATE_ETHER_PRICE_INTERVAL !== 0) {\n\t\t\tthis._updatePriceEtherInterval = window.setInterval(async () => {\n\t\t\t\tthis.props.onUpdateMarketPriceEther();\n\t\t\t\tthis.props.onUpdateMarketPriceQuote();\n\t\t\t}, UPDATE_ETHER_PRICE_INTERVAL);\n\t\t}\n\t\t// Enables realtime updates of token prices\n\t\tif (!this._updatePriceTokensInterval && UPDATE_TOKENS_PRICE_INTERVAL !== 0) {\n\t\t\tthis._updatePriceTokensInterval = window.setInterval(async () => {\n\t\t\t\tthis.props.onUpdateMarketPriceTokens();\n\t\t\t}, UPDATE_TOKENS_PRICE_INTERVAL);\n\t\t}\n\t\t// Enables realtime updates of the token markets\n\t\tif (!this._updateERC20MarketsInterval && UPDATE_ERC20_MARKETS !== 0) {\n\t\t\tthis._updateERC20MarketsInterval = window.setInterval(async () => {\n\t\t\t\tthis.props.onUpdateERC20Markets();\n\t\t\t}, UPDATE_ERC20_MARKETS);\n\t\t}\n\t};\n\n\tcomponentDidMount() {\n\t\tif (this.props.web3.account) {\n\t\t\tthis._activatePollingUpdates();\n\t\t} else {\n\t\t\tthis.props.onUpdateERC20Markets();\n\t\t\tthis.props.onUpdateMarketPriceTokens();\n\t\t\tthis.props.onUpdateMarketPriceEther();\n\t\t\tthis.props.onUpdateMarketPriceQuote();\n\t\t\tthis.props.onUpdateERC20Store(\"\", undefined);\n\t\t\tthis._deactivatePollingUpdates();\n\t\t}\n\t}\n\n\tcomponentWillUnmount = () => {\n\t\tclearInterval(this._updateStoreInterval);\n\t\tclearInterval(this._updatePriceEtherInterval);\n\t\tclearInterval(this._updatePriceTokensInterval);\n\t\tclearInterval(this._updateERC20MarketsInterval);\n\t};\n\n\trender = () => this.props.children;\n}\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tonUpdateMarketPriceEther: () => dispatch(updateMarketPriceEther()),\n\t\tonUpdateMarketPriceQuote: () => dispatch(updateMarketPriceQuote()),\n\t\tonUpdateMarketPriceTokens: () => dispatch(updateMarketPriceTokens()),\n\t\tonUpdateERC20Markets: () => dispatch(updateERC20Markets()),\n\t\tonUpdateERC20Store: (account, library) => dispatch(updateERC20Store(account, library)),\n\t};\n};\n\nexport default withRouter(connect(null, mapDispatchToProps)(withWeb3Account(Provider)));\n","import { connect } from \"react-redux\";\n\nimport { OrderSide, ServerState, USE_RELAYER_MARKET_UPDATES } from \"../../../../constants\";\nimport { changeMarket } from \"../../../../state/spot/actions\";\nimport { isWeth } from \"../../../../utils/known_tokens\";\nimport { getCurrencyPairByTokensSymbol } from \"../../../../utils/spot/knownCurrencyPair\";\nimport { marketToStringFromTokens } from \"../../../../utils/spot/market\";\nimport { formatTokenSymbol, tokenAmountInUnits } from \"../../../../utils/spot/tokens\";\nimport Loading from \"../../../../components/Loading\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { lighten } from \"polished\";\nimport { useTranslation } from \"react-i18next\";\n\nconst EmptyText = styled.span`\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tcolor: ${({ theme }) => theme.text1};\n`;\nconst Container = styled.div`\n\twidth: 280px;\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t@media (max-width: 1400px) {\n\t\twidth: 100%;\n\t}\n`;\n\nconst TR = styled.div`\n\tpadding: 4px 16px;\n\tborder-radius: 12px;\n\tmargin-bottom: 4px;\n\tmax-height: 24px;\n\theight: 24px;\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 1fr 1fr;\n\n\t@media (max-width: 1400px) {\n\t\tmax-height: 56px;\n\t\tpadding: 18px 20px;\n\t\tborder-radius: 18px;\n\t\theight: 56px;\n\t}\n`;\nconst CustomHead = styled(TR)`\n\tbackground-color: ${({ theme }) => theme.text1}10;\n\tmax-height: 32px;\n\theight: 32px;\n\tmargin-bottom: 12px;\n\tpadding: 8px 16px;\n`;\n\nconst TH = styled.span`\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n`;\n\nconst TD = styled.span`\n\tcolor: ${({ theme, variant }) => (variant ? theme[variant] : theme.text1)};\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n\tpadding-right: 5px;\n`;\n\nconst TBody = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex: 1;\n\tmax-height: 338px;\n\tmin-height: 338px;\n\toverflow-x: hidden;\n\toverflow-y: auto;\n\n\t@media (max-width: 1400px) {\n\t\tmax-height: initial;\n\t}\n\n\t/* width */\n\t::-webkit-scrollbar {\n\t\twidth: 3px;\n\t}\n\n\t/* Track */\n\t::-webkit-scrollbar-track {\n\t\tbox-shadow: none;\n\t\tbackground-color: transparent;\n\t\tborder-radius: 10px;\n\t\tpadding: 0 6px;\n\t\tmargin: 0 6px;\n\t\tborder-right: 1px solid ${({ theme }) => theme.text1};\n\t}\n\n\t/* Handle */\n\t::-webkit-scrollbar-thumb {\n\t\tbackground: ${({ theme }) => theme.text1};\n\t\tborder-radius: 10px;\n\t\twidth: 4px !important;\n\t}\n\n\t/* Handle on hover */\n\t::-webkit-scrollbar-thumb:hover {\n\t\tbackground: ${({ theme }) => lighten(0.08, theme.text1)};\n\t}\n`;\n\nconst TableContainer = styled.div`\n\tpadding-top: 77px;\n\tpadding-left: 8px;\n\n\t@media (max-width: 1400px) {\n\t\tpadding: 0;\n\t}\n`;\n\nconst fillToRow = (fill, index) => {\n\tlet amountBase;\n\tUSE_RELAYER_MARKET_UPDATES\n\t\t? (amountBase = fill.amountBase.toFixed(fill.tokenBase.displayDecimals))\n\t\t: (amountBase = tokenAmountInUnits(fill.amountBase, fill.tokenBase.decimals, fill.tokenBase.displayDecimals));\n\n\tconst displayAmountBase = `${amountBase}`;\n\tlet currencyPair;\n\ttry {\n\t\tcurrencyPair = getCurrencyPairByTokensSymbol(fill.tokenBase.symbol, fill.tokenQuote.symbol);\n\t} catch {\n\t\treturn null;\n\t}\n\tconst price = parseFloat(fill.price.toString()).toFixed(currencyPair.config.pricePrecision);\n\n\treturn (\n\t\t<TR key={index}>\n\t\t\t<TD variant={fill.side === OrderSide.Buy ? \"success\" : \"danger\"}>{price}</TD>\n\t\t\t<TD>{displayAmountBase}</TD>\n\t\t\t<TD>{fill.timestamp.toISOString().slice(-13, -5)}</TD>\n\t\t</TR>\n\t);\n};\nconst MarketFills = (props) => {\n\tlet content;\n\tconst { t } = useTranslation();\n\tconst { marketFills, baseToken, quoteToken, marketFillsState } = props;\n\n\tif (!baseToken || !quoteToken || marketFillsState === ServerState.NotLoaded) {\n\t\tcontent = (\n\t\t\t<div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n\t\t\t\t<Loading width={40} height={40} id={`market-fills-${props.isMobile ? \"mobile\" : \"desktop\"}`} active />\n\t\t\t</div>\n\t\t);\n\t} else if (\n\t\t!Object.keys(marketFills).length ||\n\t\t!baseToken ||\n\t\t!quoteToken ||\n\t\t!marketFills[marketToStringFromTokens(baseToken, quoteToken)]\n\t) {\n\t\tcontent = (\n\t\t\t<div className={\"d-flex flex-column\"}>\n\t\t\t\t<div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n\t\t\t\t\t<EmptyText>{t(\"errors.noTrade\")}</EmptyText>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t} else {\n\t\tconst market = marketToStringFromTokens(baseToken, quoteToken);\n\t\tconst tokenQuoteSymbol = isWeth(quoteToken.symbol) ? \"ETH\" : quoteToken.symbol.toUpperCase();\n\t\tconst tokenBaseSymbol = isWeth(baseToken.symbol) ? \"ETH\" : baseToken.symbol.toUpperCase();\n\n\t\tcontent = (\n\t\t\t<TableContainer className=\"d-flex flex-column\">\n\t\t\t\t<CustomHead>\n\t\t\t\t\t<TH>\n\t\t\t\t\t\t{t(\"price\")} ({tokenQuoteSymbol})\n\t\t\t\t\t</TH>\n\t\t\t\t\t<TH>{t(\"amount\")}</TH>\n\t\t\t\t\t<TH>{t(\"time\")}</TH>\n\t\t\t\t</CustomHead>\n\t\t\t\t<TBody>{marketFills[market].map((marketFill, index) => fillToRow(marketFill, index))}</TBody>\n\t\t\t</TableContainer>\n\t\t);\n\t}\n\treturn <Container>{content}</Container>;\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tbaseToken: state.spot.baseToken,\n\t\tmarketFills: state.spotUI.marketFills,\n\t\tquoteToken: state.spot.quoteToken,\n\t\tmarketFillsState: state.relayer.marketFillsState,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tchangeMarket: (currencyPair) => dispatch(changeMarket(currencyPair)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MarketFills);\n","import { connect } from \"react-redux\";\nimport styled from \"styled-components\";\nimport React from \"react\";\nimport { OrderStatus } from \"@0x/types\";\nimport { lighten } from \"polished\";\n\nimport { isWeth } from \"../../../../utils/known_tokens\";\nimport { tokenAmountInUnits } from \"../../../../utils/spot/tokens\";\nimport { OrderSide } from \"../../../../constants\";\nimport { getCurrencyPairFromTokens } from \"../../../../utils/spot/knownCurrencyPair\";\nimport Loading from \"../../../../components/Loading\";\nimport { ResponsiveCard } from \"../../../../components/Card\";\nimport { cancelOrder } from \"../../../../state/relayer/actions\";\nimport { CloseIcon } from \"../../../../theme\";\nimport { RowBetween } from \"../../../../components/Row\";\nimport { useActiveWeb3React } from \"../../../../hooks\";\nimport { useTranslation } from \"react-i18next\";\n\nconst Card = styled(ResponsiveCard)`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: stretch;\n\tmargin-bottom: 10px;\n\tmin-height: 385px;\n\n\t& .card-body {\n\t\tpadding: 20px 30px 30px;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t@media (min-width: 1400px) {\n\t\twidth: 570px;\n\t\theight: 385px;\n\n\t\t& .card-body {\n\t\t\tpadding: 15px;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t}\n\t}\n`;\n\nconst CardTitle = styled.h4`\n\tmargin-top: 5px;\n\tpadding: 0;\n\tmargin-bottom: 10px;\n\tfont-size: 0.875rem;\n\tfont-weight: 700;\n\tcolor: ${({ theme }) => theme.text1};\n`;\n\nconst Content = styled.div`\n\tbackground-color: ${({ theme }) => theme.bg3};\n\tborder-radius: 18px;\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex: 1;\n\tmax-height: 323px;\n\toverflow: hidden;\n`;\n\nconst InnerContent = styled.div`\n\twidth: 100%;\n\theight: 100%;\n\tmax-height: 100%;\n\toverflow-x: hidden;\n\toverflow-y: auto;\n\tflex: 1;\n\tpadding: 12px;\n\n\t@media (max-width: 1400px) {\n\t\tpadding: 20px;\n\t}\n\n\t/* width */\n\t::-webkit-scrollbar {\n\t\twidth: 3px;\n\t}\n\n\t/* Track */\n\t::-webkit-scrollbar-track {\n\t\tbox-shadow: none;\n\t\tbackground-color: transparent;\n\t\tborder-radius: 10px;\n\t\tpadding: 0 6px;\n\t\tmargin: 0 6px;\n\t\tborder-right: 1px solid ${({ theme }) => theme.text1};\n\t}\n\n\t/* Handle */\n\t::-webkit-scrollbar-thumb {\n\t\tbackground: ${({ theme }) => theme.text1};\n\t\tborder-radius: 10px;\n\t\twidth: 4px !important;\n\t}\n\n\t/* Handle on hover */\n\t::-webkit-scrollbar-thumb:hover {\n\t\tbackground: ${({ theme }) => lighten(0.08, theme.text1)};\n\t}\n`;\n\nconst EmptyText = styled.span`\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tcolor: ${({ theme }) => theme.text1};\n`;\n\nconst TR = styled.div`\n\tpadding: 4px 16px;\n\tborder-radius: 12px;\n\tmargin-bottom: 10px;\n\tmax-height: 24px;\n\theight: 24px;\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 1fr 1fr 1fr 1fr;\n`;\nconst CustomHead = styled(TR)`\n\tbackground-color: ${({ theme }) => theme.text1}10;\n\tmax-height: 40px;\n\theight: 40px;\n\tpadding: 12px 16px;\n\tmargin-bottom: 12px;\n`;\n\nconst TH = styled.span`\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n`;\n\nconst TD = styled.span`\n\tcolor: ${({ theme, variant }) => (variant ? theme[variant] : theme.text1)};\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tpadding-right: 5px;\n`;\n\nconst TBody = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex: 1;\n\n\t/* width */\n\t::-webkit-scrollbar {\n\t\twidth: 3px;\n\t}\n\n\t/* Track */\n\t::-webkit-scrollbar-track {\n\t\tbox-shadow: none;\n\t\tbackground-color: transparent;\n\t\tborder-radius: 10px;\n\t\tpadding: 0 6px;\n\t\tmargin: 0 6px;\n\t\tborder-right: 1px solid ${({ theme }) => theme.text1};\n\t}\n\n\t/* Handle */\n\t::-webkit-scrollbar-thumb {\n\t\tbackground: ${({ theme }) => theme.text1};\n\t\tborder-radius: 10px;\n\t\twidth: 4px !important;\n\t}\n\n\t/* Handle on hover */\n\t::-webkit-scrollbar-thumb:hover {\n\t\tbackground: ${({ theme }) => lighten(0.08, theme.text1)};\n\t}\n`;\n\nconst Close = styled(CloseIcon)`\n\twidth: 16px;\n\theight: 16px;\n`;\n\nconst orderToRow = (order, index, baseToken, quoteToken, cancelOrder) => {\n\tconst sideLabel = order.side === OrderSide.Sell ? \"Sell\" : \"Buy\";\n\tconst size = tokenAmountInUnits(order.size, baseToken.decimals, baseToken.displayDecimals);\n\tlet status = \"--\";\n\tlet isOrderFillable = false;\n\n\tconst filled = order.filled\n\t\t? tokenAmountInUnits(order.filled, baseToken.decimals, baseToken.displayDecimals)\n\t\t: null;\n\tif (order.status) {\n\t\tisOrderFillable = order.status === OrderStatus.Fillable;\n\t\tstatus = isOrderFillable ? \"Open\" : \"Filled\";\n\t}\n\tconst currencyPair = getCurrencyPairFromTokens(baseToken, quoteToken);\n\tconst price = parseFloat(order.price.toString()).toFixed(currencyPair.config.pricePrecision);\n\n\treturn (\n\t\t<TR key={index}>\n\t\t\t<TD variant={order.side === OrderSide.Buy ? \"success\" : \"danger\"}>{sideLabel}</TD>\n\t\t\t<TD>{size}</TD>\n\t\t\t<TD>{filled}</TD>\n\t\t\t<TD>{price}</TD>\n\t\t\t<TD>\n\t\t\t\t<div className=\"d-flex align-items-center justify-content-between\">\n\t\t\t\t\t<span>{status}</span>\n\n\t\t\t\t\t<Close onClick={cancelOrder.bind(this, order)} />\n\t\t\t\t</div>\n\t\t\t</TD>\n\t\t</TR>\n\t);\n};\n\nconst OrderHistory = (props) => {\n\tconst { account } = useActiveWeb3React();\n\tconst { t } = useTranslation();\n\tconst { orders, baseToken, quoteToken } = props;\n\tconst ordersToShow = orders.filter((order) => order.status === OrderStatus.Fillable);\n\n\tlet content;\n\n\tif (!baseToken || !quoteToken) {\n\t\tcontent = (\n\t\t\t<div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n\t\t\t\t<Loading width={40} height={40} id={`order-history-${props.isMobile ? \"mobile\" : \"desktop\"}`} active />\n\t\t\t</div>\n\t\t);\n\t} else if (!ordersToShow.length || !baseToken || !quoteToken || !account) {\n\t\tcontent = (\n\t\t\t<div className=\"w-100 h-100 d-flex align-items-center justify-content-xl-center\">\n\t\t\t\t<EmptyText>{t(\"errors.noTrade\")}</EmptyText>\n\t\t\t</div>\n\t\t);\n\t} else {\n\t\tconst tokenQuoteSymbol = isWeth(quoteToken.symbol) ? \"ETH\" : quoteToken.symbol.toUpperCase();\n\t\tconst tokenBaseSymbol = isWeth(baseToken.symbol) ? \"ETH\" : baseToken.symbol.toUpperCase();\n\n\t\tcontent = (\n\t\t\t<div className=\"d-flex flex-column\">\n\t\t\t\t<CustomHead>\n\t\t\t\t\t<TH>{t(\"side\")}</TH>\n\t\t\t\t\t<TH>\n\t\t\t\t\t\t{t(\"size\")} ({tokenBaseSymbol})\n\t\t\t\t\t</TH>\n\t\t\t\t\t<TH>\n\t\t\t\t\t\t{t(\"filled\")} ({tokenBaseSymbol})\n\t\t\t\t\t</TH>\n\t\t\t\t\t<TH>\n\t\t\t\t\t\t{t(\"price\")} ({tokenQuoteSymbol})\n\t\t\t\t\t</TH>\n\t\t\t\t\t<TH>{t(\"status\")}</TH>\n\t\t\t\t</CustomHead>\n\t\t\t\t<TBody>\n\t\t\t\t\t{ordersToShow.map((order, index) =>\n\t\t\t\t\t\torderToRow(order, index, baseToken, quoteToken, props.onCancelOrder)\n\t\t\t\t\t)}\n\t\t\t\t</TBody>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Card>\n\t\t\t<CardTitle>{t(\"openOrders\")}</CardTitle>\n\t\t\t<Content>\n\t\t\t\t<InnerContent>{content}</InnerContent>\n\t\t\t</Content>\n\t\t</Card>\n\t);\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tbaseToken: state.spot.baseToken,\n\t\torders: state.relayer.userOrders,\n\t\tquoteToken: state.spot.quoteToken,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tonCancelOrder: (order) => dispatch(cancelOrder(order)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(OrderHistory);\n","import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\n\nimport { RowBetween } from \"../Row\";\nimport { Input as NumericalInput } from \"../NumericalInput\";\nimport { tokenAmountInUnits, unitsInTokenAmount } from \"../../utils/spot/tokens\";\nimport { ZERO } from \"../../constants\";\nimport { ETHER, Token } from \"@uniswap/sdk\";\nimport { useCurrencyBalance } from \"../../state/wallet/hooks\";\nimport { useActiveWeb3React } from \"../../hooks\";\n\nconst InputRow = styled.div`\n\t${({ theme }) => theme.flexRowNoWrap};\n\talign-items: center;\n\n\tpadding: 0.625rem 0 0;\n\n\t@media (min-width: 768px) {\n\t\tpadding-top: 0.75rem;\n\t}\n`;\n\nconst Container = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin-bottom: 34px;\n\n\t@media (min-width: 768px) {\n\t\tmargin-bottom: 15px;\n\t}\n`;\n\nconst Label = styled.span`\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tpadding: 0;\n\n\t@media (min-width: 768px) {\n\t\tpadding: 0 1rem;\n\t\tfont-weight: 700;\n\t}\n`;\n\nconst InputContainer = styled.div`\n\tposition: relative;\n\tdisplay: flex;\n\talign-items: center;\n\tflex-wrap: nowrap;\n\tflex: 1;\n`;\n\nconst LabelRow = styled.div`\n\t${({ theme }) => theme.flexRowNoWrap};\n\talign-items: center;\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-size: 0.75rem;\n\tline-height: 1rem;\n\tpadding: 0;\n`;\n\nconst Aligner = styled.span`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\t@media (min-width: 768px) {\n\t\tjustify-content: space-between;\n\t}\n`;\n\nconst InputPanel = styled.div`\n\t${({ theme }) => theme.flexColumnNoWrap};\n\tposition: relative;\n\tborder-radius: 0.42rem;\n`;\n\nconst StyledTokenName = styled.span`\n\tfont-size: 0.875rem;\n\tfont-weight: 500;\n\n\t@media (min-width: 768px) {\n\t\tfont-size: 1rem;\n\t\tmargin-right: auto;\n\t}\n`;\n\nconst CurrencySelect = styled.button`\n\talign-items: center;\n\theight: 48px;\n\tfont-size: 0.875rem;\n\tfont-weight: 500;\n\tbackground-color: ${({ theme }) => theme.bg3};\n\tcolor: ${({ theme }) => theme.text1};\n\tborder-bottom-left-radius: 18px;\n\tborder-top-left-radius: 18px;\n\tbox-shadow: none;\n\toutline: none;\n\tcursor: pointer;\n\tuser-select: none;\n\tborder: none;\n\tpadding: 0.875rem 0.625rem;\n\tmin-width: 116px;\n\twidth: 116px;\n\ttext-align: center;\n\n\t@media (min-width: 768px) {\n\t\tmin-width: 90px;\n\t\twidth: 90px;\n\t\tpadding: 0.625rem 1rem;\n\t\tfont-size: 1rem;\n\t\tfont-weight: 700;\n\t\ttext-align: left;\n\t}\n\n\t:focus,\n\t:hover {\n\t\tbackground-color: ${({ theme }) => theme.bg1};\n\t\toutline: none;\n\t}\n`;\n\nlet BalanceRow = styled.div`\n\t${({ theme }) => theme.flexRowNoWrap};\n\talign-items: center;\n\tmargin-top: 10px;\n\tcolor: ${({ theme }) => theme.text1};\n\topacity: 0.5;\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n\tline-height: 1rem;\n\tpadding: 0;\n\n\t@media (min-width: 768px) {\n\t\tpadding: 0 1rem;\n\t}\n`;\n\nexport default class SpotInputPanel extends React.Component {\n\tstate = {\n\t\tvalueStr: this.props.value\n\t\t\t? tokenAmountInUnits(this.props.value, this.props.decimals, this.props.valueFixedDecimals)\n\t\t\t: \"\",\n\t};\n\n\t_updateValue = (value) => {\n\t\tconst newValue = unitsInTokenAmount(value || \"0\", this.props.decimals);\n\t\tconst invalidValue = this.props.min && newValue.isLessThan(this.props.min);\n\t\tif (invalidValue) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.props.onUserInput(newValue);\n\t\tthis.setState({\n\t\t\tvalueStr: value,\n\t\t});\n\t};\n\n\tstatic getDerivedStateFromProps = (props, state) => {\n\t\tconst { decimals, value, valueFixedDecimals } = props;\n\t\tconst { valueStr } = state;\n\n\t\tif (!value) {\n\t\t\treturn {\n\t\t\t\tvalueStr: \"\",\n\t\t\t};\n\t\t} else if (value && !unitsInTokenAmount(valueStr || \"0\", decimals).eq(value)) {\n\t\t\treturn {\n\t\t\t\tvalueStr: tokenAmountInUnits(value, decimals, valueFixedDecimals),\n\t\t\t};\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tlabel = \"Input\",\n\t\t\tdisable = false,\n\t\t\tselected,\n\t\t\thideInput = false,\n\t\t\tid,\n\t\t\tshowBalance = true,\n\t\t\tbalanceText,\n\t\t} = this.props;\n\t\tconst { valueStr } = this.state;\n\n\t\treturn (\n\t\t\t<InputPanel id={id}>\n\t\t\t\t<Container>\n\t\t\t\t\t{!hideInput && (\n\t\t\t\t\t\t<LabelRow>\n\t\t\t\t\t\t\t<RowBetween>\n\t\t\t\t\t\t\t\t<Label>{label}</Label>\n\t\t\t\t\t\t\t</RowBetween>\n\t\t\t\t\t\t</LabelRow>\n\t\t\t\t\t)}\n\t\t\t\t\t<InputRow style={hideInput ? { padding: \"0\", borderRadius: \"0.42rem\" } : {}} selected={disable}>\n\t\t\t\t\t\t<CurrencySelect selected={!!selected} className=\"open-currency-select-button\">\n\t\t\t\t\t\t\t<Aligner>\n\t\t\t\t\t\t\t\t<StyledTokenName className=\"token-symbol-container\" active={Boolean(selected)}>\n\t\t\t\t\t\t\t\t\t{(selected && selected?.length > 20\n\t\t\t\t\t\t\t\t\t\t? (\n\t\t\t\t\t\t\t\t\t\t\t\tselected?.slice(0, 4) +\n\t\t\t\t\t\t\t\t\t\t\t\t\"...\" +\n\t\t\t\t\t\t\t\t\t\t\t\tselected?.slice(selected?.length - 5, selected?.length)\n\t\t\t\t\t\t\t\t\t\t  ).toUpperCase()\n\t\t\t\t\t\t\t\t\t\t: selected.toUpperCase()) || `Select`}\n\t\t\t\t\t\t\t\t</StyledTokenName>\n\t\t\t\t\t\t\t</Aligner>\n\t\t\t\t\t\t</CurrencySelect>\n\n\t\t\t\t\t\t{!hideInput && (\n\t\t\t\t\t\t\t<InputContainer>\n\t\t\t\t\t\t\t\t<NumericalInput\n\t\t\t\t\t\t\t\t\tsize={\"sm\"}\n\t\t\t\t\t\t\t\t\tclassName=\"token-amount-input pl-3 \"\n\t\t\t\t\t\t\t\t\tvalue={valueStr}\n\t\t\t\t\t\t\t\t\tonUserInput={this._updateValue}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</InputContainer>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</InputRow>\n\t\t\t\t\t{selected && showBalance && <BalanceRow>{balanceText()}</BalanceRow>}\n\t\t\t\t</Container>\n\t\t\t</InputPanel>\n\t\t);\n\t}\n}\n","import { BigNumber, NULL_BYTES } from \"@0x/utils\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport styled from \"styled-components\";\n\nimport { OrderSide, ZERO } from \"../../constants\";\nimport { fetchTakerAndMakerFee } from \"../../state/relayer/actions\";\nimport { getOpenBuyOrders, getOpenSellOrders, getQuoteInUsd } from \"../../state/selectors\";\nimport { getKnownTokens } from \"../../utils/known_tokens\";\nimport { formatTokenSymbol, tokenAmountInUnits, unitsInTokenAmount } from \"../../utils/spot/tokens\";\nimport { toUnitAmount } from \"../../lib/helper\";\nimport { buildMarketOrders, sumTakerAssetFillableOrders } from \"../../utils/spot/orders\";\nimport withWeb3Account from \"../hoc/withWeb3Account\";\nimport { withTranslation } from \"react-i18next\";\n\nconst Row = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\n\t&:not(:last-child) {\n\t\tmargin-bottom: 30px;\n\t}\n`;\n\nconst Text = styled.span`\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n\tcolor: ${({ theme }) => theme.text1};\n\n\t@media (min-width: 768px) {\n\t\tpadding-left: 1rem;\n\t\tfont-size: 0.875rem;\n\t\tfont-weight: 700;\n\t}\n`;\n\nconst OrderType = {\n\tLimit: \"Limit\",\n\tMarket: \"Market\",\n};\n\nclass OrderDetails extends React.Component {\n\tstate = {\n\t\tmakerFeeAmount: ZERO,\n\t\ttakerFeeAmount: ZERO,\n\t\tmakerFeeAssetData: NULL_BYTES,\n\t\ttakerFeeAssetData: NULL_BYTES,\n\t\tquoteTokenAmount: ZERO,\n\t\tcanOrderBeFilled: true,\n\t};\n\n\tcomponentDidUpdate = async (prevProps) => {\n\t\tconst newProps = this.props;\n\t\tif (\n\t\t\tnewProps.tokenPrice !== prevProps.tokenPrice ||\n\t\t\tnewProps.orderType !== prevProps.orderType ||\n\t\t\tnewProps.tokenAmount !== prevProps.tokenAmount ||\n\t\t\tnewProps.currencyPair !== prevProps.currencyPair ||\n\t\t\tnewProps.orderSide !== prevProps.orderSide\n\t\t) {\n\t\t\tawait this._updateOrderDetailsState();\n\t\t}\n\t};\n\n\t_updateOrderDetailsState = async () => {\n\t\tconst { currencyPair, orderType, orderSide } = this.props;\n\t\tif (!currencyPair) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (orderType === OrderType.Limit) {\n\t\t\tconst { tokenAmount, tokenPrice, onFetchTakerAndMakerFee, web3 } = this.props;\n\t\t\tconst { quote, base } = currencyPair;\n\t\t\tconst quoteToken = getKnownTokens().getTokenBySymbol(quote);\n\t\t\tconst baseToken = getKnownTokens().getTokenBySymbol(base);\n\t\t\t// TODO: Check if this precision is enough, price was giving error on precision\n\t\t\tconst priceInQuoteBaseUnits = unitsInTokenAmount(tokenPrice.toString(), quoteToken.decimals);\n\t\t\tconst baseTokenAmountInUnits = toUnitAmount(tokenAmount, baseToken.decimals);\n\t\t\tconst quoteTokenAmount = baseTokenAmountInUnits.multipliedBy(priceInQuoteBaseUnits);\n\t\t\tconst { makerFee, makerFeeAssetData, takerFee, takerFeeAssetData } = await onFetchTakerAndMakerFee(\n\t\t\t\ttokenAmount,\n\t\t\t\ttokenPrice,\n\t\t\t\torderSide,\n\t\t\t\tweb3.account,\n\t\t\t\twindow.ethereum || web3.library\n\t\t\t);\n\t\t\tthis.setState({\n\t\t\t\tmakerFeeAmount: makerFee,\n\t\t\t\tmakerFeeAssetData,\n\t\t\t\ttakerFeeAmount: takerFee,\n\t\t\t\ttakerFeeAssetData,\n\t\t\t\tquoteTokenAmount,\n\t\t\t});\n\t\t} else {\n\t\t\tconst { tokenAmount, openSellOrders, openBuyOrders } = this.props;\n\t\t\tconst isSell = orderSide === OrderSide.Sell;\n\t\t\tconst [ordersToFill, amountToPayForEachOrder, canOrderBeFilled] = buildMarketOrders(\n\t\t\t\t{\n\t\t\t\t\tamount: tokenAmount,\n\t\t\t\t\torders: isSell ? openBuyOrders : openSellOrders,\n\t\t\t\t},\n\t\t\t\torderSide\n\t\t\t);\n\t\t\t// HACK(dekz): we assume takerFeeAssetData is either empty or is consistent through all orders\n\t\t\tconst firstOrderWithFees = ordersToFill.find((o) => o.takerFeeAssetData !== NULL_BYTES);\n\t\t\tconst takerFeeAssetData = firstOrderWithFees ? firstOrderWithFees.takerFeeAssetData : NULL_BYTES;\n\t\t\tconst takerFeeAmount = ordersToFill.reduce((sum, order) => sum.plus(order.takerFee), ZERO);\n\t\t\tconst quoteTokenAmount = sumTakerAssetFillableOrders(orderSide, ordersToFill, amountToPayForEachOrder);\n\n\t\t\tthis.setState({\n\t\t\t\ttakerFeeAmount,\n\t\t\t\ttakerFeeAssetData,\n\t\t\t\tquoteTokenAmount,\n\t\t\t\tcanOrderBeFilled,\n\t\t\t});\n\t\t}\n\t};\n\n\t_getCostStringForRender = () => {\n\t\tconst { canOrderBeFilled } = this.state;\n\t\tconst { orderType } = this.props;\n\t\tif (orderType === OrderType.Market && !canOrderBeFilled) {\n\t\t\treturn `---`;\n\t\t}\n\n\t\tconst { quote } = this.props.currencyPair;\n\t\tconst quoteToken = getKnownTokens().getTokenBySymbol(quote);\n\t\tconst { quoteTokenAmount } = this.state;\n\t\t//  const quoteTokenAmountUnits = tokenAmountInUnits(quoteTokenAmount, quoteToken.decimals);\n\t\tconst costAmount = tokenAmountInUnits(quoteTokenAmount, quoteToken.decimals, quoteToken.displayDecimals);\n\t\treturn `${costAmount} ${formatTokenSymbol(quote)}`;\n\t};\n\n\t_getMedianPriceStringForRender = () => {\n\t\tconst { canOrderBeFilled } = this.state;\n\t\tconst { orderType } = this.props;\n\t\tconst { tokenAmount } = this.props;\n\t\tif (orderType === OrderType.Market && !canOrderBeFilled) {\n\t\t\treturn `---`;\n\t\t}\n\t\tif (tokenAmount.eq(0)) {\n\t\t\treturn `---`;\n\t\t}\n\t\tconst { quote, base, config } = this.props.currencyPair;\n\t\tconst { quoteTokenAmount } = this.state;\n\t\tconst quoteToken = getKnownTokens().getTokenBySymbol(quote);\n\t\tconst baseToken = getKnownTokens().getTokenBySymbol(base);\n\t\tconst quoteTokenAmountUnits = new BigNumber(tokenAmountInUnits(quoteTokenAmount, quoteToken.decimals, 18));\n\t\tconst baseTokenAmountUnits = new BigNumber(tokenAmountInUnits(tokenAmount, baseToken.decimals, 18));\n\t\tconst priceDisplay = quoteTokenAmountUnits.div(baseTokenAmountUnits).toFormat(config.pricePrecision + 1);\n\t\treturn `${priceDisplay} ${formatTokenSymbol(quote)}`;\n\t};\n\n\t_getCostLabelStringForRender = () => {\n\t\tconst { qouteInUSD, orderSide, t } = this.props;\n\t\tif (qouteInUSD) {\n\t\t\treturn orderSide === OrderSide.Sell ? t(\"total\") : t(\"cost\");\n\t\t} else {\n\t\t\treturn orderSide === OrderSide.Sell ? t(\"total\") : t(\"cost\");\n\t\t}\n\t};\n\n\tcomponentDidMount = async () => {\n\t\tawait this._updateOrderDetailsState();\n\t};\n\n\trender = () => {\n\t\t// const fee = this._getFeeStringForRender();\n\t\tconst cost = this._getCostStringForRender();\n\t\tconst costText = this._getCostLabelStringForRender();\n\t\tconst priceMedianText = this._getMedianPriceStringForRender();\n\t\tconst { orderType, t } = this.props;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Row>\n\t\t\t\t\t<Text>{costText}</Text>\n\t\t\t\t\t<Text>{cost}</Text>\n\t\t\t\t</Row>\n\t\t\t\t{orderType === OrderType.Market && (\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Text>{t(\"medianPrice\")}:</Text>\n\t\t\t\t\t\t<Text>{priceMedianText}</Text>\n\t\t\t\t\t</Row>\n\t\t\t\t)}\n\t\t\t</>\n\t\t);\n\t};\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\topenSellOrders: getOpenSellOrders(state),\n\t\topenBuyOrders: getOpenBuyOrders(state),\n\t\tqouteInUSD: getQuoteInUsd(state),\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tonFetchTakerAndMakerFee: (amount, price, side, account, library) =>\n\t\t\tdispatch(fetchTakerAndMakerFee(amount, price, side, account, library)),\n\t};\n};\nexport default withWeb3Account(connect(mapStateToProps, mapDispatchToProps)(withTranslation(OrderDetails)));\n","import { connect } from \"react-redux\";\nimport { BigNumber } from \"@0x/utils\";\nimport { Component } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport styled from \"styled-components\";\n\nimport { ZERO, IS_ORDER_LIMIT_MATCHING, OrderSide } from \"../../../../constants\";\nimport {\n\tstartBuySellLimitMatchingSteps,\n\tstartBuySellLimitSteps,\n\tstartBuySellMarketSteps,\n} from \"../../../../state/spotUI/actions\";\nimport { fetchTakerAndMakerFee } from \"../../../../state/relayer/actions\";\nimport { isWeth, getKnownTokens } from \"../../../../utils/known_tokens\";\nimport {\n\tformatTokenSymbol,\n\ttokenAmountInUnits,\n\ttokenAmountInUnitsToBigNumber,\n\tunitsInTokenAmount,\n} from \"../../../../utils/spot/tokens\";\nimport {\n\tgetCurrencyPair,\n\tgetMakerAmountSelected,\n\tgetOpenBuyOrders,\n\tgetOpenSellOrders,\n\tgetOrderPriceSelected,\n} from \"../../../../state/selectors\";\nimport { ResponsiveCard } from \"../../../../components/Card\";\nimport SpotInputPanel from \"../../../../components/SpotInputPanel\";\nimport OrderDetailsContainer from \"../../../../components/OrderDetailsContainer\";\nimport withBalance from \"../../../../components/hoc/withBalance\";\nimport withWeb3Account from \"../../../../components/hoc/withWeb3Account\";\nimport { withTranslation } from \"react-i18next\";\n\nconst Card = styled(ResponsiveCard)`\n\tmargin-bottom: 20px;\n\n\t& .card-body {\n\t\tpadding: 30px;\n\t}\n\n\t@media (min-width: 1400px) {\n\t\twidth: 580px;\n\t\theight: 385px;\n\t\tmargin-bottom: 10px;\n\n\t\t& .card-body {\n\t\t\tpadding: 20px;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t}\n\t}\n`;\n\nconst QuoteContainer = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin-bottom: -5px;\n\n\t@media (max-width: 1400px) {\n\t\tpadding-top: 0;\n\t\tmargin-bottom: -24px;\n\t}\n`;\n\nconst TabsContainer = styled.div`\n\tmargin-left: -20px;\n\tmargin-right: -20px;\n\tmargin-bottom: 10px;\n\n\t@media (max-width: 1400px) {\n\t\tflex-direction: column-reverse;\n\t\talign-items: stretch !important;\n\t\tmargin-bottom: 45px;\n\t}\n`;\n\nconst TabWrapper = styled.div`\n\tpadding: 0 20px;\n\tflex: 1;\n\n\t@media (max-width: 1400px) {\n\t\t&:not(:first-child) {\n\t\t\tmargin-bottom: 10px;\n\t\t}\n\t}\n`;\n\nconst Tab = styled(Button)`\n\theight: 48px;\n\tfont-size: 1rem;\n\tfont-weight: 500;\n\twidth: 100%;\n`;\n\nconst Content = styled.div`\n\tflex: 1;\n\tposition: relative;\n`;\n\nconst DetailsContainer = styled.div`\n\tmargin-bottom: auto;\n`;\n\nconst MarketType = styled.div`\n\tposition: absolute;\n\ttop: -14px;\n\tright: 0;\n\tz-index: 2;\n`;\n\nconst MarketButton = styled.button`\n\t:disabled {\n\t\tcolor: ${({ theme }) => theme.text1};\n\t\topacity: 1;\n\t}\n`;\n\nconst OrderType = {\n\tLimit: \"Limit\",\n\tMarket: \"Market\",\n};\n\nconst TIMEOUT_BTN_ERROR = 2000;\nconst TIMEOUT_CARD_ERROR = 4000;\n\nclass BuySell extends Component {\n\tstate = {\n\t\tmakerAmount: null,\n\t\tprice: null,\n\t\torderType: OrderType.Limit,\n\t\ttab: OrderSide.Buy,\n\t\terror: {\n\t\t\tbtnMsg: null,\n\t\t\tcardMsg: null,\n\t\t},\n\t};\n\n\tcomponentDidUpdate = async (prevProps) => {\n\t\tconst newProps = this.props;\n\t\tif (newProps.orderPriceSelected !== prevProps.orderPriceSelected && this.state.orderType === OrderType.Limit) {\n\t\t\tthis.setState({\n\t\t\t\tprice: newProps.orderPriceSelected,\n\t\t\t});\n\t\t}\n\n\t\tif (\n\t\t\tnewProps.makerAmountSelected !== prevProps.makerAmountSelected &&\n\t\t\tthis.state.orderType === OrderType.Market\n\t\t) {\n\t\t\tthis.setState({\n\t\t\t\tmakerAmount: newProps.makerAmountSelected,\n\t\t\t});\n\t\t}\n\t};\n\n\tchangeTab = (tab) => () => this.setState({ tab });\n\n\tupdateMakerAmount = (newValue) => {\n\t\tthis.setState({\n\t\t\tmakerAmount: newValue,\n\t\t});\n\t};\n\n\tgetAmountAvailableLabel = () => {\n\t\tconst { baseTokenBalance, quoteTokenBalance, totalEthBalance } = this.props;\n\t\tconst { tab } = this.state;\n\t\tif (tab === OrderSide.Sell) {\n\t\t\tif (baseTokenBalance) {\n\t\t\t\tconst tokenBalanceAmount = isWeth(baseTokenBalance.token.symbol)\n\t\t\t\t\t? totalEthBalance\n\t\t\t\t\t: baseTokenBalance.balance;\n\t\t\t\tconst baseBalanceString = tokenAmountInUnits(\n\t\t\t\t\ttokenBalanceAmount,\n\t\t\t\t\tbaseTokenBalance.token.decimals,\n\t\t\t\t\tbaseTokenBalance.token.displayDecimals\n\t\t\t\t);\n\t\t\t\tconst symbol = formatTokenSymbol(baseTokenBalance.token?.symbol);\n\t\t\t\treturn `Available: ${baseBalanceString}  ${symbol}`;\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t} else {\n\t\t\tif (quoteTokenBalance) {\n\t\t\t\tconst tokenBalanceAmount = isWeth(quoteTokenBalance.token?.symbol)\n\t\t\t\t\t? totalEthBalance\n\t\t\t\t\t: quoteTokenBalance.balance;\n\t\t\t\tconst quoteBalanceString = tokenAmountInUnits(\n\t\t\t\t\ttokenBalanceAmount,\n\t\t\t\t\tquoteTokenBalance.token?.decimals,\n\t\t\t\t\tquoteTokenBalance.token?.displayDecimals\n\t\t\t\t);\n\t\t\t\tconst symbol = formatTokenSymbol(quoteTokenBalance.token?.symbol);\n\t\t\t\treturn `Available: ${quoteBalanceString}  ${symbol}`;\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t};\n\n\tupdatePrice = (price) => {\n\t\tthis.setState({ price });\n\t};\n\n\tsubmit = async () => {\n\t\tif (!this.props.web3.account) {\n\t\t\tthis.props.toggleWalletModal();\n\t\t\treturn false;\n\t\t}\n\t\tconst { currencyPair, tokensBalance, wethBalance, ethBalance, web3 } = this.props;\n\t\tconst minAmount = currencyPair.config.minAmount;\n\t\tconst decimals = getKnownTokens().getTokenBySymbol(currencyPair.base).decimals;\n\t\tconst minAmountUnits = unitsInTokenAmount(String(minAmount), decimals);\n\n\t\tconst orderSide = this.state.tab;\n\t\tconst makerAmount = this.state.makerAmount || minAmountUnits;\n\t\tconst price = this.state.price || new BigNumber(0);\n\n\t\tconst orderFeeData = await this.props.onFetchTakerAndMakerFee(\n\t\t\tmakerAmount,\n\t\t\tprice,\n\t\t\tthis.state.tab,\n\t\t\tweb3.account,\n\t\t\twindow.ethereum || web3.library\n\t\t);\n\n\t\tif (this.state.orderType === OrderType.Limit) {\n\t\t\tif (IS_ORDER_LIMIT_MATCHING) {\n\t\t\t\tconst result = await this.props.onSubmitLimitOrderMatching(\n\t\t\t\t\tmakerAmount,\n\t\t\t\t\tprice,\n\t\t\t\t\torderSide,\n\t\t\t\t\torderFeeData,\n\t\t\t\t\ttokensBalance,\n\t\t\t\t\twethBalance,\n\t\t\t\t\tethBalance\n\t\t\t\t);\n\t\t\t\tif (result === 0) {\n\t\t\t\t\tawait this.props.onSubmitLimitOrder(\n\t\t\t\t\t\tmakerAmount,\n\t\t\t\t\t\tprice,\n\t\t\t\t\t\torderSide,\n\t\t\t\t\t\torderFeeData,\n\t\t\t\t\t\ttokensBalance,\n\t\t\t\t\t\twethBalance\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tawait this.props.onSubmitLimitOrder(\n\t\t\t\t\tmakerAmount,\n\t\t\t\t\tprice,\n\t\t\t\t\torderSide,\n\t\t\t\t\torderFeeData,\n\t\t\t\t\ttokensBalance,\n\t\t\t\t\twethBalance\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tawait this.props.onSubmitMarketOrder(\n\t\t\t\t\tmakerAmount,\n\t\t\t\t\torderSide,\n\t\t\t\t\ttokensBalance,\n\t\t\t\t\twethBalance,\n\t\t\t\t\tethBalance.balance\n\t\t\t\t);\n\t\t\t} catch (error) {\n\t\t\t\tthis.setState(\n\t\t\t\t\t{\n\t\t\t\t\t\terror: {\n\t\t\t\t\t\t\tbtnMsg: \"Error\",\n\t\t\t\t\t\t\tcardMsg: error.message,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t() => {\n\t\t\t\t\t\t// After a timeout both error message and button gets cleared\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\terror: {\n\t\t\t\t\t\t\t\t\t...this.state.error,\n\t\t\t\t\t\t\t\t\tbtnMsg: null,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, TIMEOUT_BTN_ERROR);\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\terror: {\n\t\t\t\t\t\t\t\t\t...this.state.error,\n\t\t\t\t\t\t\t\t\tcardMsg: null,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, TIMEOUT_CARD_ERROR);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tthis._reset();\n\t};\n\n\t_reset = () => {\n\t\tthis.setState({\n\t\t\tmakerAmount: null,\n\t\t});\n\t};\n\n\t_switchToMarket = () => {\n\t\tthis.setState({\n\t\t\torderType: OrderType.Market,\n\t\t});\n\t};\n\n\t_switchToLimit = () => {\n\t\tthis.setState({\n\t\t\torderType: OrderType.Limit,\n\t\t});\n\t};\n\n\t_getCostLabelStringForRender = () => {\n\t\tconst { qouteInUSD, orderSide } = this.props;\n\t\tif (qouteInUSD) {\n\t\t\treturn orderSide === OrderSide.Sell ? \"Total\" : \"Cost\";\n\t\t} else {\n\t\t\treturn orderSide === OrderSide.Sell ? \"Total\" : \"Cost\";\n\t\t}\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tcurrencyPair,\n\t\t\tquoteTokenBalance,\n\t\t\tbaseTokenBalance,\n\t\t\ttotalEthBalance,\n\t\t\tbaseToken,\n\t\t\tquoteToken,\n\t\t\tt,\n\t\t} = this.props;\n\t\tconst { makerAmount, price, tab, orderType, error } = this.state;\n\n\t\tconst buySellInnerTabs = [\n\t\t\t{\n\t\t\t\tactive: orderType === OrderType.Limit,\n\t\t\t\tonClick: this._switchToLimit,\n\t\t\t\ttext: t(\"limit\"),\n\t\t\t},\n\t\t\t{\n\t\t\t\tactive: orderType === OrderType.Market,\n\t\t\t\tonClick: this._switchToMarket,\n\t\t\t\ttext: t(\"market\"),\n\t\t\t},\n\t\t];\n\t\tconst decimals = getKnownTokens().getTokenBySymbol(currencyPair.base).decimals;\n\t\tconst quoteDecimals = getKnownTokens().getTokenBySymbol(currencyPair.quote).decimals;\n\t\t// Configs\n\t\tconst pricePrecision = currencyPair.config.pricePrecision;\n\t\tconst minAmount = currencyPair.config.minAmount;\n\t\tconst minAmountUnits = unitsInTokenAmount(String(currencyPair.config.minAmount), decimals);\n\n\t\tconst basePrecision = currencyPair.config.basePrecision;\n\t\tconst isWethQuote = quoteTokenBalance && isWeth(quoteTokenBalance.token?.symbol);\n\t\tconst isWethBase = baseTokenBalance && isWeth(baseTokenBalance.token?.symbol);\n\n\t\tconst quoteUnits = isWethQuote\n\t\t\t? tokenAmountInUnitsToBigNumber(totalEthBalance || ZERO, 18)\n\t\t\t: tokenAmountInUnitsToBigNumber((quoteTokenBalance && quoteTokenBalance.balance) || ZERO, quoteDecimals);\n\n\t\tconst baseBalance = isWethBase ? totalEthBalance : (baseTokenBalance && baseTokenBalance.balance) || ZERO;\n\n\t\tconst amount = makerAmount || minAmountUnits;\n\t\tconst makerAmountUnits = tokenAmountInUnitsToBigNumber(amount, decimals);\n\t\tconst isMakerAmountEmpty = amount === null || amount.isZero();\n\t\tconst isMakerAmountMin = amount === null || amount.isLessThan(minAmountUnits);\n\n\t\tconst isPriceEmpty = price === null || price.isZero();\n\t\tconst isPriceMin =\n\t\t\tprice === null || price.isLessThan(new BigNumber(1).div(new BigNumber(10).pow(pricePrecision)));\n\t\tconst isOrderTypeLimitIsEmpty =\n\t\t\torderType === OrderType.Limit && (isMakerAmountEmpty || isPriceEmpty || isPriceMin);\n\t\tconst isBuy = tab === OrderSide.Buy;\n\t\tconst isOrderTypeLimitOverflow =\n\t\t\t(orderType === OrderType.Limit && isBuy && makerAmountUnits.multipliedBy(price || ZERO).gt(quoteUnits)) ||\n\t\t\t(!isBuy && amount.gt(baseBalance));\n\n\t\tconst isOrderTypeMarketIsEmpty = orderType === OrderType.Market && (isMakerAmountEmpty || isMakerAmountMin);\n\t\tconst baseSymbol = formatTokenSymbol(currencyPair.base);\n\t\tconst btnPrefix = tab === OrderSide.Buy ? `${t(\"orderSide.buy\")} ` : `${t(\"orderSide.sell\")} `;\n\t\tconst btnText = error && error.btnMsg ? \"Error\" : btnPrefix + baseSymbol;\n\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<TabsContainer className=\"d-flex align-items-center justify-content-between\">\n\t\t\t\t\t<TabWrapper>\n\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\tvariant={tab === OrderSide.Buy ? \"secondary-light\" : \"light-secondary-light\"}\n\t\t\t\t\t\t\tonClick={this.changeTab(OrderSide.Buy)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(\"orderSide.buy\")}\n\t\t\t\t\t\t</Tab>\n\t\t\t\t\t</TabWrapper>\n\t\t\t\t\t<TabWrapper>\n\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\tvariant={tab === OrderSide.Sell ? \"secondary-light\" : \"light-secondary-light\"}\n\t\t\t\t\t\t\tonClick={this.changeTab(OrderSide.Sell)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(\"orderSide.sell\")}\n\t\t\t\t\t\t</Tab>\n\t\t\t\t\t</TabWrapper>\n\t\t\t\t</TabsContainer>\n\t\t\t\t<Content>\n\t\t\t\t\t<MarketType>\n\t\t\t\t\t\t{buySellInnerTabs.map((tab, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<MarketButton\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-link px-0\"\n\t\t\t\t\t\t\t\t\t\tdisabled={tab.active}\n\t\t\t\t\t\t\t\t\t\tonClick={tab.onClick}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{tab.text}\n\t\t\t\t\t\t\t\t\t</MarketButton>\n\t\t\t\t\t\t\t\t\t{index < buySellInnerTabs.length - 1 && <span className={\"px-2\"}>/</span>}\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</MarketType>\n\t\t\t\t\t<SpotInputPanel\n\t\t\t\t\t\ttoken={baseToken}\n\t\t\t\t\t\tdecimals={decimals}\n\t\t\t\t\t\tvalue={amount}\n\t\t\t\t\t\tonUserInput={this.updateMakerAmount}\n\t\t\t\t\t\tselected={currencyPair.base}\n\t\t\t\t\t\tvalueFixedDecimals={basePrecision}\n\t\t\t\t\t\tlabel={`Amount (Min: ${minAmount})`}\n\t\t\t\t\t\tbalanceText={this.getAmountAvailableLabel}\n\t\t\t\t\t\tshowBalance={true}\n\t\t\t\t\t\tmin={minAmountUnits}\n\t\t\t\t\t/>\n\t\t\t\t\t{orderType === OrderType.Limit && (\n\t\t\t\t\t\t<QuoteContainer>\n\t\t\t\t\t\t\t<SpotInputPanel\n\t\t\t\t\t\t\t\ttoken={quoteToken}\n\t\t\t\t\t\t\t\tdecimals={0}\n\t\t\t\t\t\t\t\tmin={ZERO}\n\t\t\t\t\t\t\t\tvalue={price}\n\t\t\t\t\t\t\t\tonUserInput={this.updatePrice}\n\t\t\t\t\t\t\t\tselected={currencyPair.quote}\n\t\t\t\t\t\t\t\tvalueFixedDecimals={pricePrecision}\n\t\t\t\t\t\t\t\tlabel={t(\"pricePerToken\")}\n\t\t\t\t\t\t\t\tshowBalance={false}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</QuoteContainer>\n\t\t\t\t\t)}\n\t\t\t\t\t<DetailsContainer className=\"d-flex flex-column\">\n\t\t\t\t\t\t<OrderDetailsContainer\n\t\t\t\t\t\t\torderType={orderType}\n\t\t\t\t\t\t\torderSide={tab}\n\t\t\t\t\t\t\ttokenAmount={amount}\n\t\t\t\t\t\t\ttokenPrice={price || new BigNumber(1).div(new BigNumber(10).pow(pricePrecision))}\n\t\t\t\t\t\t\tcurrencyPair={currencyPair}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</DetailsContainer>\n\t\t\t\t\t<div className=\"d-flex flex-column align-items-xl-center align-items-stretch justify-content-center mt-auto\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\tthis.props.web3.account &&\n\t\t\t\t\t\t\t\t(isOrderTypeLimitIsEmpty || isOrderTypeMarketIsEmpty || isOrderTypeLimitOverflow)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonClick={this.submit}\n\t\t\t\t\t\t\tvariant={\"primary\"}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tminWidth: 250,\n\t\t\t\t\t\t\t\theight: 56,\n\t\t\t\t\t\t\t\tmarginTop: 10,\n\t\t\t\t\t\t\t\tfontSize: 20,\n\t\t\t\t\t\t\t\tfontWeight: 700,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{!this.props.web3.account ? t(\"wallet.connect\") : btnText}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</Content>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tbaseToken: state.spot.baseToken,\n\t\tquoteToken: state.spot.quoteToken,\n\t\tcurrencyPair: getCurrencyPair(state),\n\t\torderPriceSelected: getOrderPriceSelected(state),\n\t\tmakerAmountSelected: getMakerAmountSelected(state),\n\t\topenSellOrders: getOpenSellOrders(state),\n\t\topenBuyOrders: getOpenBuyOrders(state),\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tonSubmitLimitOrder: (amount, price, side, orderFeeData, tokensBalance, wethBalance) =>\n\t\t\tdispatch(startBuySellLimitSteps(amount, price, side, orderFeeData, tokensBalance, wethBalance)),\n\t\tonSubmitLimitOrderMatching: (amount, price, side, orderFeeData, tokensBalance, wethBalance, ethBalance) =>\n\t\t\tdispatch(\n\t\t\t\tstartBuySellLimitMatchingSteps(\n\t\t\t\t\tamount,\n\t\t\t\t\tprice,\n\t\t\t\t\tside,\n\t\t\t\t\torderFeeData,\n\t\t\t\t\ttokensBalance,\n\t\t\t\t\twethBalance,\n\t\t\t\t\tethBalance\n\t\t\t\t)\n\t\t\t),\n\t\tonSubmitMarketOrder: (amount, side, tokensBalance, wethBalance, ethBalance) =>\n\t\t\tdispatch(startBuySellMarketSteps(amount, side, tokensBalance, wethBalance, ethBalance)),\n\t\tonFetchTakerAndMakerFee: (amount, price, side, account, library) =>\n\t\t\tdispatch(fetchTakerAndMakerFee(amount, price, side, account, library)),\n\t};\n};\n\nexport default withBalance(connect(mapStateToProps, mapDispatchToProps)(withTranslation()(withWeb3Account(BuySell))));\n","import { ConfirmationPendingContent } from \"../../../../../components/TransactionConfirmationModal\";\nimport React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { useActiveWeb3React } from \"../../../../../hooks\";\nimport { createSignedOrder } from \"../../../../../state/spotUI/actions\";\nimport { getStepsModalCurrentStep } from \"../../../../../state/selectors\";\nimport { submitLimitOrder } from \"../../../../../state/relayer/actions\";\nimport Web3 from \"web3\";\n\nconst web3 = new Web3(Web3.givenProvider || Web3.providers.HttpProvider(process.env.REACT_APP_NETWORK_URL));\n\nconst SignOrderStepContainer = (props) => {\n\tconst { account, library } = useActiveWeb3React();\n\tconst { step } = props;\n\tconst { amount, price, side } = step;\n\n\tconst submitOrder = async () => {\n\t\ttry {\n\t\t\tconst signedOrder = await props.createSignedOrder(\n\t\t\t\tamount,\n\t\t\t\tprice,\n\t\t\t\tside,\n\t\t\t\taccount,\n\t\t\t\tweb3.currentProvider || window.ethereum,\n\t\t\t\tlibrary\n\t\t\t);\n\t\t\tawait props.submitLimitOrder(signedOrder, amount, side);\n\n\t\t\tprops.onDone();\n\t\t} catch (e) {\n\t\t\tprops.onDismiss();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tsubmitOrder();\n\t}, [step, account]);\n\n\treturn <ConfirmationPendingContent onDismiss={props.onDismiss} pendingText={\"Waiting for confirmation\"} />;\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tstep: getStepsModalCurrentStep(state),\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tsubmitLimitOrder: (signedOrder, amount, side, account, library) =>\n\t\t\tdispatch(submitLimitOrder(signedOrder, amount, side, account, library)),\n\t\tcreateSignedOrder: (amount, price, side, account, web3, library) =>\n\t\t\tdispatch(createSignedOrder(amount, price, side, account, web3, library)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignOrderStepContainer);\n","import { ConfirmationPendingContent } from \"../../../../../components/TransactionConfirmationModal\";\nimport React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { useActiveWeb3React } from \"../../../../../hooks\";\nimport { getCurrencyPair, getQuoteToken, getStepsModalCurrentStep } from \"../../../../../state/selectors\";\nimport { getOrderbookAndUserOrders, submitLimitMatchingOrder } from \"../../../../../state/relayer/actions\";\nimport Web3 from \"web3\";\n\nconst web3 = new Web3(Web3.givenProvider || Web3.providers.HttpProvider(process.env.REACT_APP_NETWORK_URL));\n\nconst BuySellTokenMatchingStepContainer = (props) => {\n\tconst { account, library } = useActiveWeb3React();\n\tconst { step, onSubmitLimitMatchingOrder } = props;\n\tconst { amount, side, price } = step;\n\n\tconst submitOrder = async () => {\n\t\ttry {\n\t\t\tconst { txHash, amountInReturn } = await onSubmitLimitMatchingOrder(\n\t\t\t\tamount,\n\t\t\t\tprice,\n\t\t\t\tside,\n\t\t\t\taccount,\n\t\t\t\tweb3.currentProvider || window.ethereum\n\t\t\t);\n\t\t\tprops.onDone(txHash);\n\t\t\tprops.refreshOrders();\n\t\t} catch (e) {\n\t\t\tprops.onDismiss();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tsubmitOrder();\n\t}, [step, account]);\n\n\treturn <ConfirmationPendingContent onDismiss={props.onDismiss} pendingText={\"Waiting for confirmation\"} />;\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tstep: getStepsModalCurrentStep(state),\n\t\tcurrencyPair: getCurrencyPair(state),\n\t\tquoteToken: getQuoteToken(state),\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tonSubmitLimitMatchingOrder: (amount, price, side, account, library) =>\n\t\t\tdispatch(submitLimitMatchingOrder(amount, price, side, account, library)),\n\t\trefreshOrders: (account, library) => dispatch(getOrderbookAndUserOrders(account, library)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BuySellTokenMatchingStepContainer);\n","import { ConfirmationPendingContent } from \"../../../../../components/TransactionConfirmationModal\";\nimport React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { useActiveWeb3React } from \"../../../../../hooks\";\nimport { getCurrencyPair, getQuoteToken, getStepsModalCurrentStep } from \"../../../../../state/selectors\";\nimport { getOrderbookAndUserOrders, submitMarketOrder } from \"../../../../../state/relayer/actions\";\nimport Web3 from \"web3\";\n\nconst web3 = new Web3(Web3.givenProvider || Web3.providers.HttpProvider(process.env.REACT_APP_NETWORK_URL));\n\nconst BuySellTokenMatchingStepContainer = (props) => {\n\tconst { account, library } = useActiveWeb3React();\n\tconst { step, onSubmitMarketOrder } = props;\n\tconst { amount, side, context } = step;\n\n\tconst submitOrder = async () => {\n\t\ttry {\n\t\t\tif (context === \"order\") {\n\t\t\t\tconst { txHash, amountInReturn } = await onSubmitMarketOrder(\n\t\t\t\t\tamount,\n\t\t\t\t\tside,\n\t\t\t\t\taccount,\n\t\t\t\t\tweb3.currentProvider || window.ethereum\n\t\t\t\t);\n\t\t\t\tprops.onDone(txHash);\n\t\t\t\tprops.refreshOrders();\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tprops.onDismiss();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tsubmitOrder();\n\t}, [step, account]);\n\n\treturn <ConfirmationPendingContent onDismiss={props.onDismiss} pendingText={\"Waiting for confirmation\"} />;\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tstep: getStepsModalCurrentStep(state),\n\t\tcurrencyPair: getCurrencyPair(state),\n\t\tquoteToken: getQuoteToken(state),\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tonSubmitMarketOrder: (amount, side, account, library) =>\n\t\t\tdispatch(submitMarketOrder(amount, side, account, library)),\n\t\trefreshOrders: (account, library) => dispatch(getOrderbookAndUserOrders(account, library)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BuySellTokenMatchingStepContainer);\n","import { Modal } from \"../../../../components/Modal/bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { getStepsModalCurrentStep } from \"../../../../state/selectors\";\nimport { setStepsModalCurrentStep } from \"../../../../state/spotUI/actions\";\nimport { CHAIN_ID, StepKind } from \"../../../../constants\";\n\nimport UnlockToken from \"../../../Borrow/ModalProvider/modals/UnlockToken\";\nimport SignOrderStepContainer from \"./modals/SignOrderStepContainer\";\nimport BuySellTokenMatchingStepContainer from \"./modals/BuySellTokenMatchingStepContainer\";\nimport BuySellTokenStepContainer from \"./modals/BuySellTokenStepContainer\";\nimport React, { useState } from \"react\";\nimport { TransactionSubmittedContent } from \"../../../../components/TransactionConfirmationModal\";\n\nconst ModalProvider = (props) => {\n\tconst [submitted, setSubmitted] = useState(false);\n\tconst [txHash, setTxHash] = useState(null);\n\tconst currentStep = useSelector(getStepsModalCurrentStep);\n\tconst dispatch = useDispatch();\n\tconst isOpen = currentStep !== null;\n\n\tconst hideModal = () => {\n\t\tsetSubmitted(false);\n\t\tsetTxHash(null);\n\t\tdispatch(setStepsModalCurrentStep(null));\n\t};\n\n\tconst onDone = (tx) => {\n\t\tsetSubmitted(true);\n\t\tsetTxHash(tx);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{props.children}\n\t\t\t<Modal show={isOpen} centered onHide={hideModal}>\n\t\t\t\t<Modal.Body className={\"px-0 py-0\"}>\n\t\t\t\t\t{!submitted ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{currentStep && currentStep.kind === StepKind.ToggleTokenLock && (\n\t\t\t\t\t\t\t\t<UnlockToken onDismiss={hideModal} />\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{currentStep && currentStep.kind === StepKind.BuySellLimit && (\n\t\t\t\t\t\t\t\t<SignOrderStepContainer onDismiss={hideModal} onDone={onDone} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{currentStep && currentStep.kind === StepKind.BuySellLimitMatching && (\n\t\t\t\t\t\t\t\t<BuySellTokenMatchingStepContainer onDismiss={hideModal} onDone={onDone} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{currentStep && currentStep.kind === StepKind.BuySellMarket && (\n\t\t\t\t\t\t\t\t<BuySellTokenStepContainer onDismiss={hideModal} onDone={onDone} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<TransactionSubmittedContent chainId={CHAIN_ID} hash={txHash} onDismiss={hideModal} />\n\t\t\t\t\t)}\n\t\t\t\t</Modal.Body>\n\t\t\t</Modal>\n\t\t</>\n\t);\n};\n\nexport default ModalProvider;\n","import TradingViewWidget, { Themes } from \"react-tradingview-widget\";\nimport { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\n\nimport Page from \"../../components/Page\";\nimport CheckBalance from \"../../components/CheckBalance\";\nimport StyledCard, { ResponsiveCard } from \"../../components/Card\";\nimport marketTokens from \"../../constants/marketTokens.json\";\nimport MarketStats from \"./components/MarketStats\";\nimport MarketDetails from \"./components/MarketDetails\";\nimport Orderbook from \"./components/Orderbook\";\nimport Provider from \"./components/Provider\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport MarketFills from \"./components/MarketFills\";\nimport OrderHistory from \"./components/OrderHistory\";\nimport BuySell from \"./components/BuySell\";\nimport ModalProvider from \"./components/BuySell/ModalProvider\";\nimport { updateGasInfo } from \"../../state/currency/actions\";\n\nconst Row = styled.div`\n\tdisplay: ${({ justMobile }) => (justMobile ? \"none\" : \"flex\")};\n\tmargin-left: -5px;\n\tmargin-right: -5px;\n\n\t@media (max-width: 1400px) {\n\t\tflex-direction: column;\n\t\tdisplay: ${({ justDesktop }) => (justDesktop ? \"none\" : \"flex\")};\n\t}\n`;\nconst Col = styled.div`\n\tpadding: 0 5px;\n\tdisplay: flex;\n\tflex-direction: column;\n`;\n\nconst Card = styled(StyledCard)`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: stretch;\n\tmargin-bottom: 20px;\n\toverflow: hidden;\n\n\t& .card-body {\n\t\tpadding: 0;\n\t}\n\t@media (min-width: 1400px) {\n\t\tmargin-bottom: 10px;\n\t\twidth: 570px;\n\t\theight: 373px;\n\t}\n`;\n\nconst ContainerCard = styled(ResponsiveCard)`\n\tdisplay: flex;\n\tmargin-bottom: 20px;\n\n\t& .card-body {\n\t\tpadding: 30px;\n\t}\n\n\t@media (min-width: 1400px) {\n\t\twidth: 582px;\n\t\theight: 486px;\n\t\tmargin-bottom: 10px;\n\n\t\t& .card-body {\n\t\t\tpadding: 12px 20px 20px;\n\t\t\tdisplay: flex;\n\t\t}\n\t}\n`;\n\nconst Spot = (props) => {\n\tconst [pair, setPair] = useState(\"BINANCE:ETHDAI\");\n\tconst { baseToken, quoteToken } = useSelector((state) => state.spot);\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tif (!baseToken || !quoteToken) {\n\t\t\tsetPair(\"BINANCE:ETHDAI\");\n\t\t} else {\n\t\t\tconst quote =\n\t\t\t\tquoteToken && quoteToken.symbol.toLowerCase() === \"weth\" ? \"ETH\" : quoteToken.symbol.toUpperCase();\n\t\t\tconst base =\n\t\t\t\tbaseToken && baseToken.symbol.toLowerCase() === \"weth\" ? \"ETH\" : baseToken.symbol.toUpperCase();\n\t\t\tsetPair(`BINANCE:${base}${quote}`);\n\t\t}\n\t}, [baseToken, quoteToken]);\n\n\tuseEffect(() => {\n\t\tdispatch(updateGasInfo());\n\t}, [dispatch]);\n\n\treturn (\n\t\t<Page title={false} morePadding size={\"xl\"}>\n\t\t\t<Provider>\n\t\t\t\t<ModalProvider>\n\t\t\t\t\t<Row justDesktop>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<MarketStats />\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<MarketDetails isTradingGraphic={true} />\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<TradingViewWidget\n\t\t\t\t\t\t\t\t\tsymbol={pair}\n\t\t\t\t\t\t\t\t\ttheme={Themes.DARK}\n\t\t\t\t\t\t\t\t\tallow_symbol_change={false}\n\t\t\t\t\t\t\t\t\twidth={\"100%\"}\n\t\t\t\t\t\t\t\t\theight={373}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<ContainerCard>\n\t\t\t\t\t\t\t\t<Orderbook />\n\t\t\t\t\t\t\t\t<MarketFills />\n\t\t\t\t\t\t\t</ContainerCard>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row className={\"justify-content-end\"} justDesktop>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<OrderHistory />\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<BuySell />\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row justMobile>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<MarketDetails isMobile={true} isTradingGraphic={true} />\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<TradingViewWidget\n\t\t\t\t\t\t\t\t\tsymbol={pair}\n\t\t\t\t\t\t\t\t\ttheme={Themes.DARK}\n\t\t\t\t\t\t\t\t\tallow_symbol_change={false}\n\t\t\t\t\t\t\t\t\twidth={\"100%\"}\n\t\t\t\t\t\t\t\t\theight={528}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Col>\n\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<BuySell />\n\t\t\t\t\t\t</Col>\n\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<ContainerCard>\n\t\t\t\t\t\t\t\t<Orderbook isMobile={true} />\n\t\t\t\t\t\t\t</ContainerCard>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<ContainerCard>\n\t\t\t\t\t\t\t\t<MarketFills isMobile={true} />\n\t\t\t\t\t\t\t</ContainerCard>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<MarketStats isMobile={true} />\n\t\t\t\t\t\t</Col>\n\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<OrderHistory isMobile={true} />\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</ModalProvider>\n\t\t\t</Provider>\n\t\t</Page>\n\t);\n};\n\nexport default Spot;\n"],"sourceRoot":""}