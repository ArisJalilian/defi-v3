{"version":3,"sources":["components/hoc/withWeb3Account.tsx","components/NumericalInput/index.tsx","components/UI/Dropdown/index.js","assets/images/global/dropdown.svg","hooks/useTokenToBalance.js","components/hoc/withBalance.js","components/BookOption/index.js","../node_modules/react-feather/dist/icons/alert-triangle.js","utils/spot/numberUtils.js","pages/Borrow/ModalProvider/modals/UnlockToken.js","../node_modules/react-feather/dist/icons/chevron-down.js","pages/Spot/components/MarketStats/index.js","pages/Spot/components/MarketDetails/index.js","pages/Spot/components/Orderbook/index.js","pages/Spot/components/Provider/index.js","pages/Spot/components/MarketFills/index.js","pages/Spot/components/OrderHistory/index.js","components/SpotInputPanel/index.js","components/OrderDetailsContainer/index.js","pages/Spot/components/BuySell/index.js","pages/Spot/components/BuySell/modals/SignOrderStepContainer.js","pages/Spot/components/BuySell/modals/BuySellTokenMatchingStepContainer.js","pages/Spot/components/BuySell/modals/BuySellTokenStepContainer.js","pages/Spot/components/BuySell/ModalProvider.js","pages/Spot/index.js"],"names":["withWeb3Account","Component","props","context","useActiveWeb3React","toggleWalletModal","useWalletModalToggle","web3","StyledInput","styled","input","error","theme","red1","text1","bg3","align","size","reverse","noBorder","modalBG","text3","inputRegex","RegExp","Input","React","memo","value","onUserInput","placeholder","rest","onChange","event","nextUserInput","target","replace","test","escapeRegExp","inputMode","title","autoComplete","autoCorrect","type","pattern","minLength","maxLength","spellCheck","Wrapper","div","Button","button","variant","secondary2","primary","darken","ButtonText","span","DropdownList","isOpen","DropdownItem","Dropdown","useState","items","active","setActive","open","setOpen","toggleModal","useCallback","changeActiveHandler","item","hasOwnProperty","onClick","src","require","default","map","i","bind","useSpotBalances","account","library","baseToken","useSelector","getBaseToken","quoteToken","getQuoteToken","knownTokens","useMemo","getKnownTokens","tokens","getTokens","wethToken","getWethToken","allBalances","address","balances","setBalances","fetchBalances","a","tokensToTokenBalances","res","useEffect","length","useTokenToBalance","window","ethereum","ethBalance","useETHBalances","wethBalance","find","b","token","symbol","tokensBalance","filter","ethereumBalance","ETH","toExact","bn","BigNumber","currency","undefined","balance","totalEthBalance","total","plus","baseTokenBalance","searchToken","tokenBalances","wethTokenBalance","tokenToFind","quoteTokenBalance","withBalance","Cell","BookOption","isSell","isBuy","_extends","Object","assign","arguments","source","key","prototype","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","AlertTriangle","forwardRef","_ref","ref","_ref$color","color","_ref$size","createElement","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","x1","y1","x2","y2","propTypes","PropTypes","string","oneOfType","number","displayName","padRightSplitted","numBg","decimals","UI_DECIMALS_DISPLAYED_ORDER_SIZE","numBgToFixed","toFixed","numBgToString","toString","decimalPlaces","split","diff","num","isZero","UnlockToken","unlocking","setUnlocking","currentStep","getStepsModalCurrentStep","dispatch","useDispatch","unlockToken","getContractWrappers","getProvider","contractWrappers","approveAddress","contractAddresses","erc20Proxy","erc20Token","ERC20TokenContract","amount","UNLIMITED_ALLOWANCE_IN_BASE_UNITS","approve","sendTransactionAsync","from","tx","awaitTransactionSuccessAsync","stepsModalAdvanceStep","onDismiss","pendingText","ChevronDown","points","Card","ResponsiveCard","EmptyText","CustomInputGroup","InputGroup","TokenFiltersTabs","success","danger","TokenFiltersTab","Text","AutoHeight","lighten","withRouter","connect","state","spot","currencyPair","markets","marketsStats","marketsStatsState","relayer","changeMarket","t","useTranslation","query","setQuery","getMarketFilters","selectedFilter","setSelectedFilter","_setTokensFilterTab","changeQueryHandler","e","columns","dataField","text","formatter","cellContent","row","rowIndex","baseSymbol","formatTokenSymbol","base","toUpperCase","quoteSymbol","quote","_getLastPrice","marketStats","m","pair","marketToString","formatExtraData","market","marketStat","last_price","config","pricePrecision","rowEvents","newSearch","queryString","stringify","history","push","match","path","callback","_setSelectedMarket","ServerState","NotLoaded","className","SearchIcon","Form","id","index","filteredMarkets","filterMarketsByTokenSymbol","searchedMarkets","filterMarketsByString","bordered","classes","bootstrap4","keyField","remote","data","_getMarkets","Loading","isMobile","StyledCard","Logo","Img","highPrice","getCurrentMarketTodayHighPrice","lowerPrice","getCurrentMarketTodayLowerPrice","volume","getCurrentMarketTodayQuoteVolume","closedOrders","getCurrentMarketTodayClosedOrders","lastPrice","getCurrentMarketLastPrice","toAbsoluteUrl","icon","USE_RELAYER_MARKET_UPDATES","displayDecimals","tokenAmountInUnits","wrapperClasses","ResponsiveTable","breakpoint","direction","withoutBorder","Container","BookOptionType","StyledBookOption","HeaderRow","TitleRow","TableRow","Title","Result","TR","CustomHead","InnerTR","TH","SpreadTitle","SpreadTR","TD","TBody","depthItems","OrderToRow","_setOrderPriceSelected","order","orders","totalSize","ZERO","side","OrderSide","Buy","reduce","sumSize","sizeItem","price","lte","gte","onSetOrderBuyPriceSelected","onSetOrderSellPriceSelected","onSetOrderPriceSelected","onSetMakerAmountSelected","priceColor","mySizeOrders","basePrecision","mySize","mySizeItem","eq","mySizeConverted","isMySizeEmpty","numSplitted","parseFloat","OrderToRowContainer","orderPriceSelected","setOrderPriceSelected","setOrderBuyPriceSelected","setOrderSellPriceSelected","makerAmountSelected","setMakerAmountSelected","Orderbook","depth","defaultDepth","bookOption","_spreadRowScrollable","createRef","_spreadRowFixed","_itemsScroll","content","orderBook","absoluteSpread","percentageSpread","totalQuoteBuyOrders","totalBaseSellOrders","serverState","sellOrders","buyOrders","mySizeSellArray","Sell","mySizeBuyArray","getColor","spreadAbsFixed","spreadPercentFixed","UI_DECIMALS_DISPLAYED_SPREAD_PERCENT","totalBase","totalQuote","bookOptionState","handleBookOption","option","setState","Number","slice","count","userOrders","orderBookState","getOrderBook","getSpread","getSpreadInPercentage","getTotalQuoteBuyOrders","getTotalBaseSellOrders","getOrderbookState","withTranslation","Web3","givenProvider","providers","HttpProvider","process","Provider","_deactivatePollingUpdates","_updateStoreInterval","clearInterval","_updatePriceEtherInterval","_updatePriceTokensInterval","_updateERC20MarketsInterval","_activatePollingUpdates","onUpdateERC20Markets","onUpdateMarketPriceTokens","onUpdateMarketPriceEther","onUpdateMarketPriceQuote","onUpdateERC20Store","currentProvider","UI_UPDATE_CHECK_INTERVAL","setInterval","isActiveCheckUpdates","UPDATE_ETHER_PRICE_INTERVAL","UPDATE_TOKENS_PRICE_INTERVAL","UPDATE_ERC20_MARKETS","componentWillUnmount","render","children","updateMarketPriceEther","updateMarketPriceQuote","updateMarketPriceTokens","updateERC20Markets","updateERC20Store","TableContainer","marketFills","spotUI","marketFillsState","marketToStringFromTokens","tokenQuoteSymbol","isWeth","marketFill","amountBase","tokenBase","displayAmountBase","getCurrencyPairByTokensSymbol","tokenQuote","timestamp","toISOString","fillToRow","CardTitle","h4","Content","InnerContent","Close","CloseIcon","onCancelOrder","cancelOrder","ordersToShow","status","OrderStatus","Fillable","tokenBaseSymbol","sideLabel","filled","getCurrencyPairFromTokens","orderToRow","InputRow","flexRowNoWrap","Label","InputContainer","LabelRow","Aligner","InputPanel","flexColumnNoWrap","StyledTokenName","CurrencySelect","bg1","BalanceRow","SpotInputPanel","valueStr","valueFixedDecimals","_updateValue","newValue","unitsInTokenAmount","min","isLessThan","label","disable","selected","hideInput","showBalance","balanceText","style","padding","borderRadius","Boolean","NumericalInput","getDerivedStateFromProps","Row","OrderType","OrderDetails","makerFeeAmount","takerFeeAmount","makerFeeAssetData","NULL_BYTES","takerFeeAssetData","quoteTokenAmount","canOrderBeFilled","componentDidUpdate","prevProps","newProps","tokenPrice","orderType","tokenAmount","orderSide","_updateOrderDetailsState","onFetchTakerAndMakerFee","getTokenBySymbol","priceInQuoteBaseUnits","baseTokenAmountInUnits","toUnitAmount","multipliedBy","makerFee","takerFee","openSellOrders","openBuyOrders","buildMarketOrders","ordersToFill","amountToPayForEachOrder","firstOrderWithFees","o","sum","sumTakerAssetFillableOrders","_getCostStringForRender","costAmount","_getMedianPriceStringForRender","quoteTokenAmountUnits","baseTokenAmountUnits","priceDisplay","toFormat","_getCostLabelStringForRender","qouteInUSD","componentDidMount","cost","costText","priceMedianText","getOpenSellOrders","getOpenBuyOrders","getQuoteInUsd","fetchTakerAndMakerFee","QuoteContainer","TabsContainer","TabWrapper","Tab","DetailsContainer","MarketType","MarketButton","BuySell","makerAmount","tab","btnMsg","cardMsg","changeTab","updateMakerAmount","getAmountAvailableLabel","tokenBalanceAmount","baseBalanceString","quoteBalanceString","updatePrice","submit","minAmount","minAmountUnits","String","orderFeeData","IS_ORDER_LIMIT_MATCHING","onSubmitLimitOrderMatching","onSubmitLimitOrder","onSubmitMarketOrder","message","setTimeout","_reset","_switchToMarket","_switchToLimit","buySellInnerTabs","quoteDecimals","isWethQuote","isWethBase","quoteUnits","tokenAmountInUnitsToBigNumber","baseBalance","makerAmountUnits","isMakerAmountEmpty","isMakerAmountMin","isPriceEmpty","isPriceMin","pow","isOrderTypeLimitIsEmpty","isOrderTypeLimitOverflow","gt","isOrderTypeMarketIsEmpty","btnPrefix","btnText","disabled","OrderDetailsContainer","minWidth","marginTop","fontSize","fontWeight","getCurrencyPair","getOrderPriceSelected","getMakerAmountSelected","startBuySellLimitSteps","startBuySellLimitMatchingSteps","startBuySellMarketSteps","step","submitLimitOrder","signedOrder","createSignedOrder","submitOrder","onDone","onSubmitLimitMatchingOrder","submitLimitMatchingOrder","refreshOrders","getOrderbookAndUserOrders","txHash","amountInReturn","submitMarketOrder","ModalProvider","submitted","setSubmitted","setTxHash","hideModal","setStepsModalCurrentStep","show","centered","onHide","Body","chainId","CHAIN_ID","hash","kind","StepKind","ToggleTokenLock","BuySellLimit","BuySellLimitMatching","BuySellMarket","BuySellTokenStepContainer","justMobile","justDesktop","Col","ContainerCard","Spot","setPair","toLowerCase","updateGasInfo","Page","morePadding","isTradingGraphic","Themes","DARK","allow_symbol_change"],"mappings":"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","file":"static/js/21.4549b68f.chunk.js","sourcesContent":["import { useActiveWeb3React } from \"../../hooks\";\nimport { useWalletModalToggle } from \"../../state/application/hooks\";\n\nconst withWeb3Account = (Component: any) => {\n\treturn (props: any) => {\n\t\tconst context = useActiveWeb3React();\n\t\tconst toggleWalletModal = useWalletModalToggle();\n\t\treturn <Component web3={context} toggleWalletModal={toggleWalletModal} {...props} />;\n\t};\n};\n\nexport default withWeb3Account;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { escapeRegExp } from \"../../utils\";\n\nconst StyledInput = styled.input<{\n\terror?: boolean;\n\tfontSize?: string;\n\talign?: string;\n\tnoBorder?: boolean;\n\treverse?: boolean;\n\tsize?: string;\n}>`\n\tcolor: ${({ error, theme }) => (error ? theme.red1 : theme.text1)};\n\twidth: 0;\n\tposition: relative;\n\tfont-weight: 500;\n\tfont-family: inherit;\n\toutline: none;\n\tborder: none;\n\tflex: 1 1 auto;\n\tbackground-color: ${({ theme }) => theme.bg3};\n\tfont-size: 1rem;\n\ttext-align: ${({ align }) => align && align};\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\theight: ${({ size }) => (size === \"sm\" ? \"48px\" : \"56px\")};\n\tborder-bottom-right-radius: ${({ reverse }) => (reverse ? \"0\" : `1.125rem`)};\n\tborder-top-right-radius: ${({ reverse }) => (reverse ? \"0\" : `1.125rem`)};\n\tborder-bottom-left-radius: ${({ reverse }) => (reverse ? \"1.125rem\" : `0`)};\n\tborder-top-left-radius: ${({ reverse }) => (reverse ? \"1.125rem\" : `0`)};\n\tpadding-right: 0.625rem;\n\tpadding-left: ${({ noBorder, reverse }) => (reverse ? \"1.375rem\" : noBorder ? \"0.625rem\" : `1.5rem`)};\n\t-webkit-appearance: textfield;\n\tborder-left: ${({ theme, noBorder }) => (noBorder ? \"none\" : `3px solid ${theme.modalBG}`)};\n\n\t@media (min-width: 768px) {\n\t\tpadding-right: 4.5625rem;\n\t}\n\n\t::-webkit-search-decoration {\n\t\t-webkit-appearance: none;\n\t}\n\n\t[type=\"number\"] {\n\t\t-moz-appearance: textfield;\n\t}\n\n\t::-webkit-outer-spin-button,\n\t::-webkit-inner-spin-button {\n\t\t-webkit-appearance: none;\n\t}\n\n\t::placeholder {\n\t\tcolor: ${({ theme }) => theme.text3};\n\t}\n`;\n\nconst inputRegex = RegExp(`^\\\\d*(?:\\\\\\\\[.])?\\\\d*$`); // match escaped \".\" characters via in a non-capturing group\n\nexport const Input = React.memo(function InnerInput({\n\tvalue,\n\tonUserInput,\n\tplaceholder,\n\tsize,\n\t...rest\n}: {\n\tvalue: string | number;\n\tonUserInput: (input: string) => void;\n\terror?: boolean;\n\tfontSize?: string;\n\tsize?: string;\n\talign?: \"right\" | \"left\";\n} & Omit<React.HTMLProps<HTMLInputElement>, \"ref\" | \"onChange\" | \"as\">) {\n\tconst enforcer = (nextUserInput: string) => {\n\t\tif (nextUserInput === \"\" || inputRegex.test(escapeRegExp(nextUserInput))) {\n\t\t\tonUserInput(nextUserInput);\n\t\t}\n\t};\n\n\treturn (\n\t\t<StyledInput\n\t\t\t{...rest}\n\t\t\tvalue={value}\n\t\t\tonChange={(event) => {\n\t\t\t\t// replace commas with periods, because uniswap exclusively uses period as the decimal separator\n\t\t\t\tenforcer(event.target.value.replace(/,/g, \".\"));\n\t\t\t}}\n\t\t\t// universal input options\n\t\t\tinputMode=\"decimal\"\n\t\t\ttitle=\"Token Amount\"\n\t\t\tautoComplete=\"off\"\n\t\t\tautoCorrect=\"off\"\n\t\t\tsize={size}\n\t\t\t// text-specific options\n\t\t\ttype=\"text\"\n\t\t\tpattern=\"^[0-9]*[.,]?[0-9]*$\"\n\t\t\tplaceholder={placeholder || \"0.0\"}\n\t\t\tminLength={1}\n\t\t\tmaxLength={79}\n\t\t\tspellCheck=\"false\"\n\t\t/>\n\t);\n});\n\nexport default Input;\n\n// const inputRegex = RegExp(`^\\\\d*(?:\\\\\\\\[.])?\\\\d*$`) // match escaped \".\" characters via in a non-capturing group\n","import styled from \"styled-components\";\nimport { useState, useCallback } from \"react\";\nimport SVG from \"react-inlinesvg\";\nimport { darken } from \"polished\";\n\nconst Wrapper = styled.div`\n\tposition: relative;\n\tz-index: 2;\n\tperspective: 800px;\n`;\n\nconst Button = styled.button`\n\theight: ${({ size }) => (size === \"sm\" ? \"32px\" : \"56px\")};\n\tpadding-left: ${({ size }) => (size === \"sm\" ? \"16px\" : \"20px\")};\n\tpadding-right: ${({ size }) => (size === \"sm\" ? \"22px\" : \"24px\")};\n\tborder-radius: ${({ size }) => (size === \"sm\" ? \"12px\" : \"18px\")};\n\tbackground-color: ${({ variant }) =>\n\t\tvariant === \"secondary\" ? \"rgba(121, 133, 246, 0.15)\" : \"rgba(135, 220, 225, 0.15)\"};\n\ttransition: 0.4s ease all;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tcolor: ${({ variant, theme }) => (variant === \"secondary\" ? theme.secondary2 : theme.primary)};\n\tborder: none;\n\n\t&:hover {\n\t\tbackground-color: ${({ variant, theme }) => (variant === \"secondary\" ? theme.secondary2 : theme.primary)};\n\t\tcolor: ${({ theme }) => theme.text1};\n\t}\n\n\t&:focus,\n\t&:active {\n\t\toutline: none;\n\t\tbackground-color: ${({ variant, theme }) =>\n\t\t\tvariant === \"secondary\" ? darken(0.1, theme.secondary2) : darken(0.1, theme.primary)};\n\t\tbox-shadow: 0 0 0 5px\n\t\t\t${({ variant }) => (variant === \"secondary\" ? \"rgba(121, 133, 246, 0.15)\" : \"rgba(135, 220, 225, 0.15)\")};\n\t\tcolor: ${({ theme }) => theme.text1};\n\t}\n\n\t@media (max-width: 991px) {\n\t\theight: 32px;\n\t\tfont-size: 0.875rem;\n\t\tborder-radius: 12px;\n\t\tpadding-left: 15px;\n\t\tpadding-right: 21px;\n\t}\n`;\n\nconst ButtonText = styled.span`\n\tcolor: currentColor;\n\tfont-weight: 500;\n\tfont-size: 1rem;\n\tpadding-right: 1rem;\n\n\t@media (max-width: 991px) {\n\t\tpadding-right: 0.5rem;\n\t}\n`;\n\nconst DropdownList = styled.div`\n\tbackground-image: linear-gradient(346.84deg, #9aa7d0 1.12%, #b7c2e4 78.56%);\n\tbox-shadow: -1px 11px 43px rgba(0, 0, 0, 0.12);\n\tborder-radius: 12px;\n\tposition: absolute;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: flex-start;\n\tright: 0;\n\ttop: ${({ size }) => (size === \"sm\" ? `42px` : `66px`)};\n\tmin-width: 100%;\n\tpadding: ${({ size }) => (size === \"sm\" ? `14px` : `20px`)};\n\ttransition: 0.5s ease all;\n\ttransform-style: preserve-3d;\n\ttransform-origin: top center;\n\ttransform: ${({ isOpen }) => (isOpen ? `translateY(0) scale(1)` : `translateY(20px) scale(0.8)`)};\n\topacity: ${({ isOpen }) => (isOpen ? `1` : `0`)};\n\tvisibility: ${({ isOpen }) => (isOpen ? `visible` : `hidden`)};\n\n\t@media (max-width: 991px) {\n\t\ttop: 42px;\n\t}\n`;\n\nconst DropdownItem = styled.button`\n\tborder: none;\n\tbackground-color: transparent;\n\tfont-weight: 500;\n\tfont-size: 1rem;\n\tcolor: #232429;\n\twhite-space: nowrap;\n\tpadding: 0;\n\n\t@media (max-width: 991px) {\n\t\tfont-size: 0.875rem;\n\t}\n\n\t&:hover,\n\t&:focus,\n\t&:active {\n\t\toutline: none;\n\t\ttext-decoration: none;\n\t\tbox-shadow: none;\n\t}\n\n\t&:not(:last-child) {\n\t\tmargin-bottom: ${({ size }) => (size === \"sm\" ? `14px` : `20px`)};\n\t}\n`;\n\nconst Dropdown = (props) => {\n\tconst [active, setActive] = useState(props.items[props.active] || null);\n\tconst [open, setOpen] = useState(false);\n\n\tconst toggleModal = useCallback(() => {\n\t\tsetOpen((open) => !open);\n\t}, []);\n\n\tconst changeActiveHandler = useCallback(\n\t\t(item) => {\n\t\t\tsetActive(item);\n\t\t\tsetOpen(false);\n\t\t\tif (props.hasOwnProperty(\"onChange\")) {\n\t\t\t\tprops.onChange(item.value);\n\t\t\t}\n\t\t},\n\t\t[props.onChange]\n\t);\n\n\treturn (\n\t\t<Wrapper>\n\t\t\t<Button variant={props.variant} onClick={toggleModal} isOpen={open} size={props.size || \"md\"}>\n\t\t\t\t<ButtonText>{active ? active.title : props.placeholder || \"Select\"}</ButtonText>\n\t\t\t\t<SVG src={require(\"../../../assets/images/global/dropdown.svg\").default} />\n\t\t\t</Button>\n\t\t\t<DropdownList isOpen={open} size={props.size || \"md\"}>\n\t\t\t\t{props.items.map((item, i) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<DropdownItem size={\"sm\"} onClick={changeActiveHandler.bind(this, item)} key={`dropdown-${i}`}>\n\t\t\t\t\t\t\t{item.title}\n\t\t\t\t\t\t</DropdownItem>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</DropdownList>\n\t\t</Wrapper>\n\t);\n};\n\nexport default Dropdown;\n","export default __webpack_public_path__ + \"static/media/dropdown.4a406929.svg\";","import { useMemo, useState, useEffect } from \"react\";\nimport { tokensToTokenBalances } from \"../utils/spot/tokens\";\nimport { useActiveWeb3React } from \"./index\";\nimport { useSelector } from \"react-redux\";\nimport { getBaseToken, getQuoteToken, searchToken } from \"../state/selectors\";\nimport { getKnownTokens } from \"../utils/known_tokens\";\nimport { useETHBalances } from \"../state/wallet/hooks\";\nimport { BigNumber } from \"@0x/utils\";\n\nexport const useTokenToBalance = (tokens, address, library) => {\n\tconst [balances, setBalances] = useState([]);\n\n\tconst fetchBalances = async () => {\n\t\tif (address) {\n\t\t\tconst res = await tokensToTokenBalances(tokens, address, library);\n\t\t\tsetBalances(res);\n\t\t}\n\t};\n\tuseEffect(() => {\n\t\tfetchBalances();\n\t}, [address, tokens]);\n\n\treturn useMemo(() => {\n\t\tif (balances.length > 0) {\n\t\t\treturn balances;\n\t\t} else {\n\t\t\treturn [];\n\t\t}\n\t}, [address, balances, tokens]);\n};\n\nexport const useSpotBalances = () => {\n\tconst { account, library } = useActiveWeb3React();\n\n\tconst baseToken = useSelector(getBaseToken);\n\tconst quoteToken = useSelector(getQuoteToken);\n\n\tconst knownTokens = useMemo(() => {\n\t\treturn getKnownTokens();\n\t}, []);\n\tconst tokens = useMemo(() => {\n\t\treturn knownTokens.getTokens();\n\t}, []);\n\n\tconst wethToken = useMemo(() => {\n\t\treturn knownTokens.getWethToken();\n\t}, []);\n\n\tconst t = useMemo(() => {\n\t\treturn [...tokens, wethToken];\n\t}, [wethToken, tokens]);\n\tconst allBalances = useTokenToBalance(t, account, window.ethereum || library);\n\n\tconst ethBalance = useETHBalances([account]);\n\n\tconst wethBalance = useMemo(() => {\n\t\treturn allBalances.find((b) => b.token.symbol === wethToken.symbol);\n\t}, [allBalances]);\n\n\tconst tokensBalance = useMemo(() => {\n\t\treturn allBalances.filter((b) => b.token.symbol !== wethToken.symbol);\n\t}, [allBalances]);\n\n\tconst ethereumBalance = useMemo(() => {\n\t\tconst ETH = ethBalance[account] ? ethBalance[account].toExact() : null;\n\t\tconst bn = new BigNumber(ETH * 10 ** 18);\n\n\t\treturn {\n\t\t\ttoken: ethBalance[account] ? ethBalance[account].currency : undefined,\n\t\t\tbalance: bn,\n\t\t};\n\t}, [ethBalance]);\n\n\tconst totalEthBalance = useMemo(() => {\n\t\tif (wethBalance && ethereumBalance) {\n\t\t\tlet total = wethBalance.balance;\n\t\t\tif (ethereumBalance.token !== undefined) {\n\t\t\t\ttotal = ethereumBalance.balance.plus(wethBalance.balance);\n\t\t\t}\n\n\t\t\treturn total;\n\t\t} else {\n\t\t\treturn undefined;\n\t\t}\n\t}, [ethereumBalance, wethBalance]);\n\n\tconst baseTokenBalance = useMemo(() => {\n\t\treturn searchToken({ tokenBalances: tokensBalance, wethTokenBalance: wethBalance, tokenToFind: baseToken });\n\t}, [baseToken, tokensBalance, wethBalance]);\n\n\tconst quoteTokenBalance = useMemo(() => {\n\t\treturn searchToken({ tokenBalances: tokensBalance, wethTokenBalance: wethBalance, tokenToFind: quoteToken });\n\t}, [quoteToken, tokensBalance, wethBalance]);\n\n\treturn useMemo(() => {\n\t\treturn {\n\t\t\tquoteTokenBalance,\n\t\t\tbaseTokenBalance,\n\t\t\ttotalEthBalance,\n\t\t\tethBalance: ethereumBalance,\n\t\t\twethBalance,\n\t\t\ttokensBalance,\n\t\t};\n\t}, [account, baseToken, quoteToken, allBalances, baseTokenBalance, quoteTokenBalance]);\n};\n","import { useSpotBalances } from \"../../hooks/useTokenToBalance\";\n\nconst withBalance = (Component) => {\n\treturn (props) => {\n\t\tconst balances = useSpotBalances();\n\t\treturn <Component {...props} {...balances} />;\n\t};\n};\n\nexport default withBalance;\n","import styled from \"styled-components\";\n\nconst Wrapper = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: flex-start;\n\tjustify-content: space-between;\n\twidth: 30px;\n\theight: 30px;\n\tmin-width: 30px;\n\tmin-height: 30px;\n\tpadding: 10px 6px;\n\tbackground-color: ${({ theme }) => theme.bg3};\n\tborder-radius: 30px;\n\topacity: ${({ active }) => (active ? \"1\" : \"0.5\")};\n\tcursor: pointer;\n`;\n\nconst Cell = styled.div`\n\theight: 2px;\n\tborder-radius: 9px;\n\twidth: 13px;\n\tbackground-color: ${({ theme, variant }) => (variant ? theme[variant] : \"#D3D6E8\")};\n\n\t&:not(:last-child) {\n\t\twidth: 17px;\n\t}\n`;\n\nconst BookOption = (props) => {\n\treturn (\n\t\t<Wrapper active={props.active} onClick={props.onChange} {...props}>\n\t\t\t<Cell variant={props.isSell && \"danger\"} />\n\t\t\t<Cell />\n\t\t\t<Cell variant={props.isBuy && \"success\"} />\n\t\t</Wrapper>\n\t);\n};\n\nexport default BookOption;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar AlertTriangle = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"12\",\n    y1: \"9\",\n    x2: \"12\",\n    y2: \"13\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"12\",\n    y1: \"17\",\n    x2: \"12.01\",\n    y2: \"17\"\n  }));\n});\nAlertTriangle.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nAlertTriangle.displayName = 'AlertTriangle';\nexport default AlertTriangle;","import { UI_DECIMALS_DISPLAYED_ORDER_SIZE } from \"../../constants\";\n\nexport const padRightSplitted = (numBg, decimals = UI_DECIMALS_DISPLAYED_ORDER_SIZE) => {\n\tconst numBgToFixed = numBg.toFixed(decimals);\n\tconst numBgToString = numBg.toString();\n\n\tconst decimalPlaces = (numBgToString.split(\".\")[1] || []).length;\n\n\tlet diff = \"\";\n\tlet num = numBgToFixed;\n\tif (!numBg.isZero() && decimalPlaces < decimals) {\n\t\tdiff = numBgToFixed.replace(numBgToString, \"\");\n\t\tnum = numBgToString;\n\t}\n\n\treturn {\n\t\tnum,\n\t\tdiff,\n\t};\n};\n\nexport const truncateAddress = (address) => {\n\treturn `${address.slice(0, 7)}...${address.slice(address.length - 5)}`;\n};\n","import { ConfirmationPendingContent } from \"../../../../components/TransactionConfirmationModal\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { getStepsModalCurrentStep } from \"../../../../state/selectors\";\nimport { UNLIMITED_ALLOWANCE_IN_BASE_UNITS } from \"../../../../constants\";\nimport { useActiveWeb3React } from \"../../../../hooks\";\nimport { getContractWrappers } from \"../../../../utils/spot/contractWrapper\";\nimport { ERC20TokenContract } from \"@0x/contract-wrappers\";\nimport { stepsModalAdvanceStep } from \"../../../../state/spotUI/actions\";\n\nconst UnlockToken = (props) => {\n\tconst [unlocking, setUnlocking] = useState(false);\n\tconst { account, library } = useActiveWeb3React();\n\tconst currentStep = useSelector(getStepsModalCurrentStep);\n\tconst { address, token } = currentStep;\n\tconst web3 = props.web3;\n\tconst dispatch = useDispatch();\n\n\tconst unlockToken = async () => {\n\t\ttry {\n\t\t\tconst contractWrappers = await getContractWrappers(web3.getProvider());\n\t\t\tconst approveAddress = address ? address : contractWrappers.contractAddresses.erc20Proxy;\n\n\t\t\tconst erc20Token = new ERC20TokenContract(token.address, contractWrappers.getProvider());\n\t\t\tconst amount = UNLIMITED_ALLOWANCE_IN_BASE_UNITS;\n\n\t\t\tconst tx = await erc20Token.approve(approveAddress, amount).sendTransactionAsync({\n\t\t\t\tfrom: account,\n\t\t\t});\n\t\t\tsetUnlocking(true);\n\t\t\tawait web3.awaitTransactionSuccessAsync(tx);\n\n\t\t\tif (tx) {\n\t\t\t\tsetUnlocking(false);\n\t\t\t\tdispatch(stepsModalAdvanceStep());\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tsetUnlocking(false);\n\t\t\tprops.onDismiss();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tunlockToken();\n\t}, [currentStep]);\n\n\treturn (\n\t\t<ConfirmationPendingContent\n\t\t\tonDismiss={unlocking ? () => null : props.onDismiss}\n\t\t\tpendingText={unlocking ? \"Unlocking\" : \"Waiting for confirmation\"}\n\t\t/>\n\t);\n};\n\nexport default UnlockToken;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar ChevronDown = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"6 9 12 15 18 9\"\n  }));\n});\nChevronDown.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nChevronDown.displayName = 'ChevronDown';\nexport default ChevronDown;","import React, { useCallback, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { BigNumber } from \"@0x/utils\";\nimport styled from \"styled-components\";\nimport { lighten } from \"polished\";\nimport { withRouter } from \"react-router-dom\";\nimport queryString from \"query-string\";\n\nimport { ServerState } from \"../../../../constants\";\nimport { getMarketFilters } from \"../../../../common/markets\";\nimport { changeMarket } from \"../../../../state/spot/actions\";\nimport { formatTokenSymbol } from \"../../../../utils/spot/tokens\";\nimport { filterMarketsByString, filterMarketsByTokenSymbol, marketToString } from \"../../../../utils/spot/market\";\n\nimport { ResponsiveCard } from \"../../../../components/Card\";\nimport { useActiveWeb3React } from \"../../../../hooks\";\nimport Loading from \"../../../../components/Loading\";\nimport SearchIcon from \"../../../../assets/images/search.svg\";\nimport \"./styles.scss\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport { useTranslation } from \"react-i18next\";\nimport SVG from \"react-inlinesvg\";\nimport {\n\tInputGroupFormControl as FormControl,\n\tInputGroupPrepend,\n\tInputGroupText,\n\tInputGroup,\n} from \"../../../../components/Form\";\n\nconst Card = styled(ResponsiveCard)`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: stretch;\n\tmargin-bottom: 20px;\n\n\t& .card-body {\n\t\tpadding: 30px;\n\t}\n\n\t@media (min-width: 1400px) {\n\t\twidth: 228px;\n\t\theight: 486px;\n\t\tmargin-bottom: 10px;\n\n\t\t& .card-body {\n\t\t\tpadding: 10px;\n\t\t}\n\t}\n`;\n\nconst EmptyText = styled.span`\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tcolor: ${({ theme }) => theme.text1};\n`;\n\nconst CustomInputGroup = styled(InputGroup)`\n\tfont-size: 0.75rem;\n\n\t.input-group-text {\n\t\tpadding-left: 1.25rem;\n\t\tpadding-right: 0.625rem;\n\t}\n\n\t& input {\n\t\tfont-size: 0.75rem !important;\n\t\tpadding-left: 0;\n\t}\n\n\t& img {\n\t\twidth: 1rem;\n\t\theight: 1rem;\n\t}\n`;\n\nconst PriceChange = styled.span`\n\tcolor: ${(props) =>\n\t\tprops.value > 0 ? props.theme.success : props.value < 0 ? props.theme.danger : props.theme.text3};\n\tdisplay: block;\n`;\n\nconst TokenFiltersTabs = styled.div`\n\twidth: 100%;\n\tflex-wrap: nowrap;\n\tpadding: 15px 0;\n`;\n\nconst TokenFiltersTab = styled.button`\n\tbackground-color: transparent;\n\tborder: none;\n\tcolor: ${({ active, theme }) => (active ? theme.primary : theme.text1)};\n\tfont-size: 12px;\n\tfont-weight: 400;\n\n\t&:active,\n\t&:focus {\n\t\toutline: none;\n\t\tbox-shadow: none;\n\t\ttext-decoration: none;\n\t}\n`;\n\nconst Text = styled.span`\n\tcolor: ${({ theme, variant }) => (variant ? theme[variant] : theme.text1)};\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n\tcursor: pointer;\n`;\n\nconst AutoHeight = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex: 1;\n\toverflow-y: auto;\n\toverflow-x: hidden;\n\tmax-height: 360px;\n\n\t@media (max-width: 1400px) {\n\t\tmax-height: initial;\n\t}\n\n\t/* width */\n\t::-webkit-scrollbar {\n\t\twidth: 3px;\n\t}\n\n\t/* Track */\n\t::-webkit-scrollbar-track {\n\t\tbox-shadow: none;\n\t\tbackground-color: transparent;\n\t\tborder-radius: 10px;\n\t\tpadding: 0 6px;\n\t\tmargin: 0 6px;\n\t\tborder-right: 1px solid ${({ theme }) => theme.text1};\n\t}\n\n\t/* Handle */\n\t::-webkit-scrollbar-thumb {\n\t\tbackground: ${({ theme }) => theme.text1};\n\t\tborder-radius: 10px;\n\t\twidth: 4px !important;\n\t}\n\n\t/* Handle on hover */\n\t::-webkit-scrollbar-thumb:hover {\n\t\tbackground: ${({ theme }) => lighten(0.08, theme.text1)};\n\t}\n`;\n\nconst MarketStats = (props) => {\n\tconst { account, library } = useActiveWeb3React();\n\tconst { t } = useTranslation();\n\tconst [query, setQuery] = useState(\"\");\n\tconst [selectedFilter, setSelectedFilter] = useState(getMarketFilters()[0]);\n\tconst { baseToken, quoteToken, markets, marketsStats, marketsStatsState } = props;\n\n\tconst _getLastPrice = (market, marketStat) => {\n\t\tif (marketStat && marketStat.last_price) {\n\t\t\treturn new BigNumber(marketStat.last_price).toFixed(market.currencyPair.config.pricePrecision);\n\t\t}\n\n\t\treturn \"-\";\n\t};\n\n\tconst _getLastPriceChange = (marketStat) => {\n\t\tif (marketStat && marketStat.last_price_change_24) {\n\t\t\treturn (\n\t\t\t\t<PriceChange value={marketStat.last_price_change_24}>{`${new BigNumber(marketStat.last_price_change_24)\n\t\t\t\t\t.times(100)\n\t\t\t\t\t.toFixed(2)} %`}</PriceChange>\n\t\t\t);\n\t\t}\n\n\t\treturn <PriceChange value={0}>{`${new BigNumber(0).toFixed(2)} %`}</PriceChange>;\n\t};\n\n\tconst _setTokensFilterTab = (filter) => {\n\t\tsetSelectedFilter(filter);\n\t};\n\n\tconst _setSelectedMarket = (currencyPair, account, library) => {\n\t\tconst callback = (currencyPair) => {\n\t\t\tconst newSearch = queryString.stringify({\n\t\t\t\tbase: currencyPair.base,\n\t\t\t\tquote: currencyPair.quote,\n\t\t\t});\n\t\t\tprops.history.push(`${props.match.path}?${newSearch}`);\n\t\t};\n\t\tcallback(currencyPair);\n\t\tprops.changeMarket(currencyPair, account, library);\n\t};\n\n\tconst changeQueryHandler = useCallback((e) => {\n\t\tsetQuery(e.target.value);\n\t}, []);\n\n\tconst columns = [\n\t\t{\n\t\t\tdataField: \"market\",\n\t\t\ttext: t(\"market\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\tconst baseSymbol = formatTokenSymbol(row.currencyPair.base).toUpperCase();\n\t\t\t\tconst quoteSymbol = formatTokenSymbol(row.currencyPair.quote).toUpperCase();\n\t\t\t\treturn (\n\t\t\t\t\t<Text>\n\t\t\t\t\t\t{baseSymbol} / {quoteSymbol}\n\t\t\t\t\t</Text>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdataField: \"price\",\n\t\t\ttext: t(\"table.price\"),\n\t\t\tformatter: (cellContent, row, rowIndex, { _getLastPrice, marketsStats }) => {\n\t\t\t\tconst marketStats =\n\t\t\t\t\tmarketsStats && marketsStats.find((m) => m.pair.toUpperCase() === marketToString(row.currencyPair));\n\t\t\t\treturn <Text>{_getLastPrice(row, marketStats)}</Text>;\n\t\t\t},\n\t\t\tformatExtraData: {\n\t\t\t\t_getLastPrice,\n\t\t\t\tmarketsStats,\n\t\t\t},\n\t\t},\n\t];\n\n\tconst rowEvents = {\n\t\tonClick: (e, row) => {\n\t\t\t_setSelectedMarket(row.currencyPair, account, library);\n\t\t},\n\t};\n\n\tconst _getMarkets = () => {\n\t\tconst { baseToken, markets } = props;\n\n\t\tif (!baseToken || !markets) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst filteredMarkets =\n\t\t\tselectedFilter == null || selectedFilter.value === null\n\t\t\t\t? markets\n\t\t\t\t: filterMarketsByTokenSymbol(markets, selectedFilter.value);\n\t\tconst searchedMarkets = filterMarketsByString(filteredMarkets, query);\n\n\t\treturn (\n\t\t\t<AutoHeight>\n\t\t\t\t<BootstrapTable\n\t\t\t\t\tbordered={false}\n\t\t\t\t\tclasses=\"table table-head-custom table-borderless table-vertical-center overflow-hidden market-stats__table\"\n\t\t\t\t\tbootstrap4\n\t\t\t\t\tkeyField={\"id\"}\n\t\t\t\t\tremote\n\t\t\t\t\trowEvents={rowEvents}\n\t\t\t\t\tdata={searchedMarkets === null ? [] : searchedMarkets}\n\t\t\t\t\tcolumns={columns}\n\t\t\t\t/>\n\t\t\t</AutoHeight>\n\t\t);\n\t};\n\n\tif (!baseToken || !quoteToken || marketsStatsState === ServerState.NotLoaded) {\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n\t\t\t\t\t<Loading width={40} height={40} id={`spots-${props.isMobile ? \"mobile\" : \"desktop\"}`} active />\n\t\t\t\t</div>\n\t\t\t</Card>\n\t\t);\n\t} else if (!baseToken || !quoteToken) {\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n\t\t\t\t\t<EmptyText>{t(\"errors.noMarket\")}</EmptyText>\n\t\t\t\t</div>\n\t\t\t</Card>\n\t\t);\n\t} else if (!markets && !marketsStats) {\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n\t\t\t\t\t<Loading\n\t\t\t\t\t\twidth={40}\n\t\t\t\t\t\theight={40}\n\t\t\t\t\t\tid={`spots-markets-loading-${props.isMobile ? \"mobile\" : \"desktop\"}`}\n\t\t\t\t\t\tactive\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Card>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Card>\n\t\t\t<CustomInputGroup className={\"w-auto\"}>\n\t\t\t\t<InputGroupPrepend>\n\t\t\t\t\t<InputGroupText>\n\t\t\t\t\t\t<SVG src={SearchIcon} />\n\t\t\t\t\t</InputGroupText>\n\t\t\t\t</InputGroupPrepend>\n\t\t\t\t<FormControl id=\"PoolsSearch\" placeholder={t(\"search\")} onChange={changeQueryHandler} />\n\t\t\t</CustomInputGroup>\n\n\t\t\t<TokenFiltersTabs className={\"d-flex align-items-center justify-content-between\"}>\n\t\t\t\t{getMarketFilters().map((filter, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<TokenFiltersTab\n\t\t\t\t\t\t\tactive={filter === selectedFilter}\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tonClick={_setTokensFilterTab.bind(this, filter)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{filter.text}\n\t\t\t\t\t\t</TokenFiltersTab>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</TokenFiltersTabs>\n\t\t\t{_getMarkets()}\n\t\t</Card>\n\t);\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tbaseToken: state.spot.baseToken,\n\t\tcurrencyPair: state.spot.currencyPair,\n\t\tmarkets: state.spot.markets,\n\t\tquoteToken: state.spot.quoteToken,\n\t\tmarketsStats: state.spot.marketsStats,\n\t\tmarketsStatsState: state.relayer.marketsStatsState,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tchangeMarket: (currencyPair) => dispatch(changeMarket(currencyPair)),\n\t};\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(MarketStats));\n","import { connect } from \"react-redux\";\nimport { BigNumber } from \"@0x/utils\";\nimport styled from \"styled-components\";\n\nimport { USE_RELAYER_MARKET_UPDATES } from \"../../../../constants\";\nimport { changeMarket } from \"../../../../state/spot/actions\";\nimport {\n\tformatTokenName,\n\tformatTokenSymbol,\n\tgetEtherscanLinkForToken,\n\ttokenAmountInUnits,\n} from \"../../../../utils/spot/tokens\";\nimport {\n\tgetCurrentMarketLastPrice,\n\tgetCurrentMarketTodayClosedOrders,\n\tgetCurrentMarketTodayHighPrice,\n\tgetCurrentMarketTodayLowerPrice,\n\tgetCurrentMarketTodayQuoteVolume,\n} from \"../../../../state/selectors\";\nimport StyledCard from \"../../../../components/Card\";\nimport { useActiveWeb3React } from \"../../../../hooks\";\nimport Loading from \"../../../../components/Loading\";\nimport React from \"react\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport Img from \"../../../../components/UI/Img\";\nimport { toAbsoluteUrl } from \"../../../../lib/helper\";\nimport \"./styles.scss\";\nimport ResponsiveTable from \"../../../../components/ResponsiveTable\";\nimport { useTranslation } from \"react-i18next\";\n\nconst Card = styled(StyledCard)`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: stretch;\n\tmargin-bottom: 20px;\n\n\t& .card-body {\n\t\tpadding: 24px 20px 20px;\n\t}\n\n\t@media (min-width: 1400px) {\n\t\twidth: 570px;\n\t\theight: 103px;\n\t\tmargin-bottom: 10px;\n\n\t\t& .card-body {\n\t\t\tpadding: 24px;\n\t\t}\n\t}\n`;\n\nconst Logo = styled(Img)`\n\twidth: 24px;\n\tmin-width: 24px;\n\theight: 24px;\n\tborder-radius: 24px;\n\tborder: 1px solid ${({ theme }) => theme.text1};\n\tdisplay: block;\n\tmargin-right: 5px;\n\n\t@media (max-width: 1400px) {\n\t\tmargin-right: 10px;\n\t}\n`;\n\nconst Text = styled.span`\n\tcolor: ${({ theme, variant }) => (variant ? theme[variant] : theme.text1)};\n\tfont-size: 0.875rem;\n\tfont-weight: 500;\n`;\n\nconst MarketDetails = (props) => {\n\tconst { t } = useTranslation();\n\tconst { baseToken, quoteToken, currencyPair } = props;\n\n\tconst { highPrice, lowerPrice, volume, closedOrders, lastPrice } = props;\n\n\tconst marketStats = {\n\t\thighPrice,\n\t\tlowerPrice,\n\t\tvolume,\n\t\tclosedOrders,\n\t\tlastPrice,\n\t};\n\n\tconst columns = [\n\t\t{\n\t\t\tdataField: \"project\",\n\t\t\ttext: t(\"project\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"d-flex align-items-center\">\n\t\t\t\t\t\t<Logo src={toAbsoluteUrl(`/${row.baseToken.icon}`)} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdataField: \"last_price\",\n\t\t\ttext: t(\"table.price\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\tconst lastPrice = row.marketStats.lastPrice\n\t\t\t\t\t? new BigNumber(row.marketStats.lastPrice).toFixed(row.currencyPair.config.pricePrecision)\n\t\t\t\t\t: \"-\";\n\t\t\t\treturn <Text>{lastPrice}</Text>;\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdataField: \"max_price\",\n\t\t\ttext: t(\"table.24_high\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Text>\n\t\t\t\t\t\t{(row.marketStats.highPrice &&\n\t\t\t\t\t\t\trow.marketStats.highPrice.toFixed(row.currencyPair.config.pricePrecision)) ||\n\t\t\t\t\t\t\t\"-\"}\n\t\t\t\t\t</Text>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdataField: \"min_price\",\n\t\t\ttext: t(\"table.24_low\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\treturn <Text>{(row.marketStats.lowerPrice && row.marketStats.lowerPrice.toFixed(4)) || \"-\"}</Text>;\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdataField: \"volume\",\n\t\t\ttext: t(\"table.24_volume\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\tlet volume;\n\t\t\t\tif (USE_RELAYER_MARKET_UPDATES) {\n\t\t\t\t\tvolume =\n\t\t\t\t\t\t(row.marketStats.volume &&\n\t\t\t\t\t\t\t`${row.marketStats.volume.toFixed(row.quoteToken.displayDecimals)} ${formatTokenSymbol(\n\t\t\t\t\t\t\t\trow.quoteToken.symbol\n\t\t\t\t\t\t\t)}`) ||\n\t\t\t\t\t\t\"- \";\n\t\t\t\t} else {\n\t\t\t\t\tvolume =\n\t\t\t\t\t\t(row.marketStats.volume &&\n\t\t\t\t\t\t\t`${tokenAmountInUnits(\n\t\t\t\t\t\t\t\trow.marketStats.volume,\n\t\t\t\t\t\t\t\trow.quoteToken.decimals,\n\t\t\t\t\t\t\t\trow.quoteToken.displayDecimals\n\t\t\t\t\t\t\t).toString()} ${formatTokenSymbol(row.quoteToken.symbol)}`) ||\n\t\t\t\t\t\t\"- \";\n\t\t\t\t}\n\t\t\t\treturn <Text>{volume}</Text>;\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdataField: \"closed_orders\",\n\t\t\ttext: \"Orders Closed\",\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\treturn <Text>{row.marketStats.closedOrders || \"-\"}</Text>;\n\t\t\t},\n\t\t},\n\t];\n\n\tif (!baseToken || !quoteToken) {\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n\t\t\t\t\t<Loading\n\t\t\t\t\t\twidth={40}\n\t\t\t\t\t\theight={40}\n\t\t\t\t\t\tid={`spots-markets-details-${props.isMobile ? \"mobile\" : \"desktop\"}`}\n\t\t\t\t\t\tactive\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Card>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Card>\n\t\t\t<BootstrapTable\n\t\t\t\twrapperClasses=\"d-none d-lg-block\"\n\t\t\t\tbordered={false}\n\t\t\t\tclasses=\"table table-head-custom table-borderless table-vertical-center overflow-hidden market-details__table\"\n\t\t\t\tbootstrap4\n\t\t\t\tkeyField={\"id\"}\n\t\t\t\tremote\n\t\t\t\tdata={[{ marketStats, baseToken, quoteToken, currencyPair }]}\n\t\t\t\tcolumns={columns}\n\t\t\t/>\n\t\t\t<ResponsiveTable\n\t\t\t\tbreakpoint={\"lg\"}\n\t\t\t\tcolumns={columns}\n\t\t\t\tdata={[{ marketStats, baseToken, quoteToken, currencyPair }]}\n\t\t\t\tdirection={\"rtl\"}\n\t\t\t\twithoutBorder\n\t\t\t/>\n\t\t</Card>\n\t);\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tbaseToken: state.spot.baseToken,\n\t\tcurrencyPair: state.spot.currencyPair,\n\t\tquoteToken: state.spot.quoteToken,\n\t\thighPrice: getCurrentMarketTodayHighPrice(state),\n\t\tlowerPrice: getCurrentMarketTodayLowerPrice(state),\n\t\tvolume: getCurrentMarketTodayQuoteVolume(state),\n\t\tclosedOrders: getCurrentMarketTodayClosedOrders(state),\n\t\tlastPrice: getCurrentMarketLastPrice(state),\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tchangeMarket: (currencyPair) => dispatch(changeMarket(currencyPair)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MarketDetails);\n","import { connect } from \"react-redux\";\nimport styled from \"styled-components\";\nimport { lighten } from \"polished\";\nimport { BigNumber } from \"@0x/utils\";\n\nimport {\n\tgetOrderBook,\n\tgetOrderbookState,\n\tgetSpread,\n\tgetSpreadInPercentage,\n\tgetTotalBaseSellOrders,\n\tgetTotalQuoteBuyOrders,\n} from \"../../../../state/selectors\";\nimport { ZERO, UI_DECIMALS_DISPLAYED_SPREAD_PERCENT, OrderSide, ServerState } from \"../../../../constants\";\nimport { formatTokenSymbol, tokenAmountInUnits } from \"../../../../utils/spot/tokens\";\nimport {\n\tsetMakerAmountSelected,\n\tsetOrderBuyPriceSelected,\n\tsetOrderPriceSelected,\n\tsetOrderSellPriceSelected,\n} from \"../../../../state/spotUI/actions\";\nimport React, { Component } from \"react\";\nimport Loading from \"../../../../components/Loading\";\nimport BookOption from \"../../../../components/BookOption\";\nimport Dropdown from \"../../../../components/UI/Dropdown\";\nimport { padRightSplitted } from \"../../../../utils/spot/numberUtils\";\nimport { withTranslation } from \"react-i18next\";\n\nconst Container = styled.div`\n\twidth: 260px;\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t@media (max-width: 1400px) {\n\t\twidth: 100%;\n\t}\n`;\n\nconst EmptyText = styled.span`\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tcolor: ${({ theme }) => theme.text1};\n`;\nconst BookOptionType = {\n\tBuySellBook: 0,\n\tSellBook: 1,\n\tBuyBook: 2,\n};\n\nconst StyledBookOption = styled(BookOption)`\n\t&:not(:last-child) {\n\t\tmargin-right: 10px;\n\t}\n`;\n\nconst HeaderRow = styled.div`\n\tmargin-bottom: 12px;\n\n\t@media (max-width: 1400px) {\n\t\tmargin-bottom: 34px;\n\t}\n`;\nconst TitleRow = styled.div`\n\tmargin-bottom: 15px;\n\n\t@media (max-width: 1400px) {\n\t\tmargin-bottom: 10px;\n\t\talign-items: flex-end;\n\t}\n`;\nconst TableRow = styled.div`\n\tdisplay: flex;\n\tflex: 1;\n\tmax-height: 382px;\n\tflex-direction: column;\n\n\t@media (max-width: 1400px) {\n\t\tmargin-bottom: 0;\n\t\tmax-height: initial;\n\t}\n`;\n\nconst Title = styled.span`\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-weight: bold;\n\tfont-size: 1rem;\n\tline-height: 1;\n\n\t@media (max-width: 1400px) {\n\t\tmargin-bottom: 10px;\n\t}\n`;\n\nconst Result = styled.span`\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-weight: 500;\n\tfont-size: 0.75rem;\n`;\n\nconst TR = styled.div`\n\tpadding: 6px 16px;\n\tborder-radius: 12px;\n\tmargin-bottom: 12px;\n\tmax-height: 32px;\n\theight: 32px;\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 1fr 1fr;\n\n\t@media (max-width: 1400px) {\n\t\tmax-height: 56px;\n\t\tpadding: 18px 20px;\n\t\tborder-radius: 18px;\n\t\theight: 56px;\n\t}\n`;\nconst CustomHead = styled(TR)`\n\tbackground-color: ${({ theme }) => theme.text1}10;\n`;\n\nconst InnerTR = styled(TR)`\n\tbackground-color: transparent;\n\tcursor: pointer;\n\ttransition: all ease 0.3s;\n\tmargin-bottom: 2px;\n\tmax-height: 24px;\n\tpadding: 4px 16px;\n\n\t@media (max-width: 1400px) {\n\t\tmax-height: 56px;\n\t\tpadding: 18px 20px;\n\t\tborder-radius: 18px;\n\t\theight: 56px;\n\t}\n\n\t&:hover {\n\t\tbackground-color: ${({ theme }) => theme.text1}06;\n\t}\n`;\n\nconst TH = styled.span`\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n\twhite-space: nowrap;\n`;\n\nconst SpreadTitle = styled.span`\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-size: 0.75rem;\n\tfont-weight: 500;\n\twhite-space: nowrap;\n`;\n\nconst SpreadTR = styled(CustomHead)`\n\tmargin-bottom: 8px;\n\tmargin-top: 4px;\n`;\n\nconst TD = styled.span`\n\tcolor: ${({ theme, variant }) => (variant ? theme[variant] : theme.text1)};\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n\tpadding-right: 5px;\n`;\n\nconst TBody = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex: 1;\n\tmax-height: 306px;\n\tmin-height: 306px;\n\toverflow-x: hidden;\n\toverflow-y: auto;\n\n\t@media (max-width: 1400px) {\n\t\tmax-height: initial;\n\t}\n\n\t/* width */\n\t::-webkit-scrollbar {\n\t\twidth: 3px;\n\t}\n\n\t/* Track */\n\t::-webkit-scrollbar-track {\n\t\tbox-shadow: none;\n\t\tbackground-color: transparent;\n\t\tborder-radius: 10px;\n\t\tpadding: 0 6px;\n\t\tmargin: 0 6px;\n\t\tborder-right: 1px solid ${({ theme }) => theme.text1};\n\t}\n\n\t/* Handle */\n\t::-webkit-scrollbar-thumb {\n\t\tbackground: ${({ theme }) => theme.text1};\n\t\tborder-radius: 10px;\n\t\twidth: 4px !important;\n\t}\n\n\t/* Handle on hover */\n\t::-webkit-scrollbar-thumb:hover {\n\t\tbackground: ${({ theme }) => lighten(0.08, theme.text1)};\n\t}\n`;\n\nconst depthItems = [\n\t{\n\t\tvalue: 5,\n\t\ttitle: \"5\",\n\t},\n\t{\n\t\tvalue: 10,\n\t\ttitle: \"10\",\n\t},\n\t{\n\t\tvalue: 20,\n\t\ttitle: \"20\",\n\t},\n\t{\n\t\tvalue: 50,\n\t\ttitle: \"50\",\n\t},\n];\n\nclass OrderToRow extends Component {\n\trender() {\n\t\tconst { order, index, baseToken, priceColor, mySizeOrders = [], currencyPair } = this.props;\n\t\tconst basePrecision = currencyPair.config.basePrecision;\n\t\tconst pricePrecision = currencyPair.config.pricePrecision;\n\n\t\tconst size = tokenAmountInUnits(order.size, baseToken.decimals, basePrecision);\n\t\tconst price = order.price.toString();\n\n\t\tconst mySize = mySizeOrders.reduce((sumSize, mySizeItem) => {\n\t\t\tif (mySizeItem.price.eq(order.price)) {\n\t\t\t\treturn sumSize.plus(mySizeItem.size);\n\t\t\t}\n\t\t\treturn sumSize;\n\t\t}, ZERO);\n\n\t\tconst mySizeConverted = tokenAmountInUnits(mySize, baseToken.decimals, basePrecision);\n\t\tconst isMySizeEmpty = mySize.eq(new BigNumber(0));\n\t\tconst numSplitted = padRightSplitted(new BigNumber(size), basePrecision);\n\n\t\treturn (\n\t\t\t<InnerTR onClick={() => this._setOrderPriceSelected(order.price)}>\n\t\t\t\t<TD>{numSplitted.num}</TD>\n\t\t\t\t<TD variant={priceColor}>{parseFloat(price).toFixed(pricePrecision)}</TD>\n\t\t\t\t<TD>{isMySizeEmpty ? \"-\" : mySizeConverted}</TD>\n\t\t\t</InnerTR>\n\t\t);\n\t}\n\n\t_setOrderPriceSelected = async (size) => {\n\t\tconst { order, orders } = this.props;\n\t\tlet totalSize = ZERO;\n\t\tif (order.side === OrderSide.Buy) {\n\t\t\ttotalSize = orders.reduce((sumSize, sizeItem) => {\n\t\t\t\tif (order.price.lte(sizeItem.price)) {\n\t\t\t\t\treturn sumSize.plus(sizeItem.size);\n\t\t\t\t}\n\t\t\t\treturn sumSize;\n\t\t\t}, ZERO);\n\t\t} else {\n\t\t\ttotalSize = orders.reduce((sumSize, sizeItem) => {\n\t\t\t\tif (order.price.gte(sizeItem.price)) {\n\t\t\t\t\treturn sumSize.plus(sizeItem.size);\n\t\t\t\t}\n\t\t\t\treturn sumSize;\n\t\t\t}, ZERO);\n\t\t}\n\t\tif (order.side === OrderSide.Buy) {\n\t\t\tawait this.props.onSetOrderBuyPriceSelected(size);\n\t\t} else {\n\t\t\tawait this.props.onSetOrderSellPriceSelected(size);\n\t\t}\n\n\t\tawait this.props.onSetOrderPriceSelected(size);\n\t\tawait this.props.onSetMakerAmountSelected(totalSize);\n\t};\n}\n\nconst mapOrderToRowDispatchToProps = (dispatch) => {\n\treturn {\n\t\tonSetOrderPriceSelected: (orderPriceSelected) => dispatch(setOrderPriceSelected(orderPriceSelected)),\n\t\tonSetOrderBuyPriceSelected: (orderPriceSelected) => dispatch(setOrderBuyPriceSelected(orderPriceSelected)),\n\t\tonSetOrderSellPriceSelected: (orderPriceSelected) => dispatch(setOrderSellPriceSelected(orderPriceSelected)),\n\t\tonSetMakerAmountSelected: (makerAmountSelected) => dispatch(setMakerAmountSelected(makerAmountSelected)),\n\t};\n};\n\nconst OrderToRowContainer = connect(null, mapOrderToRowDispatchToProps)(OrderToRow);\n\nclass Orderbook extends Component {\n\tstate = {\n\t\tdepth: { value: this.props.defaultDepth || 5 },\n\t\tbookOption: BookOptionType.BuySellBook,\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis._spreadRowScrollable = React.createRef();\n\t\tthis._spreadRowFixed = React.createRef();\n\t\tthis._itemsScroll = React.createRef();\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\torderBook,\n\t\t\tbaseToken,\n\t\t\tquoteToken,\n\t\t\tabsoluteSpread,\n\t\t\tpercentageSpread,\n\t\t\tcurrencyPair,\n\t\t\ttotalQuoteBuyOrders,\n\t\t\ttotalBaseSellOrders,\n\t\t\tserverState,\n\t\t\tt,\n\t\t} = this.props;\n\t\tconst { sellOrders, buyOrders, mySizeOrders } = orderBook;\n\n\t\tconst mySizeSellArray = mySizeOrders.filter((order) => {\n\t\t\treturn order.side === OrderSide.Sell;\n\t\t});\n\t\tconst mySizeBuyArray = mySizeOrders.filter((order) => {\n\t\t\treturn order.side === OrderSide.Buy;\n\t\t});\n\t\tconst getColor = (order) => {\n\t\t\treturn order.side === OrderSide.Buy ? \"success\" : \"danger\";\n\t\t};\n\t\tlet content;\n\n\t\tif (!baseToken || !quoteToken || serverState === ServerState.NotLoaded) {\n\t\t\tcontent = (\n\t\t\t\t<div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n\t\t\t\t\t<Loading\n\t\t\t\t\t\twidth={40}\n\t\t\t\t\t\theight={40}\n\t\t\t\t\t\tid={`orderbooks-${this.props.isMobile ? \"mobile\" : \"desktop\"}`}\n\t\t\t\t\t\tactive\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else if ((!buyOrders.length && !sellOrders.length) || !baseToken || !quoteToken) {\n\t\t\tcontent = (\n\t\t\t\t<div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n\t\t\t\t\t<EmptyText>{t(\"errors.noTrade\")}</EmptyText>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\tconst spreadAbsFixed = absoluteSpread.toFixed(currencyPair.config.pricePrecision);\n\t\t\tconst spreadPercentFixed = percentageSpread.toFixed(UI_DECIMALS_DISPLAYED_SPREAD_PERCENT);\n\t\t\tconst basePrecision = currencyPair.config.basePrecision;\n\n\t\t\tconst totalBase = tokenAmountInUnits(totalBaseSellOrders, baseToken.decimals, basePrecision);\n\n\t\t\tconst totalQuote = tokenAmountInUnits(totalQuoteBuyOrders, quoteToken.decimals, 2);\n\n\t\t\tconst baseSymbol = formatTokenSymbol(baseToken.symbol);\n\t\t\tconst quoteSymbol = formatTokenSymbol(quoteToken.symbol);\n\n\t\t\tconst handleDepth = (value) => {\n\t\t\t\tthis.setState({ depth: { value: Number(value) } });\n\t\t\t};\n\n\t\t\tconst bookOptionState = this.state.bookOption;\n\t\t\tconst handleBookOption = (option) => {\n\t\t\t\tthis.setState({ bookOption: option });\n\t\t\t};\n\n\t\t\tcontent = (\n\t\t\t\t<>\n\t\t\t\t\t<HeaderRow className=\"d-flex align-items-center justify-content-between\">\n\t\t\t\t\t\t<div className={\"d-flex align-items-center\"}>\n\t\t\t\t\t\t\t<StyledBookOption\n\t\t\t\t\t\t\t\tactive={bookOptionState === BookOptionType.BuySellBook}\n\t\t\t\t\t\t\t\tonChange={() => handleBookOption(BookOptionType.BuySellBook)}\n\t\t\t\t\t\t\t\tisSell={true}\n\t\t\t\t\t\t\t\tisBuy\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<StyledBookOption\n\t\t\t\t\t\t\t\tactive={bookOptionState === BookOptionType.BuyBook}\n\t\t\t\t\t\t\t\tonChange={() => handleBookOption(BookOptionType.BuyBook)}\n\t\t\t\t\t\t\t\tisBuy\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<StyledBookOption\n\t\t\t\t\t\t\t\tactive={bookOptionState === BookOptionType.SellBook}\n\t\t\t\t\t\t\t\tonChange={() => handleBookOption(BookOptionType.SellBook)}\n\t\t\t\t\t\t\t\tisSell\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\n\t\t\t\t\t\t\t<Dropdown size={\"sm\"} items={depthItems} placeholder={t(\"depth\")} onChange={handleDepth} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</HeaderRow>\n\t\t\t\t\t<TitleRow className=\"d-flex align-items-xl-center justify-content-between\">\n\t\t\t\t\t\t<Title>{t(\"asks\")}</Title>\n\t\t\t\t\t\t<Result>{`${t(\"total\")}: ${totalBase} ${baseSymbol}`}</Result>\n\t\t\t\t\t</TitleRow>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<CustomHead>\n\t\t\t\t\t\t\t<TH>{t(\"tradeSize\")}</TH>\n\t\t\t\t\t\t\t<TH>\n\t\t\t\t\t\t\t\t{t(\"price\")} ({formatTokenSymbol(quoteToken.symbol)})\n\t\t\t\t\t\t\t</TH>\n\t\t\t\t\t\t\t<TH>{t(\"mySize\")}</TH>\n\t\t\t\t\t\t</CustomHead>\n\t\t\t\t\t\t<TBody>\n\t\t\t\t\t\t\t{(bookOptionState === BookOptionType.BuySellBook ||\n\t\t\t\t\t\t\t\tbookOptionState === BookOptionType.SellBook) &&\n\t\t\t\t\t\t\t\tsellOrders\n\t\t\t\t\t\t\t\t\t.slice(sellOrders.length - this.state.depth.value, sellOrders.length)\n\t\t\t\t\t\t\t\t\t.map((order, index) => (\n\t\t\t\t\t\t\t\t\t\t<OrderToRowContainer\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\torder={order}\n\t\t\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\t\t\tcount={sellOrders.length}\n\t\t\t\t\t\t\t\t\t\t\torders={sellOrders}\n\t\t\t\t\t\t\t\t\t\t\tbaseToken={baseToken}\n\t\t\t\t\t\t\t\t\t\t\tpriceColor={getColor(order)}\n\t\t\t\t\t\t\t\t\t\t\tmySizeOrders={mySizeSellArray}\n\t\t\t\t\t\t\t\t\t\t\tcurrencyPair={currencyPair}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t))}\n\n\t\t\t\t\t\t\t<SpreadTR>\n\t\t\t\t\t\t\t\t<SpreadTitle>{t(\"spread\")}</SpreadTitle>\n\t\t\t\t\t\t\t\t<SpreadTitle>{spreadAbsFixed}</SpreadTitle>\n\t\t\t\t\t\t\t\t<SpreadTitle>{spreadPercentFixed}%</SpreadTitle>\n\t\t\t\t\t\t\t</SpreadTR>\n\n\t\t\t\t\t\t\t{(bookOptionState === BookOptionType.BuyBook ||\n\t\t\t\t\t\t\t\tbookOptionState === BookOptionType.BuySellBook) &&\n\t\t\t\t\t\t\t\tbuyOrders\n\t\t\t\t\t\t\t\t\t.slice(0, this.state.depth.value)\n\t\t\t\t\t\t\t\t\t.map((order, index) => (\n\t\t\t\t\t\t\t\t\t\t<OrderToRowContainer\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\torder={order}\n\t\t\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\t\t\tcount={buyOrders.length}\n\t\t\t\t\t\t\t\t\t\t\torders={buyOrders}\n\t\t\t\t\t\t\t\t\t\t\tbaseToken={baseToken}\n\t\t\t\t\t\t\t\t\t\t\tpriceColor={getColor(order)}\n\t\t\t\t\t\t\t\t\t\t\tmySizeOrders={mySizeBuyArray}\n\t\t\t\t\t\t\t\t\t\t\tcurrencyPair={currencyPair}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TBody>\n\n\t\t\t\t\t\t<CustomHead>\n\t\t\t\t\t\t\t<SpreadTitle>{t(\"bids\")}</SpreadTitle>\n\t\t\t\t\t\t\t<SpreadTitle>{`${totalQuote} ${quoteSymbol}`}</SpreadTitle>\n\t\t\t\t\t\t\t<SpreadTitle> </SpreadTitle>\n\t\t\t\t\t\t</CustomHead>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\n\t\treturn <Container>{content}</Container>;\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tbaseToken: state.spot.baseToken,\n\t\tcurrencyPair: state.spot.currencyPair,\n\t\tquoteToken: state.spot.quoteToken,\n\t\tuserOrders: state.relayer.userOrders,\n\t\torderBookState: state.relayer.orderBookState,\n\t\torderBook: getOrderBook(state),\n\t\tabsoluteSpread: getSpread(state),\n\t\tpercentageSpread: getSpreadInPercentage(state),\n\t\ttotalQuoteBuyOrders: getTotalQuoteBuyOrders(state),\n\t\ttotalBaseSellOrders: getTotalBaseSellOrders(state),\n\t\tserverState: getOrderbookState(state),\n\t};\n};\n\nexport default connect(mapStateToProps)(withTranslation()(Orderbook));\n","import { withRouter } from \"react-router-dom\";\nimport { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n\tupdateERC20Markets,\n\tupdateERC20Store,\n\tupdateMarketPriceEther,\n\tupdateMarketPriceQuote,\n\tupdateMarketPriceTokens,\n} from \"../../../../state/spot/actions\";\nimport withWeb3Account from \"../../../../components/hoc/withWeb3Account\";\nimport {\n\tUI_UPDATE_CHECK_INTERVAL,\n\tUPDATE_ERC20_MARKETS,\n\tUPDATE_ETHER_PRICE_INTERVAL,\n\tUPDATE_TOKENS_PRICE_INTERVAL,\n} from \"../../../../constants\";\nimport Web3 from \"web3\";\n\nconst web3 = new Web3(Web3.givenProvider || Web3.providers.HttpProvider(process.env.REACT_APP_NETWORK_URL));\n\nclass Provider extends Component {\n\t_deactivatePollingUpdates = () => {\n\t\tif (this._updateStoreInterval) {\n\t\t\tclearInterval(this._updateStoreInterval);\n\t\t\tthis._updateStoreInterval = undefined;\n\t\t}\n\n\t\tif (this._updatePriceEtherInterval) {\n\t\t\tclearInterval(this._updatePriceEtherInterval);\n\t\t\tthis._updatePriceEtherInterval = undefined;\n\t\t}\n\t\tif (this._updatePriceTokensInterval) {\n\t\t\tclearInterval(this._updatePriceTokensInterval);\n\t\t\tthis._updatePriceTokensInterval = undefined;\n\t\t}\n\t\tif (this._updateERC20MarketsInterval) {\n\t\t\tclearInterval(this._updateERC20MarketsInterval);\n\t\t\tthis._updateERC20MarketsInterval = undefined;\n\t\t}\n\t};\n\n\t_activatePollingUpdates = () => {\n\t\tthis.props.onUpdateERC20Markets();\n\t\tthis.props.onUpdateMarketPriceTokens();\n\t\tthis.props.onUpdateMarketPriceEther();\n\t\tthis.props.onUpdateMarketPriceQuote();\n\t\tif (this.props.web3.account) {\n\t\t\tthis.props.onUpdateERC20Store(this.props.web3.account, web3.currentProvider || window.ethereum);\n\t\t}\n\t\t// Enables realtime updates of the store using polling\n\t\tif (UI_UPDATE_CHECK_INTERVAL !== 0 && !this._updateStoreInterval) {\n\t\t\tthis._updateStoreInterval = window.setInterval(async () => {\n\t\t\t\tif (this.props.web3.account) {\n\t\t\t\t\tthis.props.onUpdateERC20Store(this.props.web3.account, web3.currentProvider || window.ethereum);\n\t\t\t\t\tthis.props.onUpdateMarketPriceQuote();\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tisActiveCheckUpdates: true,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}, UI_UPDATE_CHECK_INTERVAL);\n\t\t}\n\n\t\t// Enables realtime updates of the price ether and quote token using polling\n\t\tif (!this._updatePriceEtherInterval && UPDATE_ETHER_PRICE_INTERVAL !== 0) {\n\t\t\tthis._updatePriceEtherInterval = window.setInterval(async () => {\n\t\t\t\tthis.props.onUpdateMarketPriceEther();\n\t\t\t\tthis.props.onUpdateMarketPriceQuote();\n\t\t\t}, UPDATE_ETHER_PRICE_INTERVAL);\n\t\t}\n\t\t// Enables realtime updates of token prices\n\t\tif (!this._updatePriceTokensInterval && UPDATE_TOKENS_PRICE_INTERVAL !== 0) {\n\t\t\tthis._updatePriceTokensInterval = window.setInterval(async () => {\n\t\t\t\tthis.props.onUpdateMarketPriceTokens();\n\t\t\t}, UPDATE_TOKENS_PRICE_INTERVAL);\n\t\t}\n\t\t// Enables realtime updates of the token markets\n\t\tif (!this._updateERC20MarketsInterval && UPDATE_ERC20_MARKETS !== 0) {\n\t\t\tthis._updateERC20MarketsInterval = window.setInterval(async () => {\n\t\t\t\tthis.props.onUpdateERC20Markets();\n\t\t\t}, UPDATE_ERC20_MARKETS);\n\t\t}\n\t};\n\n\tcomponentDidMount() {\n\t\tif (this.props.web3.account) {\n\t\t\tthis._activatePollingUpdates();\n\t\t} else {\n\t\t\tthis.props.onUpdateERC20Markets();\n\t\t\tthis.props.onUpdateMarketPriceTokens();\n\t\t\tthis.props.onUpdateMarketPriceEther();\n\t\t\tthis.props.onUpdateMarketPriceQuote();\n\t\t\tthis.props.onUpdateERC20Store(\"\", undefined);\n\t\t\tthis._deactivatePollingUpdates();\n\t\t}\n\t}\n\n\tcomponentWillUnmount = () => {\n\t\tclearInterval(this._updateStoreInterval);\n\t\tclearInterval(this._updatePriceEtherInterval);\n\t\tclearInterval(this._updatePriceTokensInterval);\n\t\tclearInterval(this._updateERC20MarketsInterval);\n\t};\n\n\trender = () => this.props.children;\n}\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tonUpdateMarketPriceEther: () => dispatch(updateMarketPriceEther()),\n\t\tonUpdateMarketPriceQuote: () => dispatch(updateMarketPriceQuote()),\n\t\tonUpdateMarketPriceTokens: () => dispatch(updateMarketPriceTokens()),\n\t\tonUpdateERC20Markets: () => dispatch(updateERC20Markets()),\n\t\tonUpdateERC20Store: (account, library) => dispatch(updateERC20Store(account, library)),\n\t};\n};\n\nexport default withRouter(connect(null, mapDispatchToProps)(withWeb3Account(Provider)));\n","import { connect } from \"react-redux\";\n\nimport { OrderSide, ServerState, USE_RELAYER_MARKET_UPDATES } from \"../../../../constants\";\nimport { changeMarket } from \"../../../../state/spot/actions\";\nimport { isWeth } from \"../../../../utils/known_tokens\";\nimport { getCurrencyPairByTokensSymbol } from \"../../../../utils/spot/knownCurrencyPair\";\nimport { marketToStringFromTokens } from \"../../../../utils/spot/market\";\nimport { formatTokenSymbol, tokenAmountInUnits } from \"../../../../utils/spot/tokens\";\nimport Loading from \"../../../../components/Loading\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { lighten } from \"polished\";\nimport { useTranslation } from \"react-i18next\";\n\nconst EmptyText = styled.span`\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tcolor: ${({ theme }) => theme.text1};\n`;\nconst Container = styled.div`\n\twidth: 280px;\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t@media (max-width: 1400px) {\n\t\twidth: 100%;\n\t}\n`;\n\nconst TR = styled.div`\n\tpadding: 4px 16px;\n\tborder-radius: 12px;\n\tmargin-bottom: 4px;\n\tmax-height: 24px;\n\theight: 24px;\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 1fr 1fr;\n\n\t@media (max-width: 1400px) {\n\t\tmax-height: 56px;\n\t\tpadding: 18px 20px;\n\t\tborder-radius: 18px;\n\t\theight: 56px;\n\t}\n`;\nconst CustomHead = styled(TR)`\n\tbackground-color: ${({ theme }) => theme.text1}10;\n\tmax-height: 32px;\n\theight: 32px;\n\tmargin-bottom: 12px;\n\tpadding: 8px 16px;\n`;\n\nconst TH = styled.span`\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n`;\n\nconst TD = styled.span`\n\tcolor: ${({ theme, variant }) => (variant ? theme[variant] : theme.text1)};\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n\tpadding-right: 5px;\n`;\n\nconst TBody = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex: 1;\n\tmax-height: 338px;\n\tmin-height: 338px;\n\toverflow-x: hidden;\n\toverflow-y: auto;\n\n\t@media (max-width: 1400px) {\n\t\tmax-height: initial;\n\t}\n\n\t/* width */\n\t::-webkit-scrollbar {\n\t\twidth: 3px;\n\t}\n\n\t/* Track */\n\t::-webkit-scrollbar-track {\n\t\tbox-shadow: none;\n\t\tbackground-color: transparent;\n\t\tborder-radius: 10px;\n\t\tpadding: 0 6px;\n\t\tmargin: 0 6px;\n\t\tborder-right: 1px solid ${({ theme }) => theme.text1};\n\t}\n\n\t/* Handle */\n\t::-webkit-scrollbar-thumb {\n\t\tbackground: ${({ theme }) => theme.text1};\n\t\tborder-radius: 10px;\n\t\twidth: 4px !important;\n\t}\n\n\t/* Handle on hover */\n\t::-webkit-scrollbar-thumb:hover {\n\t\tbackground: ${({ theme }) => lighten(0.08, theme.text1)};\n\t}\n`;\n\nconst TableContainer = styled.div`\n\tpadding-top: 77px;\n\tpadding-left: 8px;\n\n\t@media (max-width: 1400px) {\n\t\tpadding: 0;\n\t}\n`;\n\nconst fillToRow = (fill, index) => {\n\tlet amountBase;\n\tUSE_RELAYER_MARKET_UPDATES\n\t\t? (amountBase = fill.amountBase.toFixed(fill.tokenBase.displayDecimals))\n\t\t: (amountBase = tokenAmountInUnits(fill.amountBase, fill.tokenBase.decimals, fill.tokenBase.displayDecimals));\n\n\tconst displayAmountBase = `${amountBase}`;\n\tlet currencyPair;\n\ttry {\n\t\tcurrencyPair = getCurrencyPairByTokensSymbol(fill.tokenBase.symbol, fill.tokenQuote.symbol);\n\t} catch {\n\t\treturn null;\n\t}\n\tconst price = parseFloat(fill.price.toString()).toFixed(currencyPair.config.pricePrecision);\n\n\treturn (\n\t\t<TR key={index}>\n\t\t\t<TD variant={fill.side === OrderSide.Buy ? \"success\" : \"danger\"}>{price}</TD>\n\t\t\t<TD>{displayAmountBase}</TD>\n\t\t\t<TD>{fill.timestamp.toISOString().slice(-13, -5)}</TD>\n\t\t</TR>\n\t);\n};\nconst MarketFills = (props) => {\n\tlet content;\n\tconst { t } = useTranslation();\n\tconst { marketFills, baseToken, quoteToken, marketFillsState } = props;\n\n\tif (!baseToken || !quoteToken || marketFillsState === ServerState.NotLoaded) {\n\t\tcontent = (\n\t\t\t<div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n\t\t\t\t<Loading width={40} height={40} id={`market-fills-${props.isMobile ? \"mobile\" : \"desktop\"}`} active />\n\t\t\t</div>\n\t\t);\n\t} else if (\n\t\t!Object.keys(marketFills).length ||\n\t\t!baseToken ||\n\t\t!quoteToken ||\n\t\t!marketFills[marketToStringFromTokens(baseToken, quoteToken)]\n\t) {\n\t\tcontent = (\n\t\t\t<div className={\"d-flex flex-column\"}>\n\t\t\t\t<div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n\t\t\t\t\t<EmptyText>{t(\"errors.noTrade\")}</EmptyText>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t} else {\n\t\tconst market = marketToStringFromTokens(baseToken, quoteToken);\n\t\tconst tokenQuoteSymbol = isWeth(quoteToken.symbol) ? \"ETH\" : quoteToken.symbol.toUpperCase();\n\t\tconst tokenBaseSymbol = isWeth(baseToken.symbol) ? \"ETH\" : baseToken.symbol.toUpperCase();\n\n\t\tcontent = (\n\t\t\t<TableContainer className=\"d-flex flex-column\">\n\t\t\t\t<CustomHead>\n\t\t\t\t\t<TH>\n\t\t\t\t\t\t{t(\"price\")} ({tokenQuoteSymbol})\n\t\t\t\t\t</TH>\n\t\t\t\t\t<TH>{t(\"amount\")}</TH>\n\t\t\t\t\t<TH>{t(\"time\")}</TH>\n\t\t\t\t</CustomHead>\n\t\t\t\t<TBody>{marketFills[market].map((marketFill, index) => fillToRow(marketFill, index))}</TBody>\n\t\t\t</TableContainer>\n\t\t);\n\t}\n\treturn <Container>{content}</Container>;\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tbaseToken: state.spot.baseToken,\n\t\tmarketFills: state.spotUI.marketFills,\n\t\tquoteToken: state.spot.quoteToken,\n\t\tmarketFillsState: state.relayer.marketFillsState,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tchangeMarket: (currencyPair) => dispatch(changeMarket(currencyPair)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MarketFills);\n","import { connect } from \"react-redux\";\nimport styled from \"styled-components\";\nimport React from \"react\";\nimport { OrderStatus } from \"@0x/types\";\nimport { lighten } from \"polished\";\n\nimport { isWeth } from \"../../../../utils/known_tokens\";\nimport { tokenAmountInUnits } from \"../../../../utils/spot/tokens\";\nimport { OrderSide } from \"../../../../constants\";\nimport { getCurrencyPairFromTokens } from \"../../../../utils/spot/knownCurrencyPair\";\nimport Loading from \"../../../../components/Loading\";\nimport { ResponsiveCard } from \"../../../../components/Card\";\nimport { cancelOrder } from \"../../../../state/relayer/actions\";\nimport { CloseIcon } from \"../../../../theme\";\nimport { RowBetween } from \"../../../../components/Row\";\nimport { useActiveWeb3React } from \"../../../../hooks\";\nimport { useTranslation } from \"react-i18next\";\n\nconst Card = styled(ResponsiveCard)`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: stretch;\n\tmargin-bottom: 10px;\n\tmin-height: 385px;\n\n\t& .card-body {\n\t\tpadding: 20px 30px 30px;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t@media (min-width: 1400px) {\n\t\twidth: 570px;\n\t\theight: 385px;\n\n\t\t& .card-body {\n\t\t\tpadding: 15px;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t}\n\t}\n`;\n\nconst CardTitle = styled.h4`\n\tmargin-top: 5px;\n\tpadding: 0;\n\tmargin-bottom: 10px;\n\tfont-size: 0.875rem;\n\tfont-weight: 700;\n\tcolor: ${({ theme }) => theme.text1};\n`;\n\nconst Content = styled.div`\n\tbackground-color: ${({ theme }) => theme.bg3};\n\tborder-radius: 18px;\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex: 1;\n\tmax-height: 323px;\n\toverflow: hidden;\n`;\n\nconst InnerContent = styled.div`\n\twidth: 100%;\n\theight: 100%;\n\tmax-height: 100%;\n\toverflow-x: hidden;\n\toverflow-y: auto;\n\tflex: 1;\n\tpadding: 12px;\n\n\t@media (max-width: 1400px) {\n\t\tpadding: 20px;\n\t}\n\n\t/* width */\n\t::-webkit-scrollbar {\n\t\twidth: 3px;\n\t}\n\n\t/* Track */\n\t::-webkit-scrollbar-track {\n\t\tbox-shadow: none;\n\t\tbackground-color: transparent;\n\t\tborder-radius: 10px;\n\t\tpadding: 0 6px;\n\t\tmargin: 0 6px;\n\t\tborder-right: 1px solid ${({ theme }) => theme.text1};\n\t}\n\n\t/* Handle */\n\t::-webkit-scrollbar-thumb {\n\t\tbackground: ${({ theme }) => theme.text1};\n\t\tborder-radius: 10px;\n\t\twidth: 4px !important;\n\t}\n\n\t/* Handle on hover */\n\t::-webkit-scrollbar-thumb:hover {\n\t\tbackground: ${({ theme }) => lighten(0.08, theme.text1)};\n\t}\n`;\n\nconst EmptyText = styled.span`\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tcolor: ${({ theme }) => theme.text1};\n`;\n\nconst TR = styled.div`\n\tpadding: 4px 16px;\n\tborder-radius: 12px;\n\tmargin-bottom: 10px;\n\tmax-height: 24px;\n\theight: 24px;\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 1fr 1fr 1fr 1fr;\n`;\nconst CustomHead = styled(TR)`\n\tbackground-color: ${({ theme }) => theme.text1}10;\n\tmax-height: 40px;\n\theight: 40px;\n\tpadding: 12px 16px;\n\tmargin-bottom: 12px;\n`;\n\nconst TH = styled.span`\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n`;\n\nconst TD = styled.span`\n\tcolor: ${({ theme, variant }) => (variant ? theme[variant] : theme.text1)};\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tpadding-right: 5px;\n`;\n\nconst TBody = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex: 1;\n\n\t/* width */\n\t::-webkit-scrollbar {\n\t\twidth: 3px;\n\t}\n\n\t/* Track */\n\t::-webkit-scrollbar-track {\n\t\tbox-shadow: none;\n\t\tbackground-color: transparent;\n\t\tborder-radius: 10px;\n\t\tpadding: 0 6px;\n\t\tmargin: 0 6px;\n\t\tborder-right: 1px solid ${({ theme }) => theme.text1};\n\t}\n\n\t/* Handle */\n\t::-webkit-scrollbar-thumb {\n\t\tbackground: ${({ theme }) => theme.text1};\n\t\tborder-radius: 10px;\n\t\twidth: 4px !important;\n\t}\n\n\t/* Handle on hover */\n\t::-webkit-scrollbar-thumb:hover {\n\t\tbackground: ${({ theme }) => lighten(0.08, theme.text1)};\n\t}\n`;\n\nconst Close = styled(CloseIcon)`\n\twidth: 16px;\n\theight: 16px;\n`;\n\nconst orderToRow = (order, index, baseToken, quoteToken, cancelOrder) => {\n\tconst sideLabel = order.side === OrderSide.Sell ? \"Sell\" : \"Buy\";\n\tconst size = tokenAmountInUnits(order.size, baseToken.decimals, baseToken.displayDecimals);\n\tlet status = \"--\";\n\tlet isOrderFillable = false;\n\n\tconst filled = order.filled\n\t\t? tokenAmountInUnits(order.filled, baseToken.decimals, baseToken.displayDecimals)\n\t\t: null;\n\tif (order.status) {\n\t\tisOrderFillable = order.status === OrderStatus.Fillable;\n\t\tstatus = isOrderFillable ? \"Open\" : \"Filled\";\n\t}\n\tconst currencyPair = getCurrencyPairFromTokens(baseToken, quoteToken);\n\tconst price = parseFloat(order.price.toString()).toFixed(currencyPair.config.pricePrecision);\n\n\treturn (\n\t\t<TR key={index}>\n\t\t\t<TD variant={order.side === OrderSide.Buy ? \"success\" : \"danger\"}>{sideLabel}</TD>\n\t\t\t<TD>{size}</TD>\n\t\t\t<TD>{filled}</TD>\n\t\t\t<TD>{price}</TD>\n\t\t\t<TD>\n\t\t\t\t<div className=\"d-flex align-items-center justify-content-between\">\n\t\t\t\t\t<span>{status}</span>\n\n\t\t\t\t\t<Close onClick={cancelOrder.bind(this, order)} />\n\t\t\t\t</div>\n\t\t\t</TD>\n\t\t</TR>\n\t);\n};\n\nconst OrderHistory = (props) => {\n\tconst { account } = useActiveWeb3React();\n\tconst { t } = useTranslation();\n\tconst { orders, baseToken, quoteToken } = props;\n\tconst ordersToShow = orders.filter((order) => order.status === OrderStatus.Fillable);\n\n\tlet content;\n\n\tif (!baseToken || !quoteToken) {\n\t\tcontent = (\n\t\t\t<div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n\t\t\t\t<Loading width={40} height={40} id={`order-history-${props.isMobile ? \"mobile\" : \"desktop\"}`} active />\n\t\t\t</div>\n\t\t);\n\t} else if (!ordersToShow.length || !baseToken || !quoteToken || !account) {\n\t\tcontent = (\n\t\t\t<div className=\"w-100 h-100 d-flex align-items-center justify-content-xl-center\">\n\t\t\t\t<EmptyText>{t(\"errors.noTrade\")}</EmptyText>\n\t\t\t</div>\n\t\t);\n\t} else {\n\t\tconst tokenQuoteSymbol = isWeth(quoteToken.symbol) ? \"ETH\" : quoteToken.symbol.toUpperCase();\n\t\tconst tokenBaseSymbol = isWeth(baseToken.symbol) ? \"ETH\" : baseToken.symbol.toUpperCase();\n\n\t\tcontent = (\n\t\t\t<div className=\"d-flex flex-column\">\n\t\t\t\t<CustomHead>\n\t\t\t\t\t<TH>{t(\"side\")}</TH>\n\t\t\t\t\t<TH>\n\t\t\t\t\t\t{t(\"size\")} ({tokenBaseSymbol})\n\t\t\t\t\t</TH>\n\t\t\t\t\t<TH>\n\t\t\t\t\t\t{t(\"filled\")} ({tokenBaseSymbol})\n\t\t\t\t\t</TH>\n\t\t\t\t\t<TH>\n\t\t\t\t\t\t{t(\"price\")} ({tokenQuoteSymbol})\n\t\t\t\t\t</TH>\n\t\t\t\t\t<TH>{t(\"status\")}</TH>\n\t\t\t\t</CustomHead>\n\t\t\t\t<TBody>\n\t\t\t\t\t{ordersToShow.map((order, index) =>\n\t\t\t\t\t\torderToRow(order, index, baseToken, quoteToken, props.onCancelOrder)\n\t\t\t\t\t)}\n\t\t\t\t</TBody>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Card>\n\t\t\t<CardTitle>{t(\"openOrders\")}</CardTitle>\n\t\t\t<Content>\n\t\t\t\t<InnerContent>{content}</InnerContent>\n\t\t\t</Content>\n\t\t</Card>\n\t);\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tbaseToken: state.spot.baseToken,\n\t\torders: state.relayer.userOrders,\n\t\tquoteToken: state.spot.quoteToken,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tonCancelOrder: (order) => dispatch(cancelOrder(order)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(OrderHistory);\n","import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\n\nimport { RowBetween } from \"../Row\";\nimport { Input as NumericalInput } from \"../NumericalInput\";\nimport { tokenAmountInUnits, unitsInTokenAmount } from \"../../utils/spot/tokens\";\nimport { ZERO } from \"../../constants\";\nimport { ETHER, Token } from \"@uniswap/sdk\";\nimport { useCurrencyBalance } from \"../../state/wallet/hooks\";\nimport { useActiveWeb3React } from \"../../hooks\";\n\nconst InputRow = styled.div`\n\t${({ theme }) => theme.flexRowNoWrap};\n\talign-items: center;\n\n\tpadding: 0.625rem 0 0;\n\n\t@media (min-width: 768px) {\n\t\tpadding-top: 0.75rem;\n\t}\n`;\n\nconst Container = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin-bottom: 34px;\n\n\t@media (min-width: 768px) {\n\t\tmargin-bottom: 15px;\n\t}\n`;\n\nconst Label = styled.span`\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tpadding: 0;\n\n\t@media (min-width: 768px) {\n\t\tpadding: 0 1rem;\n\t\tfont-weight: 700;\n\t}\n`;\n\nconst InputContainer = styled.div`\n\tposition: relative;\n\tdisplay: flex;\n\talign-items: center;\n\tflex-wrap: nowrap;\n\tflex: 1;\n`;\n\nconst LabelRow = styled.div`\n\t${({ theme }) => theme.flexRowNoWrap};\n\talign-items: center;\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-size: 0.75rem;\n\tline-height: 1rem;\n\tpadding: 0;\n`;\n\nconst Aligner = styled.span`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\t@media (min-width: 768px) {\n\t\tjustify-content: space-between;\n\t}\n`;\n\nconst InputPanel = styled.div`\n\t${({ theme }) => theme.flexColumnNoWrap};\n\tposition: relative;\n\tborder-radius: 0.42rem;\n`;\n\nconst StyledTokenName = styled.span`\n\tfont-size: 0.875rem;\n\tfont-weight: 500;\n\n\t@media (min-width: 768px) {\n\t\tfont-size: 1rem;\n\t\tmargin-right: auto;\n\t}\n`;\n\nconst CurrencySelect = styled.button`\n\talign-items: center;\n\theight: 48px;\n\tfont-size: 0.875rem;\n\tfont-weight: 500;\n\tbackground-color: ${({ theme }) => theme.bg3};\n\tcolor: ${({ theme }) => theme.text1};\n\tborder-bottom-left-radius: 18px;\n\tborder-top-left-radius: 18px;\n\tbox-shadow: none;\n\toutline: none;\n\tcursor: pointer;\n\tuser-select: none;\n\tborder: none;\n\tpadding: 0.875rem 0.625rem;\n\tmin-width: 116px;\n\twidth: 116px;\n\ttext-align: center;\n\n\t@media (min-width: 768px) {\n\t\tmin-width: 90px;\n\t\twidth: 90px;\n\t\tpadding: 0.625rem 1rem;\n\t\tfont-size: 1rem;\n\t\tfont-weight: 700;\n\t\ttext-align: left;\n\t}\n\n\t:focus,\n\t:hover {\n\t\tbackground-color: ${({ theme }) => theme.bg1};\n\t\toutline: none;\n\t}\n`;\n\nlet BalanceRow = styled.div`\n\t${({ theme }) => theme.flexRowNoWrap};\n\talign-items: center;\n\tmargin-top: 10px;\n\tcolor: ${({ theme }) => theme.text1};\n\topacity: 0.5;\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n\tline-height: 1rem;\n\tpadding: 0;\n\n\t@media (min-width: 768px) {\n\t\tpadding: 0 1rem;\n\t}\n`;\n\nexport default class SpotInputPanel extends React.Component {\n\tstate = {\n\t\tvalueStr: this.props.value\n\t\t\t? tokenAmountInUnits(this.props.value, this.props.decimals, this.props.valueFixedDecimals)\n\t\t\t: \"\",\n\t};\n\n\t_updateValue = (value) => {\n\t\tconst newValue = unitsInTokenAmount(value || \"0\", this.props.decimals);\n\t\tconst invalidValue = this.props.min && newValue.isLessThan(this.props.min);\n\t\tif (invalidValue) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.props.onUserInput(newValue);\n\t\tthis.setState({\n\t\t\tvalueStr: value,\n\t\t});\n\t};\n\n\tstatic getDerivedStateFromProps = (props, state) => {\n\t\tconst { decimals, value, valueFixedDecimals } = props;\n\t\tconst { valueStr } = state;\n\n\t\tif (!value) {\n\t\t\treturn {\n\t\t\t\tvalueStr: \"\",\n\t\t\t};\n\t\t} else if (value && !unitsInTokenAmount(valueStr || \"0\", decimals).eq(value)) {\n\t\t\treturn {\n\t\t\t\tvalueStr: tokenAmountInUnits(value, decimals, valueFixedDecimals),\n\t\t\t};\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tlabel = \"Input\",\n\t\t\tdisable = false,\n\t\t\tselected,\n\t\t\thideInput = false,\n\t\t\tid,\n\t\t\tshowBalance = true,\n\t\t\tbalanceText,\n\t\t} = this.props;\n\t\tconst { valueStr } = this.state;\n\n\t\treturn (\n\t\t\t<InputPanel id={id}>\n\t\t\t\t<Container>\n\t\t\t\t\t{!hideInput && (\n\t\t\t\t\t\t<LabelRow>\n\t\t\t\t\t\t\t<RowBetween>\n\t\t\t\t\t\t\t\t<Label>{label}</Label>\n\t\t\t\t\t\t\t</RowBetween>\n\t\t\t\t\t\t</LabelRow>\n\t\t\t\t\t)}\n\t\t\t\t\t<InputRow style={hideInput ? { padding: \"0\", borderRadius: \"0.42rem\" } : {}} selected={disable}>\n\t\t\t\t\t\t<CurrencySelect selected={!!selected} className=\"open-currency-select-button\">\n\t\t\t\t\t\t\t<Aligner>\n\t\t\t\t\t\t\t\t<StyledTokenName className=\"token-symbol-container\" active={Boolean(selected)}>\n\t\t\t\t\t\t\t\t\t{(selected && selected?.length > 20\n\t\t\t\t\t\t\t\t\t\t? (\n\t\t\t\t\t\t\t\t\t\t\t\tselected?.slice(0, 4) +\n\t\t\t\t\t\t\t\t\t\t\t\t\"...\" +\n\t\t\t\t\t\t\t\t\t\t\t\tselected?.slice(selected?.length - 5, selected?.length)\n\t\t\t\t\t\t\t\t\t\t  ).toUpperCase()\n\t\t\t\t\t\t\t\t\t\t: selected.toUpperCase()) || `Select`}\n\t\t\t\t\t\t\t\t</StyledTokenName>\n\t\t\t\t\t\t\t</Aligner>\n\t\t\t\t\t\t</CurrencySelect>\n\n\t\t\t\t\t\t{!hideInput && (\n\t\t\t\t\t\t\t<InputContainer>\n\t\t\t\t\t\t\t\t<NumericalInput\n\t\t\t\t\t\t\t\t\tsize={\"sm\"}\n\t\t\t\t\t\t\t\t\tclassName=\"token-amount-input pl-3 \"\n\t\t\t\t\t\t\t\t\tvalue={valueStr}\n\t\t\t\t\t\t\t\t\tonUserInput={this._updateValue}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</InputContainer>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</InputRow>\n\t\t\t\t\t{selected && showBalance && <BalanceRow>{balanceText()}</BalanceRow>}\n\t\t\t\t</Container>\n\t\t\t</InputPanel>\n\t\t);\n\t}\n}\n","import { BigNumber, NULL_BYTES } from \"@0x/utils\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport styled from \"styled-components\";\n\nimport { OrderSide, ZERO } from \"../../constants\";\nimport { fetchTakerAndMakerFee } from \"../../state/relayer/actions\";\nimport { getOpenBuyOrders, getOpenSellOrders, getQuoteInUsd } from \"../../state/selectors\";\nimport { getKnownTokens } from \"../../utils/known_tokens\";\nimport { formatTokenSymbol, tokenAmountInUnits, unitsInTokenAmount } from \"../../utils/spot/tokens\";\nimport { toUnitAmount } from \"../../lib/helper\";\nimport { buildMarketOrders, sumTakerAssetFillableOrders } from \"../../utils/spot/orders\";\nimport withWeb3Account from \"../hoc/withWeb3Account\";\nimport { withTranslation } from \"react-i18next\";\n\nconst Row = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\n\t&:not(:last-child) {\n\t\tmargin-bottom: 30px;\n\t}\n`;\n\nconst Text = styled.span`\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n\tcolor: ${({ theme }) => theme.text1};\n\n\t@media (min-width: 768px) {\n\t\tpadding-left: 1rem;\n\t\tfont-size: 0.875rem;\n\t\tfont-weight: 700;\n\t}\n`;\n\nconst OrderType = {\n\tLimit: \"Limit\",\n\tMarket: \"Market\",\n};\n\nclass OrderDetails extends React.Component {\n\tstate = {\n\t\tmakerFeeAmount: ZERO,\n\t\ttakerFeeAmount: ZERO,\n\t\tmakerFeeAssetData: NULL_BYTES,\n\t\ttakerFeeAssetData: NULL_BYTES,\n\t\tquoteTokenAmount: ZERO,\n\t\tcanOrderBeFilled: true,\n\t};\n\n\tcomponentDidUpdate = async (prevProps) => {\n\t\tconst newProps = this.props;\n\t\tif (\n\t\t\tnewProps.tokenPrice !== prevProps.tokenPrice ||\n\t\t\tnewProps.orderType !== prevProps.orderType ||\n\t\t\tnewProps.tokenAmount !== prevProps.tokenAmount ||\n\t\t\tnewProps.currencyPair !== prevProps.currencyPair ||\n\t\t\tnewProps.orderSide !== prevProps.orderSide\n\t\t) {\n\t\t\tawait this._updateOrderDetailsState();\n\t\t}\n\t};\n\n\t_updateOrderDetailsState = async () => {\n\t\tconst { currencyPair, orderType, orderSide } = this.props;\n\t\tif (!currencyPair) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (orderType === OrderType.Limit) {\n\t\t\tconst { tokenAmount, tokenPrice, onFetchTakerAndMakerFee, web3 } = this.props;\n\t\t\tconst { quote, base } = currencyPair;\n\t\t\tconst quoteToken = getKnownTokens().getTokenBySymbol(quote);\n\t\t\tconst baseToken = getKnownTokens().getTokenBySymbol(base);\n\t\t\t// TODO: Check if this precision is enough, price was giving error on precision\n\t\t\tconst priceInQuoteBaseUnits = unitsInTokenAmount(tokenPrice.toString(), quoteToken.decimals);\n\t\t\tconst baseTokenAmountInUnits = toUnitAmount(tokenAmount, baseToken.decimals);\n\t\t\tconst quoteTokenAmount = baseTokenAmountInUnits.multipliedBy(priceInQuoteBaseUnits);\n\t\t\tconst { makerFee, makerFeeAssetData, takerFee, takerFeeAssetData } = await onFetchTakerAndMakerFee(\n\t\t\t\ttokenAmount,\n\t\t\t\ttokenPrice,\n\t\t\t\torderSide,\n\t\t\t\tweb3.account,\n\t\t\t\twindow.ethereum || web3.library\n\t\t\t);\n\t\t\tthis.setState({\n\t\t\t\tmakerFeeAmount: makerFee,\n\t\t\t\tmakerFeeAssetData,\n\t\t\t\ttakerFeeAmount: takerFee,\n\t\t\t\ttakerFeeAssetData,\n\t\t\t\tquoteTokenAmount,\n\t\t\t});\n\t\t} else {\n\t\t\tconst { tokenAmount, openSellOrders, openBuyOrders } = this.props;\n\t\t\tconst isSell = orderSide === OrderSide.Sell;\n\t\t\tconst [ordersToFill, amountToPayForEachOrder, canOrderBeFilled] = buildMarketOrders(\n\t\t\t\t{\n\t\t\t\t\tamount: tokenAmount,\n\t\t\t\t\torders: isSell ? openBuyOrders : openSellOrders,\n\t\t\t\t},\n\t\t\t\torderSide\n\t\t\t);\n\t\t\t// HACK(dekz): we assume takerFeeAssetData is either empty or is consistent through all orders\n\t\t\tconst firstOrderWithFees = ordersToFill.find((o) => o.takerFeeAssetData !== NULL_BYTES);\n\t\t\tconst takerFeeAssetData = firstOrderWithFees ? firstOrderWithFees.takerFeeAssetData : NULL_BYTES;\n\t\t\tconst takerFeeAmount = ordersToFill.reduce((sum, order) => sum.plus(order.takerFee), ZERO);\n\t\t\tconst quoteTokenAmount = sumTakerAssetFillableOrders(orderSide, ordersToFill, amountToPayForEachOrder);\n\n\t\t\tthis.setState({\n\t\t\t\ttakerFeeAmount,\n\t\t\t\ttakerFeeAssetData,\n\t\t\t\tquoteTokenAmount,\n\t\t\t\tcanOrderBeFilled,\n\t\t\t});\n\t\t}\n\t};\n\n\t_getCostStringForRender = () => {\n\t\tconst { canOrderBeFilled } = this.state;\n\t\tconst { orderType } = this.props;\n\t\tif (orderType === OrderType.Market && !canOrderBeFilled) {\n\t\t\treturn `---`;\n\t\t}\n\n\t\tconst { quote } = this.props.currencyPair;\n\t\tconst quoteToken = getKnownTokens().getTokenBySymbol(quote);\n\t\tconst { quoteTokenAmount } = this.state;\n\t\t//  const quoteTokenAmountUnits = tokenAmountInUnits(quoteTokenAmount, quoteToken.decimals);\n\t\tconst costAmount = tokenAmountInUnits(quoteTokenAmount, quoteToken.decimals, quoteToken.displayDecimals);\n\t\treturn `${costAmount} ${formatTokenSymbol(quote)}`;\n\t};\n\n\t_getMedianPriceStringForRender = () => {\n\t\tconst { canOrderBeFilled } = this.state;\n\t\tconst { orderType } = this.props;\n\t\tconst { tokenAmount } = this.props;\n\t\tif (orderType === OrderType.Market && !canOrderBeFilled) {\n\t\t\treturn `---`;\n\t\t}\n\t\tif (tokenAmount.eq(0)) {\n\t\t\treturn `---`;\n\t\t}\n\t\tconst { quote, base, config } = this.props.currencyPair;\n\t\tconst { quoteTokenAmount } = this.state;\n\t\tconst quoteToken = getKnownTokens().getTokenBySymbol(quote);\n\t\tconst baseToken = getKnownTokens().getTokenBySymbol(base);\n\t\tconst quoteTokenAmountUnits = new BigNumber(tokenAmountInUnits(quoteTokenAmount, quoteToken.decimals, 18));\n\t\tconst baseTokenAmountUnits = new BigNumber(tokenAmountInUnits(tokenAmount, baseToken.decimals, 18));\n\t\tconst priceDisplay = quoteTokenAmountUnits.div(baseTokenAmountUnits).toFormat(config.pricePrecision + 1);\n\t\treturn `${priceDisplay} ${formatTokenSymbol(quote)}`;\n\t};\n\n\t_getCostLabelStringForRender = () => {\n\t\tconst { qouteInUSD, orderSide, t } = this.props;\n\t\tif (qouteInUSD) {\n\t\t\treturn orderSide === OrderSide.Sell ? t(\"total\") : t(\"cost\");\n\t\t} else {\n\t\t\treturn orderSide === OrderSide.Sell ? t(\"total\") : t(\"cost\");\n\t\t}\n\t};\n\n\tcomponentDidMount = async () => {\n\t\tawait this._updateOrderDetailsState();\n\t};\n\n\trender = () => {\n\t\t// const fee = this._getFeeStringForRender();\n\t\tconst cost = this._getCostStringForRender();\n\t\tconst costText = this._getCostLabelStringForRender();\n\t\tconst priceMedianText = this._getMedianPriceStringForRender();\n\t\tconst { orderType, t } = this.props;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Row>\n\t\t\t\t\t<Text>{costText}</Text>\n\t\t\t\t\t<Text>{cost}</Text>\n\t\t\t\t</Row>\n\t\t\t\t{orderType === OrderType.Market && (\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Text>{t(\"medianPrice\")}:</Text>\n\t\t\t\t\t\t<Text>{priceMedianText}</Text>\n\t\t\t\t\t</Row>\n\t\t\t\t)}\n\t\t\t</>\n\t\t);\n\t};\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\topenSellOrders: getOpenSellOrders(state),\n\t\topenBuyOrders: getOpenBuyOrders(state),\n\t\tqouteInUSD: getQuoteInUsd(state),\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tonFetchTakerAndMakerFee: (amount, price, side, account, library) =>\n\t\t\tdispatch(fetchTakerAndMakerFee(amount, price, side, account, library)),\n\t};\n};\nexport default withWeb3Account(connect(mapStateToProps, mapDispatchToProps)(withTranslation(OrderDetails)));\n","import { connect } from \"react-redux\";\nimport { BigNumber } from \"@0x/utils\";\nimport { Component } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport styled from \"styled-components\";\n\nimport { ZERO, IS_ORDER_LIMIT_MATCHING, OrderSide } from \"../../../../constants\";\nimport {\n\tstartBuySellLimitMatchingSteps,\n\tstartBuySellLimitSteps,\n\tstartBuySellMarketSteps,\n} from \"../../../../state/spotUI/actions\";\nimport { fetchTakerAndMakerFee } from \"../../../../state/relayer/actions\";\nimport { isWeth, getKnownTokens } from \"../../../../utils/known_tokens\";\nimport {\n\tformatTokenSymbol,\n\ttokenAmountInUnits,\n\ttokenAmountInUnitsToBigNumber,\n\tunitsInTokenAmount,\n} from \"../../../../utils/spot/tokens\";\nimport {\n\tgetCurrencyPair,\n\tgetMakerAmountSelected,\n\tgetOpenBuyOrders,\n\tgetOpenSellOrders,\n\tgetOrderPriceSelected,\n} from \"../../../../state/selectors\";\nimport { ResponsiveCard } from \"../../../../components/Card\";\nimport SpotInputPanel from \"../../../../components/SpotInputPanel\";\nimport OrderDetailsContainer from \"../../../../components/OrderDetailsContainer\";\nimport withBalance from \"../../../../components/hoc/withBalance\";\nimport withWeb3Account from \"../../../../components/hoc/withWeb3Account\";\nimport { withTranslation } from \"react-i18next\";\n\nconst Card = styled(ResponsiveCard)`\n\tmargin-bottom: 20px;\n\n\t& .card-body {\n\t\tpadding: 30px;\n\t}\n\n\t@media (min-width: 1400px) {\n\t\twidth: 580px;\n\t\theight: 385px;\n\t\tmargin-bottom: 10px;\n\n\t\t& .card-body {\n\t\t\tpadding: 20px;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t}\n\t}\n`;\n\nconst QuoteContainer = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin-bottom: -5px;\n\n\t@media (max-width: 1400px) {\n\t\tpadding-top: 0;\n\t\tmargin-bottom: -24px;\n\t}\n`;\n\nconst TabsContainer = styled.div`\n\tmargin-left: -20px;\n\tmargin-right: -20px;\n\tmargin-bottom: 10px;\n\n\t@media (max-width: 1400px) {\n\t\tflex-direction: column-reverse;\n\t\talign-items: stretch !important;\n\t\tmargin-bottom: 45px;\n\t}\n`;\n\nconst TabWrapper = styled.div`\n\tpadding: 0 20px;\n\tflex: 1;\n\n\t@media (max-width: 1400px) {\n\t\t&:not(:first-child) {\n\t\t\tmargin-bottom: 10px;\n\t\t}\n\t}\n`;\n\nconst Tab = styled(Button)`\n\theight: 48px;\n\tfont-size: 1rem;\n\tfont-weight: 500;\n\twidth: 100%;\n`;\n\nconst Content = styled.div`\n\tflex: 1;\n\tposition: relative;\n`;\n\nconst DetailsContainer = styled.div`\n\tmargin-bottom: auto;\n`;\n\nconst MarketType = styled.div`\n\tposition: absolute;\n\ttop: -14px;\n\tright: 0;\n\tz-index: 2;\n`;\n\nconst MarketButton = styled.button`\n\t:disabled {\n\t\tcolor: ${({ theme }) => theme.text1};\n\t\topacity: 1;\n\t}\n`;\n\nconst OrderType = {\n\tLimit: \"Limit\",\n\tMarket: \"Market\",\n};\n\nconst TIMEOUT_BTN_ERROR = 2000;\nconst TIMEOUT_CARD_ERROR = 4000;\n\nclass BuySell extends Component {\n\tstate = {\n\t\tmakerAmount: null,\n\t\tprice: null,\n\t\torderType: OrderType.Limit,\n\t\ttab: OrderSide.Buy,\n\t\terror: {\n\t\t\tbtnMsg: null,\n\t\t\tcardMsg: null,\n\t\t},\n\t};\n\n\tcomponentDidUpdate = async (prevProps) => {\n\t\tconst newProps = this.props;\n\t\tif (newProps.orderPriceSelected !== prevProps.orderPriceSelected && this.state.orderType === OrderType.Limit) {\n\t\t\tthis.setState({\n\t\t\t\tprice: newProps.orderPriceSelected,\n\t\t\t});\n\t\t}\n\n\t\tif (\n\t\t\tnewProps.makerAmountSelected !== prevProps.makerAmountSelected &&\n\t\t\tthis.state.orderType === OrderType.Market\n\t\t) {\n\t\t\tthis.setState({\n\t\t\t\tmakerAmount: newProps.makerAmountSelected,\n\t\t\t});\n\t\t}\n\t};\n\n\tchangeTab = (tab) => () => this.setState({ tab });\n\n\tupdateMakerAmount = (newValue) => {\n\t\tthis.setState({\n\t\t\tmakerAmount: newValue,\n\t\t});\n\t};\n\n\tgetAmountAvailableLabel = () => {\n\t\tconst { baseTokenBalance, quoteTokenBalance, totalEthBalance } = this.props;\n\t\tconst { tab } = this.state;\n\t\tif (tab === OrderSide.Sell) {\n\t\t\tif (baseTokenBalance) {\n\t\t\t\tconst tokenBalanceAmount = isWeth(baseTokenBalance.token.symbol)\n\t\t\t\t\t? totalEthBalance\n\t\t\t\t\t: baseTokenBalance.balance;\n\t\t\t\tconst baseBalanceString = tokenAmountInUnits(\n\t\t\t\t\ttokenBalanceAmount,\n\t\t\t\t\tbaseTokenBalance.token.decimals,\n\t\t\t\t\tbaseTokenBalance.token.displayDecimals\n\t\t\t\t);\n\t\t\t\tconst symbol = formatTokenSymbol(baseTokenBalance.token?.symbol);\n\t\t\t\treturn `Available: ${baseBalanceString}  ${symbol}`;\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t} else {\n\t\t\tif (quoteTokenBalance) {\n\t\t\t\tconst tokenBalanceAmount = isWeth(quoteTokenBalance.token?.symbol)\n\t\t\t\t\t? totalEthBalance\n\t\t\t\t\t: quoteTokenBalance.balance;\n\t\t\t\tconst quoteBalanceString = tokenAmountInUnits(\n\t\t\t\t\ttokenBalanceAmount,\n\t\t\t\t\tquoteTokenBalance.token?.decimals,\n\t\t\t\t\tquoteTokenBalance.token?.displayDecimals\n\t\t\t\t);\n\t\t\t\tconst symbol = formatTokenSymbol(quoteTokenBalance.token?.symbol);\n\t\t\t\treturn `Available: ${quoteBalanceString}  ${symbol}`;\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t};\n\n\tupdatePrice = (price) => {\n\t\tthis.setState({ price });\n\t};\n\n\tsubmit = async () => {\n\t\tif (!this.props.web3.account) {\n\t\t\tthis.props.toggleWalletModal();\n\t\t\treturn false;\n\t\t}\n\t\tconst { currencyPair, tokensBalance, wethBalance, ethBalance, web3 } = this.props;\n\t\tconst minAmount = currencyPair.config.minAmount;\n\t\tconst decimals = getKnownTokens().getTokenBySymbol(currencyPair.base).decimals;\n\t\tconst minAmountUnits = unitsInTokenAmount(String(minAmount), decimals);\n\n\t\tconst orderSide = this.state.tab;\n\t\tconst makerAmount = this.state.makerAmount || minAmountUnits;\n\t\tconst price = this.state.price || new BigNumber(0);\n\n\t\tconst orderFeeData = await this.props.onFetchTakerAndMakerFee(\n\t\t\tmakerAmount,\n\t\t\tprice,\n\t\t\tthis.state.tab,\n\t\t\tweb3.account,\n\t\t\twindow.ethereum || web3.library\n\t\t);\n\n\t\tif (this.state.orderType === OrderType.Limit) {\n\t\t\tif (IS_ORDER_LIMIT_MATCHING) {\n\t\t\t\tconst result = await this.props.onSubmitLimitOrderMatching(\n\t\t\t\t\tmakerAmount,\n\t\t\t\t\tprice,\n\t\t\t\t\torderSide,\n\t\t\t\t\torderFeeData,\n\t\t\t\t\ttokensBalance,\n\t\t\t\t\twethBalance,\n\t\t\t\t\tethBalance\n\t\t\t\t);\n\t\t\t\tif (result === 0) {\n\t\t\t\t\tawait this.props.onSubmitLimitOrder(\n\t\t\t\t\t\tmakerAmount,\n\t\t\t\t\t\tprice,\n\t\t\t\t\t\torderSide,\n\t\t\t\t\t\torderFeeData,\n\t\t\t\t\t\ttokensBalance,\n\t\t\t\t\t\twethBalance\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tawait this.props.onSubmitLimitOrder(\n\t\t\t\t\tmakerAmount,\n\t\t\t\t\tprice,\n\t\t\t\t\torderSide,\n\t\t\t\t\torderFeeData,\n\t\t\t\t\ttokensBalance,\n\t\t\t\t\twethBalance\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tawait this.props.onSubmitMarketOrder(\n\t\t\t\t\tmakerAmount,\n\t\t\t\t\torderSide,\n\t\t\t\t\ttokensBalance,\n\t\t\t\t\twethBalance,\n\t\t\t\t\tethBalance.balance\n\t\t\t\t);\n\t\t\t} catch (error) {\n\t\t\t\tthis.setState(\n\t\t\t\t\t{\n\t\t\t\t\t\terror: {\n\t\t\t\t\t\t\tbtnMsg: \"Error\",\n\t\t\t\t\t\t\tcardMsg: error.message,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t() => {\n\t\t\t\t\t\t// After a timeout both error message and button gets cleared\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\terror: {\n\t\t\t\t\t\t\t\t\t...this.state.error,\n\t\t\t\t\t\t\t\t\tbtnMsg: null,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, TIMEOUT_BTN_ERROR);\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\terror: {\n\t\t\t\t\t\t\t\t\t...this.state.error,\n\t\t\t\t\t\t\t\t\tcardMsg: null,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, TIMEOUT_CARD_ERROR);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tthis._reset();\n\t};\n\n\t_reset = () => {\n\t\tthis.setState({\n\t\t\tmakerAmount: null,\n\t\t});\n\t};\n\n\t_switchToMarket = () => {\n\t\tthis.setState({\n\t\t\torderType: OrderType.Market,\n\t\t});\n\t};\n\n\t_switchToLimit = () => {\n\t\tthis.setState({\n\t\t\torderType: OrderType.Limit,\n\t\t});\n\t};\n\n\t_getCostLabelStringForRender = () => {\n\t\tconst { qouteInUSD, orderSide } = this.props;\n\t\tif (qouteInUSD) {\n\t\t\treturn orderSide === OrderSide.Sell ? \"Total\" : \"Cost\";\n\t\t} else {\n\t\t\treturn orderSide === OrderSide.Sell ? \"Total\" : \"Cost\";\n\t\t}\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tcurrencyPair,\n\t\t\tquoteTokenBalance,\n\t\t\tbaseTokenBalance,\n\t\t\ttotalEthBalance,\n\t\t\tbaseToken,\n\t\t\tquoteToken,\n\t\t\tt,\n\t\t} = this.props;\n\t\tconst { makerAmount, price, tab, orderType, error } = this.state;\n\n\t\tconst buySellInnerTabs = [\n\t\t\t{\n\t\t\t\tactive: orderType === OrderType.Limit,\n\t\t\t\tonClick: this._switchToLimit,\n\t\t\t\ttext: t(\"limit\"),\n\t\t\t},\n\t\t\t{\n\t\t\t\tactive: orderType === OrderType.Market,\n\t\t\t\tonClick: this._switchToMarket,\n\t\t\t\ttext: t(\"market\"),\n\t\t\t},\n\t\t];\n\t\tconst decimals = getKnownTokens().getTokenBySymbol(currencyPair.base).decimals;\n\t\tconst quoteDecimals = getKnownTokens().getTokenBySymbol(currencyPair.quote).decimals;\n\t\t// Configs\n\t\tconst pricePrecision = currencyPair.config.pricePrecision;\n\t\tconst minAmount = currencyPair.config.minAmount;\n\t\tconst minAmountUnits = unitsInTokenAmount(String(currencyPair.config.minAmount), decimals);\n\n\t\tconst basePrecision = currencyPair.config.basePrecision;\n\t\tconst isWethQuote = quoteTokenBalance && isWeth(quoteTokenBalance.token?.symbol);\n\t\tconst isWethBase = baseTokenBalance && isWeth(baseTokenBalance.token?.symbol);\n\n\t\tconst quoteUnits = isWethQuote\n\t\t\t? tokenAmountInUnitsToBigNumber(totalEthBalance || ZERO, 18)\n\t\t\t: tokenAmountInUnitsToBigNumber((quoteTokenBalance && quoteTokenBalance.balance) || ZERO, quoteDecimals);\n\n\t\tconst baseBalance = isWethBase ? totalEthBalance : (baseTokenBalance && baseTokenBalance.balance) || ZERO;\n\n\t\tconst amount = makerAmount || minAmountUnits;\n\t\tconst makerAmountUnits = tokenAmountInUnitsToBigNumber(amount, decimals);\n\t\tconst isMakerAmountEmpty = amount === null || amount.isZero();\n\t\tconst isMakerAmountMin = amount === null || amount.isLessThan(minAmountUnits);\n\n\t\tconst isPriceEmpty = price === null || price.isZero();\n\t\tconst isPriceMin =\n\t\t\tprice === null || price.isLessThan(new BigNumber(1).div(new BigNumber(10).pow(pricePrecision)));\n\t\tconst isOrderTypeLimitIsEmpty =\n\t\t\torderType === OrderType.Limit && (isMakerAmountEmpty || isPriceEmpty || isPriceMin);\n\t\tconst isBuy = tab === OrderSide.Buy;\n\t\tconst isOrderTypeLimitOverflow =\n\t\t\t(orderType === OrderType.Limit && isBuy && makerAmountUnits.multipliedBy(price || ZERO).gt(quoteUnits)) ||\n\t\t\t(!isBuy && amount.gt(baseBalance));\n\n\t\tconst isOrderTypeMarketIsEmpty = orderType === OrderType.Market && (isMakerAmountEmpty || isMakerAmountMin);\n\t\tconst baseSymbol = formatTokenSymbol(currencyPair.base);\n\t\tconst btnPrefix = tab === OrderSide.Buy ? `${t(\"orderSide.buy\")} ` : `${t(\"orderSide.sell\")} `;\n\t\tconst btnText = error && error.btnMsg ? \"Error\" : btnPrefix + baseSymbol;\n\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<TabsContainer className=\"d-flex align-items-center justify-content-between\">\n\t\t\t\t\t<TabWrapper>\n\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\tvariant={tab === OrderSide.Buy ? \"secondary-light\" : \"light-secondary-light\"}\n\t\t\t\t\t\t\tonClick={this.changeTab(OrderSide.Buy)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(\"orderSide.buy\")}\n\t\t\t\t\t\t</Tab>\n\t\t\t\t\t</TabWrapper>\n\t\t\t\t\t<TabWrapper>\n\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\tvariant={tab === OrderSide.Sell ? \"secondary-light\" : \"light-secondary-light\"}\n\t\t\t\t\t\t\tonClick={this.changeTab(OrderSide.Sell)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(\"orderSide.sell\")}\n\t\t\t\t\t\t</Tab>\n\t\t\t\t\t</TabWrapper>\n\t\t\t\t</TabsContainer>\n\t\t\t\t<Content>\n\t\t\t\t\t<MarketType>\n\t\t\t\t\t\t{buySellInnerTabs.map((tab, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<MarketButton\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-link px-0\"\n\t\t\t\t\t\t\t\t\t\tdisabled={tab.active}\n\t\t\t\t\t\t\t\t\t\tonClick={tab.onClick}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{tab.text}\n\t\t\t\t\t\t\t\t\t</MarketButton>\n\t\t\t\t\t\t\t\t\t{index < buySellInnerTabs.length - 1 && <span className={\"px-2\"}>/</span>}\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</MarketType>\n\t\t\t\t\t<SpotInputPanel\n\t\t\t\t\t\ttoken={baseToken}\n\t\t\t\t\t\tdecimals={decimals}\n\t\t\t\t\t\tvalue={amount}\n\t\t\t\t\t\tonUserInput={this.updateMakerAmount}\n\t\t\t\t\t\tselected={currencyPair.base}\n\t\t\t\t\t\tvalueFixedDecimals={basePrecision}\n\t\t\t\t\t\tlabel={`Amount (Min: ${minAmount})`}\n\t\t\t\t\t\tbalanceText={this.getAmountAvailableLabel}\n\t\t\t\t\t\tshowBalance={true}\n\t\t\t\t\t\tmin={minAmountUnits}\n\t\t\t\t\t/>\n\t\t\t\t\t{orderType === OrderType.Limit && (\n\t\t\t\t\t\t<QuoteContainer>\n\t\t\t\t\t\t\t<SpotInputPanel\n\t\t\t\t\t\t\t\ttoken={quoteToken}\n\t\t\t\t\t\t\t\tdecimals={0}\n\t\t\t\t\t\t\t\tmin={ZERO}\n\t\t\t\t\t\t\t\tvalue={price}\n\t\t\t\t\t\t\t\tonUserInput={this.updatePrice}\n\t\t\t\t\t\t\t\tselected={currencyPair.quote}\n\t\t\t\t\t\t\t\tvalueFixedDecimals={pricePrecision}\n\t\t\t\t\t\t\t\tlabel={t(\"pricePerToken\")}\n\t\t\t\t\t\t\t\tshowBalance={false}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</QuoteContainer>\n\t\t\t\t\t)}\n\t\t\t\t\t<DetailsContainer className=\"d-flex flex-column\">\n\t\t\t\t\t\t<OrderDetailsContainer\n\t\t\t\t\t\t\torderType={orderType}\n\t\t\t\t\t\t\torderSide={tab}\n\t\t\t\t\t\t\ttokenAmount={amount}\n\t\t\t\t\t\t\ttokenPrice={price || new BigNumber(1).div(new BigNumber(10).pow(pricePrecision))}\n\t\t\t\t\t\t\tcurrencyPair={currencyPair}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</DetailsContainer>\n\t\t\t\t\t<div className=\"d-flex flex-column align-items-xl-center align-items-stretch justify-content-center mt-auto\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\tthis.props.web3.account &&\n\t\t\t\t\t\t\t\t(isOrderTypeLimitIsEmpty || isOrderTypeMarketIsEmpty || isOrderTypeLimitOverflow)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonClick={this.submit}\n\t\t\t\t\t\t\tvariant={\"primary\"}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tminWidth: 250,\n\t\t\t\t\t\t\t\theight: 56,\n\t\t\t\t\t\t\t\tmarginTop: 10,\n\t\t\t\t\t\t\t\tfontSize: 20,\n\t\t\t\t\t\t\t\tfontWeight: 700,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{!this.props.web3.account ? t(\"wallet.connect\") : btnText}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</Content>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tbaseToken: state.spot.baseToken,\n\t\tquoteToken: state.spot.quoteToken,\n\t\tcurrencyPair: getCurrencyPair(state),\n\t\torderPriceSelected: getOrderPriceSelected(state),\n\t\tmakerAmountSelected: getMakerAmountSelected(state),\n\t\topenSellOrders: getOpenSellOrders(state),\n\t\topenBuyOrders: getOpenBuyOrders(state),\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tonSubmitLimitOrder: (amount, price, side, orderFeeData, tokensBalance, wethBalance) =>\n\t\t\tdispatch(startBuySellLimitSteps(amount, price, side, orderFeeData, tokensBalance, wethBalance)),\n\t\tonSubmitLimitOrderMatching: (amount, price, side, orderFeeData, tokensBalance, wethBalance, ethBalance) =>\n\t\t\tdispatch(\n\t\t\t\tstartBuySellLimitMatchingSteps(\n\t\t\t\t\tamount,\n\t\t\t\t\tprice,\n\t\t\t\t\tside,\n\t\t\t\t\torderFeeData,\n\t\t\t\t\ttokensBalance,\n\t\t\t\t\twethBalance,\n\t\t\t\t\tethBalance\n\t\t\t\t)\n\t\t\t),\n\t\tonSubmitMarketOrder: (amount, side, tokensBalance, wethBalance, ethBalance) =>\n\t\t\tdispatch(startBuySellMarketSteps(amount, side, tokensBalance, wethBalance, ethBalance)),\n\t\tonFetchTakerAndMakerFee: (amount, price, side, account, library) =>\n\t\t\tdispatch(fetchTakerAndMakerFee(amount, price, side, account, library)),\n\t};\n};\n\nexport default withBalance(connect(mapStateToProps, mapDispatchToProps)(withTranslation()(withWeb3Account(BuySell))));\n","import { ConfirmationPendingContent } from \"../../../../../components/TransactionConfirmationModal\";\nimport React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { useActiveWeb3React } from \"../../../../../hooks\";\nimport { createSignedOrder } from \"../../../../../state/spotUI/actions\";\nimport { getStepsModalCurrentStep } from \"../../../../../state/selectors\";\nimport { submitLimitOrder } from \"../../../../../state/relayer/actions\";\nimport Web3 from \"web3\";\n\nconst web3 = new Web3(Web3.givenProvider || Web3.providers.HttpProvider(process.env.REACT_APP_NETWORK_URL));\n\nconst SignOrderStepContainer = (props) => {\n\tconst { account, library } = useActiveWeb3React();\n\tconst { step } = props;\n\tconst { amount, price, side } = step;\n\n\tconst submitOrder = async () => {\n\t\ttry {\n\t\t\tconst signedOrder = await props.createSignedOrder(\n\t\t\t\tamount,\n\t\t\t\tprice,\n\t\t\t\tside,\n\t\t\t\taccount,\n\t\t\t\tweb3.currentProvider || window.ethereum,\n\t\t\t\tlibrary\n\t\t\t);\n\t\t\tawait props.submitLimitOrder(signedOrder, amount, side);\n\n\t\t\tprops.onDone();\n\t\t} catch (e) {\n\t\t\tprops.onDismiss();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tsubmitOrder();\n\t}, [step, account]);\n\n\treturn <ConfirmationPendingContent onDismiss={props.onDismiss} pendingText={\"Waiting for confirmation\"} />;\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tstep: getStepsModalCurrentStep(state),\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tsubmitLimitOrder: (signedOrder, amount, side, account, library) =>\n\t\t\tdispatch(submitLimitOrder(signedOrder, amount, side, account, library)),\n\t\tcreateSignedOrder: (amount, price, side, account, web3, library) =>\n\t\t\tdispatch(createSignedOrder(amount, price, side, account, web3, library)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignOrderStepContainer);\n","import { ConfirmationPendingContent } from \"../../../../../components/TransactionConfirmationModal\";\nimport React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { useActiveWeb3React } from \"../../../../../hooks\";\nimport { getCurrencyPair, getQuoteToken, getStepsModalCurrentStep } from \"../../../../../state/selectors\";\nimport { getOrderbookAndUserOrders, submitLimitMatchingOrder } from \"../../../../../state/relayer/actions\";\nimport Web3 from \"web3\";\n\nconst web3 = new Web3(Web3.givenProvider || Web3.providers.HttpProvider(process.env.REACT_APP_NETWORK_URL));\n\nconst BuySellTokenMatchingStepContainer = (props) => {\n\tconst { account, library } = useActiveWeb3React();\n\tconst { step, onSubmitLimitMatchingOrder } = props;\n\tconst { amount, side, price } = step;\n\n\tconst submitOrder = async () => {\n\t\ttry {\n\t\t\tconst { txHash, amountInReturn } = await onSubmitLimitMatchingOrder(\n\t\t\t\tamount,\n\t\t\t\tprice,\n\t\t\t\tside,\n\t\t\t\taccount,\n\t\t\t\tweb3.currentProvider || window.ethereum\n\t\t\t);\n\t\t\tprops.onDone(txHash);\n\t\t\tprops.refreshOrders();\n\t\t} catch (e) {\n\t\t\tprops.onDismiss();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tsubmitOrder();\n\t}, [step, account]);\n\n\treturn <ConfirmationPendingContent onDismiss={props.onDismiss} pendingText={\"Waiting for confirmation\"} />;\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tstep: getStepsModalCurrentStep(state),\n\t\tcurrencyPair: getCurrencyPair(state),\n\t\tquoteToken: getQuoteToken(state),\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tonSubmitLimitMatchingOrder: (amount, price, side, account, library) =>\n\t\t\tdispatch(submitLimitMatchingOrder(amount, price, side, account, library)),\n\t\trefreshOrders: (account, library) => dispatch(getOrderbookAndUserOrders(account, library)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BuySellTokenMatchingStepContainer);\n","import { ConfirmationPendingContent } from \"../../../../../components/TransactionConfirmationModal\";\nimport React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { useActiveWeb3React } from \"../../../../../hooks\";\nimport { getCurrencyPair, getQuoteToken, getStepsModalCurrentStep } from \"../../../../../state/selectors\";\nimport { getOrderbookAndUserOrders, submitMarketOrder } from \"../../../../../state/relayer/actions\";\nimport Web3 from \"web3\";\n\nconst web3 = new Web3(Web3.givenProvider || Web3.providers.HttpProvider(process.env.REACT_APP_NETWORK_URL));\n\nconst BuySellTokenMatchingStepContainer = (props) => {\n\tconst { account, library } = useActiveWeb3React();\n\tconst { step, onSubmitMarketOrder } = props;\n\tconst { amount, side, context } = step;\n\n\tconst submitOrder = async () => {\n\t\ttry {\n\t\t\tif (context === \"order\") {\n\t\t\t\tconst { txHash, amountInReturn } = await onSubmitMarketOrder(\n\t\t\t\t\tamount,\n\t\t\t\t\tside,\n\t\t\t\t\taccount,\n\t\t\t\t\tweb3.currentProvider || window.ethereum\n\t\t\t\t);\n\t\t\t\tprops.onDone(txHash);\n\t\t\t\tprops.refreshOrders();\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tprops.onDismiss();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tsubmitOrder();\n\t}, [step, account]);\n\n\treturn <ConfirmationPendingContent onDismiss={props.onDismiss} pendingText={\"Waiting for confirmation\"} />;\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tstep: getStepsModalCurrentStep(state),\n\t\tcurrencyPair: getCurrencyPair(state),\n\t\tquoteToken: getQuoteToken(state),\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tonSubmitMarketOrder: (amount, side, account, library) =>\n\t\t\tdispatch(submitMarketOrder(amount, side, account, library)),\n\t\trefreshOrders: (account, library) => dispatch(getOrderbookAndUserOrders(account, library)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BuySellTokenMatchingStepContainer);\n","import { Modal } from \"../../../../components/Modal/bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { getStepsModalCurrentStep } from \"../../../../state/selectors\";\nimport { setStepsModalCurrentStep } from \"../../../../state/spotUI/actions\";\nimport { CHAIN_ID, StepKind } from \"../../../../constants\";\n\nimport UnlockToken from \"../../../Borrow/ModalProvider/modals/UnlockToken\";\nimport SignOrderStepContainer from \"./modals/SignOrderStepContainer\";\nimport BuySellTokenMatchingStepContainer from \"./modals/BuySellTokenMatchingStepContainer\";\nimport BuySellTokenStepContainer from \"./modals/BuySellTokenStepContainer\";\nimport React, { useState } from \"react\";\nimport { TransactionSubmittedContent } from \"../../../../components/TransactionConfirmationModal\";\n\nconst ModalProvider = (props) => {\n\tconst [submitted, setSubmitted] = useState(false);\n\tconst [txHash, setTxHash] = useState(null);\n\tconst currentStep = useSelector(getStepsModalCurrentStep);\n\tconst dispatch = useDispatch();\n\tconst isOpen = currentStep !== null;\n\n\tconst hideModal = () => {\n\t\tsetSubmitted(false);\n\t\tsetTxHash(null);\n\t\tdispatch(setStepsModalCurrentStep(null));\n\t};\n\n\tconst onDone = (tx) => {\n\t\tsetSubmitted(true);\n\t\tsetTxHash(tx);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{props.children}\n\t\t\t<Modal show={isOpen} centered onHide={hideModal}>\n\t\t\t\t<Modal.Body className={\"px-0 py-0\"}>\n\t\t\t\t\t{!submitted ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{currentStep && currentStep.kind === StepKind.ToggleTokenLock && (\n\t\t\t\t\t\t\t\t<UnlockToken onDismiss={hideModal} />\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{currentStep && currentStep.kind === StepKind.BuySellLimit && (\n\t\t\t\t\t\t\t\t<SignOrderStepContainer onDismiss={hideModal} onDone={onDone} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{currentStep && currentStep.kind === StepKind.BuySellLimitMatching && (\n\t\t\t\t\t\t\t\t<BuySellTokenMatchingStepContainer onDismiss={hideModal} onDone={onDone} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{currentStep && currentStep.kind === StepKind.BuySellMarket && (\n\t\t\t\t\t\t\t\t<BuySellTokenStepContainer onDismiss={hideModal} onDone={onDone} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<TransactionSubmittedContent chainId={CHAIN_ID} hash={txHash} onDismiss={hideModal} />\n\t\t\t\t\t)}\n\t\t\t\t</Modal.Body>\n\t\t\t</Modal>\n\t\t</>\n\t);\n};\n\nexport default ModalProvider;\n","import TradingViewWidget, { Themes } from \"react-tradingview-widget\";\nimport { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\n\nimport Page from \"../../components/Page\";\nimport CheckBalance from \"../../components/CheckBalance\";\nimport StyledCard, { ResponsiveCard } from \"../../components/Card\";\nimport marketTokens from \"../../constants/marketTokens.json\";\nimport MarketStats from \"./components/MarketStats\";\nimport MarketDetails from \"./components/MarketDetails\";\nimport Orderbook from \"./components/Orderbook\";\nimport Provider from \"./components/Provider\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport MarketFills from \"./components/MarketFills\";\nimport OrderHistory from \"./components/OrderHistory\";\nimport BuySell from \"./components/BuySell\";\nimport ModalProvider from \"./components/BuySell/ModalProvider\";\nimport { updateGasInfo } from \"../../state/currency/actions\";\n\nconst Row = styled.div`\n\tdisplay: ${({ justMobile }) => (justMobile ? \"none\" : \"flex\")};\n\tmargin-left: -5px;\n\tmargin-right: -5px;\n\n\t@media (max-width: 1400px) {\n\t\tflex-direction: column;\n\t\tdisplay: ${({ justDesktop }) => (justDesktop ? \"none\" : \"flex\")};\n\t}\n`;\nconst Col = styled.div`\n\tpadding: 0 5px;\n\tdisplay: flex;\n\tflex-direction: column;\n`;\n\nconst Card = styled(StyledCard)`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: stretch;\n\tmargin-bottom: 20px;\n\toverflow: hidden;\n\n\t& .card-body {\n\t\tpadding: 0;\n\t}\n\t@media (min-width: 1400px) {\n\t\tmargin-bottom: 10px;\n\t\twidth: 570px;\n\t\theight: 373px;\n\t}\n`;\n\nconst ContainerCard = styled(ResponsiveCard)`\n\tdisplay: flex;\n\tmargin-bottom: 20px;\n\n\t& .card-body {\n\t\tpadding: 30px;\n\t}\n\n\t@media (min-width: 1400px) {\n\t\twidth: 582px;\n\t\theight: 486px;\n\t\tmargin-bottom: 10px;\n\n\t\t& .card-body {\n\t\t\tpadding: 12px 20px 20px;\n\t\t\tdisplay: flex;\n\t\t}\n\t}\n`;\n\nconst Spot = (props) => {\n\tconst [pair, setPair] = useState(\"BINANCE:ETHDAI\");\n\tconst { baseToken, quoteToken } = useSelector((state) => state.spot);\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tif (!baseToken || !quoteToken) {\n\t\t\tsetPair(\"BINANCE:ETHDAI\");\n\t\t} else {\n\t\t\tconst quote =\n\t\t\t\tquoteToken && quoteToken.symbol.toLowerCase() === \"weth\" ? \"ETH\" : quoteToken.symbol.toUpperCase();\n\t\t\tconst base =\n\t\t\t\tbaseToken && baseToken.symbol.toLowerCase() === \"weth\" ? \"ETH\" : baseToken.symbol.toUpperCase();\n\t\t\tsetPair(`BINANCE:${base}${quote}`);\n\t\t}\n\t}, [baseToken, quoteToken]);\n\n\tuseEffect(() => {\n\t\tdispatch(updateGasInfo());\n\t}, [dispatch]);\n\n\treturn (\n\t\t<Page title={false} morePadding size={\"xl\"}>\n\t\t\t<Provider>\n\t\t\t\t<ModalProvider>\n\t\t\t\t\t<Row justDesktop>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<MarketStats />\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<MarketDetails isTradingGraphic={true} />\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<TradingViewWidget\n\t\t\t\t\t\t\t\t\tsymbol={pair}\n\t\t\t\t\t\t\t\t\ttheme={Themes.DARK}\n\t\t\t\t\t\t\t\t\tallow_symbol_change={false}\n\t\t\t\t\t\t\t\t\twidth={\"100%\"}\n\t\t\t\t\t\t\t\t\theight={373}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<ContainerCard>\n\t\t\t\t\t\t\t\t<Orderbook />\n\t\t\t\t\t\t\t\t<MarketFills />\n\t\t\t\t\t\t\t</ContainerCard>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row className={\"justify-content-end\"} justDesktop>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<OrderHistory />\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<BuySell />\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row justMobile>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<MarketDetails isMobile={true} isTradingGraphic={true} />\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<TradingViewWidget\n\t\t\t\t\t\t\t\t\tsymbol={pair}\n\t\t\t\t\t\t\t\t\ttheme={Themes.DARK}\n\t\t\t\t\t\t\t\t\tallow_symbol_change={false}\n\t\t\t\t\t\t\t\t\twidth={\"100%\"}\n\t\t\t\t\t\t\t\t\theight={528}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Col>\n\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<BuySell />\n\t\t\t\t\t\t</Col>\n\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<ContainerCard>\n\t\t\t\t\t\t\t\t<Orderbook isMobile={true} />\n\t\t\t\t\t\t\t</ContainerCard>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<ContainerCard>\n\t\t\t\t\t\t\t\t<MarketFills isMobile={true} />\n\t\t\t\t\t\t\t</ContainerCard>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<MarketStats isMobile={true} />\n\t\t\t\t\t\t</Col>\n\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<OrderHistory isMobile={true} />\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</ModalProvider>\n\t\t\t</Provider>\n\t\t</Page>\n\t);\n};\n\nexport default Spot;\n"],"sourceRoot":""}