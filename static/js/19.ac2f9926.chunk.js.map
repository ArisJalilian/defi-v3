{"version":3,"sources":["components/hoc/withWeb3Account.tsx","components/NumericalInput/index.tsx","hooks/useTokenToBalance.js","components/hoc/withBalance.js","components/BookOption/index.js","components/UI/Dropdown/index.js","assets/images/global/dropdown.svg","utils/spot/numberUtils.js","pages/Borrow/ModalProvider/modals/UnlockToken.js","../node_modules/react-feather/dist/icons/chevron-down.js","../node_modules/react-feather/dist/icons/alert-triangle.js","../node_modules/react-feather/dist/icons/arrow-up-circle.js","pages/Spot/components/MarketStats/index.js","pages/Spot/components/MarketDetails/index.js","pages/Spot/components/Orderbook/index.js","pages/Spot/components/Provider/index.js","pages/Spot/components/MarketFills/index.js","pages/Spot/components/OrderHistory/index.js","components/SpotInputPanel/index.js","components/OrderDetailsContainer/index.js","pages/Spot/components/BuySell/index.js","pages/Spot/components/BuySell/modals/SignOrderStepContainer.js","pages/Spot/components/BuySell/modals/BuySellTokenMatchingStepContainer.js","pages/Spot/components/BuySell/modals/BuySellTokenStepContainer.js","pages/Spot/components/BuySell/ModalProvider.js","pages/Spot/index.js"],"names":["withWeb3Account","Component","props","context","useActiveWeb3React","toggleWalletModal","useWalletModalToggle","web3","StyledInput","styled","input","error","theme","red1","text1","align","size","reverse","noBorder","modalBG","inputRegex","RegExp","Input","React","memo","value","onUserInput","placeholder","rest","onChange","event","nextUserInput","target","replace","test","escapeRegExp","inputMode","title","autoComplete","autoCorrect","type","pattern","minLength","maxLength","spellCheck","useSpotBalances","account","library","baseToken","useSelector","getBaseToken","quoteToken","getQuoteToken","knownTokens","useMemo","getKnownTokens","tokens","getTokens","wethToken","getWethToken","allBalances","address","useState","balances","setBalances","fetchBalances","a","tokensToTokenBalances","res","useEffect","length","useTokenToBalance","window","ethereum","ethBalance","useETHBalances","wethBalance","find","b","token","symbol","tokensBalance","filter","ethereumBalance","ETH","toExact","bn","BigNumber","currency","undefined","balance","totalEthBalance","total","plus","baseTokenBalance","searchToken","tokenBalances","wethTokenBalance","tokenToFind","quoteTokenBalance","withBalance","console","log","Wrapper","div","active","Cell","variant","BookOption","onClick","isSell","isBuy","Button","button","secondary2","primary","darken","ButtonText","span","DropdownList","isOpen","DropdownItem","Dropdown","items","setActive","open","setOpen","toggleModal","useCallback","changeActiveHandler","item","hasOwnProperty","src","require","default","map","i","bind","padRightSplitted","numBg","decimals","UI_DECIMALS_DISPLAYED_ORDER_SIZE","numBgToFixed","toFixed","numBgToString","toString","decimalPlaces","split","diff","num","isZero","UnlockToken","unlocking","setUnlocking","currentStep","getStepsModalCurrentStep","dispatch","useDispatch","unlockToken","getContractWrappers","getProvider","contractWrappers","approveAddress","contractAddresses","erc20Proxy","erc20Token","ERC20TokenContract","amount","UNLIMITED_ALLOWANCE_IN_BASE_UNITS","approve","sendTransactionAsync","from","tx","awaitTransactionSuccessAsync","stepsModalAdvanceStep","onDismiss","pendingText","_extends","Object","assign","arguments","source","key","prototype","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","ChevronDown","forwardRef","_ref","ref","_ref$color","color","_ref$size","createElement","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","points","propTypes","PropTypes","string","oneOfType","number","displayName","AlertTriangle","d","x1","y1","x2","y2","ArrowUpCircle","cx","cy","r","Card","ResponsiveCard","EmptyText","CustomInputGroup","InputGroup","TokenFiltersTabs","success","danger","TokenFiltersTab","Text","AutoHeight","lighten","withRouter","connect","state","spot","currencyPair","markets","marketsStats","marketsStatsState","relayer","changeMarket","query","setQuery","getMarketFilters","selectedFilter","setSelectedFilter","_setTokensFilterTab","changeQueryHandler","e","columns","dataField","text","formatter","cellContent","row","rowIndex","baseSymbol","formatTokenSymbol","base","toUpperCase","quoteSymbol","quote","_getLastPrice","marketStats","m","pair","marketToString","formatExtraData","market","marketStat","last_price","config","pricePrecision","rowEvents","newSearch","queryString","stringify","history","push","match","path","callback","_setSelectedMarket","ServerState","NotLoaded","className","Prepend","SearchIcon","alt","FormControl","id","index","filteredMarkets","filterMarketsByTokenSymbol","searchedMarkets","filterMarketsByString","bordered","classes","bootstrap4","keyField","remote","data","_getMarkets","Loading","isMobile","StyledCard","Logo","Img","highPrice","getCurrentMarketTodayHighPrice","lowerPrice","getCurrentMarketTodayLowerPrice","volume","getCurrentMarketTodayQuoteVolume","closedOrders","getCurrentMarketTodayClosedOrders","lastPrice","getCurrentMarketLastPrice","toAbsoluteUrl","icon","USE_RELAYER_MARKET_UPDATES","displayDecimals","tokenAmountInUnits","wrapperClasses","ResponsiveTable","breakpoint","direction","withoutBorder","Container","BookOptionType","StyledBookOption","HeaderRow","TitleRow","TableRow","Title","Result","TR","CustomHead","InnerTR","TH","SpreadTitle","SpreadTR","TD","TBody","depthItems","OrderToRow","_setOrderPriceSelected","order","orders","totalSize","ZERO","side","OrderSide","Buy","reduce","sumSize","sizeItem","price","lte","gte","onSetOrderBuyPriceSelected","onSetOrderSellPriceSelected","onSetOrderPriceSelected","onSetMakerAmountSelected","priceColor","mySizeOrders","basePrecision","mySize","mySizeItem","eq","mySizeConverted","isMySizeEmpty","numSplitted","parseFloat","OrderToRowContainer","orderPriceSelected","setOrderPriceSelected","setOrderBuyPriceSelected","setOrderSellPriceSelected","makerAmountSelected","setMakerAmountSelected","Orderbook","depth","defaultDepth","bookOption","_spreadRowScrollable","createRef","_spreadRowFixed","_itemsScroll","content","orderBook","absoluteSpread","percentageSpread","totalQuoteBuyOrders","totalBaseSellOrders","serverState","sellOrders","buyOrders","mySizeSellArray","Sell","mySizeBuyArray","getColor","spreadAbsFixed","spreadPercentFixed","UI_DECIMALS_DISPLAYED_SPREAD_PERCENT","totalBase","totalQuote","bookOptionState","handleBookOption","option","setState","Number","slice","count","userOrders","orderBookState","getOrderBook","getSpread","getSpreadInPercentage","getTotalQuoteBuyOrders","getTotalBaseSellOrders","getOrderbookState","Web3","givenProvider","Provider","_deactivatePollingUpdates","_updateStoreInterval","clearInterval","_updatePriceEtherInterval","_updatePriceTokensInterval","_updateERC20MarketsInterval","_activatePollingUpdates","onUpdateERC20Markets","onUpdateMarketPriceTokens","onUpdateMarketPriceEther","onUpdateMarketPriceQuote","onUpdateERC20Store","UI_UPDATE_CHECK_INTERVAL","setInterval","isActiveCheckUpdates","UPDATE_ETHER_PRICE_INTERVAL","UPDATE_TOKENS_PRICE_INTERVAL","UPDATE_ERC20_MARKETS","componentWillUnmount","render","children","updateMarketPriceEther","updateMarketPriceQuote","updateMarketPriceTokens","updateERC20Markets","updateERC20Store","TableContainer","marketFills","spotUI","marketFillsState","marketToStringFromTokens","tokenQuoteSymbol","isWeth","marketFill","amountBase","tokenBase","displayAmountBase","getCurrencyPairByTokensSymbol","tokenQuote","timestamp","toISOString","fillToRow","CardTitle","h4","Content","InnerContent","Close","CloseIcon","onCancelOrder","cancelOrder","ordersToShow","status","OrderStatus","Fillable","tokenBaseSymbol","sideLabel","filled","getCurrencyPairFromTokens","orderToRow","InputRow","flexRowNoWrap","Label","InputContainer","LabelRow","Aligner","InputPanel","flexColumnNoWrap","StyledTokenName","CurrencySelect","bg1","BalanceRow","SpotInputPanel","valueStr","valueFixedDecimals","_updateValue","newValue","unitsInTokenAmount","min","isLessThan","label","disable","selected","hideInput","showBalance","balanceText","style","padding","borderRadius","Boolean","NumericalInput","getDerivedStateFromProps","Row","OrderType","OrderDetails","makerFeeAmount","takerFeeAmount","makerFeeAssetData","NULL_BYTES","takerFeeAssetData","quoteTokenAmount","canOrderBeFilled","componentDidUpdate","prevProps","newProps","tokenPrice","orderType","tokenAmount","orderSide","_updateOrderDetailsState","onFetchTakerAndMakerFee","getTokenBySymbol","priceInQuoteBaseUnits","baseTokenAmountInUnits","toUnitAmount","multipliedBy","makerFee","takerFee","openSellOrders","openBuyOrders","buildMarketOrders","ordersToFill","amountToPayForEachOrder","firstOrderWithFees","o","sum","sumTakerAssetFillableOrders","_getCostStringForRender","costAmount","_getMedianPriceStringForRender","quoteTokenAmountUnits","baseTokenAmountUnits","priceDisplay","toFormat","_getCostLabelStringForRender","qouteInUSD","componentDidMount","cost","costText","priceMedianText","getOpenSellOrders","getOpenBuyOrders","getQuoteInUsd","fetchTakerAndMakerFee","QuoteContainer","TabsContainer","TabWrapper","Tab","DetailsContainer","MarketType","MarketButton","BuySell","makerAmount","tab","btnMsg","cardMsg","changeTab","updateMakerAmount","getAmountAvailableLabel","tokenBalanceAmount","baseBalanceString","quoteBalanceString","updatePrice","submit","minAmount","minAmountUnits","String","orderFeeData","IS_ORDER_LIMIT_MATCHING","onSubmitLimitOrderMatching","onSubmitLimitOrder","onSubmitMarketOrder","message","setTimeout","_reset","_switchToMarket","_switchToLimit","buySellInnerTabs","quoteDecimals","isWethQuote","isWethBase","quoteUnits","tokenAmountInUnitsToBigNumber","baseBalance","makerAmountUnits","isMakerAmountEmpty","isMakerAmountMin","isPriceEmpty","isPriceMin","pow","isOrderTypeLimitIsEmpty","isOrderTypeLimitOverflow","gt","isOrderTypeMarketIsEmpty","btnPrefix","btnText","disabled","OrderDetailsContainer","minWidth","marginTop","fontSize","fontWeight","getCurrencyPair","getOrderPriceSelected","getMakerAmountSelected","startBuySellLimitSteps","startBuySellLimitMatchingSteps","startBuySellMarketSteps","step","submitLimitOrder","signedOrder","createSignedOrder","submitOrder","onDone","onSubmitLimitMatchingOrder","submitLimitMatchingOrder","refreshOrders","getOrderbookAndUserOrders","txHash","amountInReturn","submitMarketOrder","ModalProvider","submitted","setSubmitted","setTxHash","hideModal","setStepsModalCurrentStep","Modal","show","centered","onHide","Body","chainId","CHAIN_ID","hash","kind","StepKind","ToggleTokenLock","BuySellLimit","BuySellLimitMatching","BuySellMarket","BuySellTokenStepContainer","justMobile","justDesktop","Col","ContainerCard","Spot","setPair","toLowerCase","updateGasInfo","Page","morePadding","isTradingGraphic","Themes","DARK","allow_symbol_change"],"mappings":"yIAceA,IAXS,SAACC,GACrB,OAAO,SAACC,GACJ,IAAMC,EAAUC,cACVC,EAAoBC,cAC1B,OAAO,cAACL,EAAD,aACHM,KAAMJ,EACNE,kBAAmBA,GACdH,O,ynCCNjB,IAAMM,EAAcC,UAAOC,MAAV,KACN,gBAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,MAAV,OAAuBD,EAAQC,EAAMC,KAAOD,EAAME,SAU7C,gBAAGC,EAAH,EAAGA,MAAH,OAAeA,GAASA,KAI5B,kBAAsB,OAAtB,EAAGC,KAA0B,OAAS,UAClB,qBAAGC,QAAwB,IAAH,cAC3B,qBAAGA,QAAwB,IAAH,cACtB,qBAAGA,QAAwB,WAAH,OAC3B,qBAAGA,QAAwB,WAAH,OAElC,gBAAGC,EAAH,EAAGA,SAAH,SAAaD,QAAwB,WAAaC,EAAW,WAAH,YAE3D,gBAAGN,EAAH,EAAGA,MAAH,SAAUM,SAA0B,OAAH,oBAA0BN,EAAMO,YAyB5EC,EAAaC,OAAO,0BAEbC,EAAQC,IAAMC,MAAK,YAayC,IAZvEC,EAYsE,EAZtEA,MACAC,EAWsE,EAXtEA,YACAC,EAUsE,EAVtEA,YACAX,EASsE,EATtEA,KACGY,EAQmE,4DAOtE,OACE,cAACpB,EAAD,2BACMoB,GADN,IAEEH,MAAOA,EACPI,SAAU,SAAAC,GAVG,IAACC,GACM,MADNA,EAYHD,EAAME,OAAOP,MAAMQ,QAAQ,KAAM,OAXlBb,EAAWc,KAAKC,YAAaJ,MACvDL,EAAYK,IAaZK,UAAU,UACVC,MAAM,eACNC,aAAa,MACbC,YAAY,MACZvB,KAAMA,EAENwB,KAAK,OACLC,QAAQ,sBACRd,YAAaA,GAAe,MAC5Be,UAAW,EACXC,UAAW,GACXC,WAAW,e,4JC9DJC,EAAkB,WAAO,IAAD,EACJzC,cAArB0C,EADyB,EACzBA,QAASC,EADgB,EAChBA,QAEXC,EAAYC,YAAYC,KACxBC,EAAaF,YAAYG,KAEzBC,EAAcC,mBAAQ,WACxB,OAAOC,gBACR,IACGC,EAASF,mBAAQ,WACnB,OAAOD,EAAYI,cACpB,IAEGC,EAAYJ,mBAAQ,WACtB,OAAOD,EAAYM,iBACpB,IAKGC,EA3CuB,SAACJ,EAAQK,EAASd,GAAa,IAAD,EAC3Be,mBAAS,IADkB,mBACpDC,EADoD,KAC1CC,EAD0C,KAGrDC,EAAa,uCAAG,4BAAAC,EAAA,0DACfL,EADe,gCAEIM,YAAsBX,EAAQK,EAASd,GAF3C,OAERqB,EAFQ,OAGdJ,EAAYI,GAHE,2CAAH,qDAUnB,OAJAC,qBAAU,WACNJ,MACD,CAACJ,EAASL,IAENF,mBAAQ,WACX,OAAGS,EAASO,OAAS,EACVP,EAEA,KAEZ,CAACF,EAASE,EAAUP,IAwBHe,CAHVjB,mBAAQ,WACd,MAAM,GAAN,mBAAWE,GAAX,CAAmBE,MACpB,CAACA,EAAWF,IAC0BV,EAAS0B,OAAOC,UAAY1B,GAE/D2B,EAAaC,YAAe,CAAC7B,IAE7B8B,EAActB,mBAAQ,WACxB,OAAOM,EAAYiB,MAAK,SAAAC,GAAC,OAAIA,EAAEC,MAAMC,SAAWtB,EAAUsB,YAC3D,CAACpB,IAEEqB,EAAgB3B,mBAAQ,WAC1B,OAAOM,EAAYsB,QAAO,SAAAJ,GAAC,OAAIA,EAAEC,MAAMC,SAAWtB,EAAUsB,YAC7D,CAACpB,IAEEuB,EAAkB7B,mBAAQ,WAC5B,IAAM8B,EAAMV,EAAW5B,GAAW4B,EAAW5B,GAASuC,UAAY,KAC5DC,EAAK,IAAIC,YAAUH,EAAG,SAAI,GAAM,KAEtC,MAAO,CACHL,MAAOL,EAAW5B,GAAW4B,EAAW5B,GAAS0C,cAAWC,EAC5DC,QAASJ,KAEd,CAACZ,IAEEiB,EAAkBrC,mBAAQ,WAC5B,GAAGsB,GAAeO,EAAiB,CAC/B,IAAIS,EAAQhB,EAAYc,QAKxB,YAJ6BD,IAA1BN,EAAgBJ,QACfa,EAAQT,EAAgBO,QAAQG,KAAKjB,EAAYc,UAG9CE,KAIZ,CAACT,EAAiBP,IAEfkB,EAAmBxC,mBAAQ,WAE7B,OAAOyC,YAAY,CAAEC,cAAef,EAAegB,iBAAkBrB,EAAasB,YAAalD,MAChG,CAACA,EAAWiC,EAAeL,IAExBuB,EAAoB7C,mBAAQ,WAE9B,OAAOyC,YAAY,CAAEC,cAAef,EAAegB,iBAAkBrB,EAAasB,YAAa/C,MAChG,CAACA,EAAY8B,EAAeL,IAE/B,OAAOtB,mBAAQ,WACX,MAAO,CACH6C,oBACAL,mBACAH,kBACAjB,WAAYS,EACZP,cACAK,mBAEL,CAACnC,EAASE,EAAWG,EAAYS,EAAakC,EAAkBK,KCzFxDC,IAdK,SAAAnG,GAChB,OAAO,SAAAC,GACH,IAAM6D,EAAWlB,IAEjB,OADAwD,QAAQC,IAAIvC,GAER,cAAC9D,EAAD,2BACQC,GACA6D,O,2oBCRpB,IAAMwC,EAAU9F,UAAO+F,IAAV,KAYA,qBAAGC,OAAsB,IAAM,SAItCC,EAAOjG,UAAO+F,IAAV,KAIY,gBAAG5F,EAAH,EAAGA,MAAO+F,EAAV,EAAUA,QAAV,OAAwBA,EAAU/F,EAAM+F,GAAW,aAiB1DC,IAVI,SAAA1G,GACf,OACI,eAACqG,EAAD,yBAASE,OAAQvG,EAAMuG,OAAQI,QAAS3G,EAAM2B,UAAc3B,GAA5D,cACI,cAACwG,EAAD,CAAMC,QAASzG,EAAM4G,QAAU,WAC/B,cAACJ,EAAD,IACA,cAACA,EAAD,CAAMC,QAASzG,EAAM6G,OAAS,kB,iqEC7B1C,IAAMR,EAAU9F,UAAO+F,IAAV,KAMPQ,EAASvG,UAAOwG,OAAV,KACA,kBAAuB,OAAvB,EAAGjG,KAA2B,OAAS,UACjC,kBAAuB,OAAvB,EAAGA,KAA2B,OAAS,UACtC,kBAAuB,OAAvB,EAAGA,KAA2B,OAAS,UACvC,kBAAuB,OAAvB,EAAGA,KAA2B,OAAS,UACpC,kBAA2B,cAA3B,EAAE2F,QAAuC,4BAA8B,+BAKlF,gBAAEA,EAAF,EAAEA,QAAS/F,EAAX,EAAWA,MAAX,MAAkC,cAAZ+F,EAA0B/F,EAAMsG,WAAatG,EAAMuG,WAI5D,gBAAER,EAAF,EAAEA,QAAS/F,EAAX,EAAWA,MAAX,MAAkC,cAAZ+F,EAA0B/F,EAAMsG,WAAatG,EAAMuG,WAOzE,gBAAER,EAAF,EAAEA,QAAS/F,EAAX,EAAWA,MAAX,MAAkC,cAAZ+F,EAA0BS,YAAO,GAAKxG,EAAMsG,YAAcE,YAAO,GAAKxG,EAAMuG,YAC9F,kBAA2B,cAA3B,EAAER,QAAuC,4BAA8B,+BAc7FU,EAAa5G,UAAO6G,KAAV,KAYVC,EAAe9G,UAAO+F,IAAV,KAST,kBAAqB,OAArB,EAAExF,KAAU,iBAER,kBAAqB,OAArB,EAAEA,KAAU,iBAIV,qBAAEwG,OAAkB,0DACtB,qBAAEA,OAAkB,WACjB,qBAAEA,OAAkB,sBAQ9BC,EAAehH,UAAOwG,OAAV,KAuBG,kBAAqB,OAArB,EAAEjG,KAAU,iBAqClB0G,IAjCE,SAAAxH,GAAU,IAAD,EACM4D,mBAAS5D,EAAMyH,MAAMzH,EAAMuG,SAAW,MAD5C,mBACfA,EADe,KACPmB,EADO,OAEE9D,oBAAS,GAFX,mBAEf+D,EAFe,KAETC,EAFS,KAIhBC,EAAcC,uBAAY,WAC5BF,GAAQ,SAAAD,GAAI,OAAKA,OAClB,IAEGI,EAAsBD,uBAAY,SAACE,GACrCN,EAAUM,GACVJ,GAAQ,GACL5H,EAAMiI,eAAe,aACpBjI,EAAM2B,SAASqG,EAAKzG,SAEzB,CAACvB,EAAM2B,WAEV,OACI,eAAC0E,EAAD,WACI,eAACS,EAAD,CAAQL,QAASzG,EAAMyG,QAASE,QAASkB,EAAaP,OAAQK,EAAM7G,KAAMd,EAAMc,MAAQ,KAAxF,UACI,cAACqG,EAAD,UAAaZ,EAASA,EAAOpE,MAAQnC,EAAMyB,aAAe,WAC1D,cAAC,IAAD,CAAKyG,IAAKC,EAAQ,MAA8CC,aAEpE,cAACf,EAAD,CAAcC,OAAQK,EAAM7G,KAAMd,EAAMc,MAAQ,KAAhD,SACKd,EAAMyH,MAAMY,KAAI,SAACL,EAAMM,GACpB,OACI,cAACf,EAAD,CAAczG,KAAM,KAAM6F,QAASoB,EAAoBQ,K,UAAWP,GAAlE,SAAgGA,EAAK7F,OAArG,mBAA0FmG,c,kCCxIlH,OAAe,cAA0B,sC,kCCAzC,6CAEaE,EAAmB,SAC5BC,GAEE,IADFC,EACC,uDADUC,KAELC,EAAeH,EAAMI,QAAQH,GAC7BI,EAAgBL,EAAMM,WAEtBC,GAAiBF,EAAcG,MAAM,KAAK,IAAM,IAAI7E,OAEtD8E,EAAO,GACPC,EAAMP,EAMV,OALKH,EAAMW,UAAYJ,EAAgBN,IACnCQ,EAAON,EAAa7G,QAAQ+G,EAAe,IAC3CK,EAAML,GAGH,CACHK,MACAD,U,wJCkCOG,IA3CK,SAAArJ,GAAU,IAAD,EACS4D,oBAAS,GADlB,mBAClB0F,EADkB,KACPC,EADO,OAEIrJ,cAArB0C,EAFiB,EAEjBA,QACF4G,GAHmB,EAER3G,QACGE,YAAY0G,MACxB9F,EAAmB6F,EAAnB7F,QAASkB,EAAU2E,EAAV3E,MACXxE,EAAOL,EAAMK,KACbqJ,EAAWC,cAEXC,EAAW,uCAAG,oCAAA5F,EAAA,+EAGmB6F,YAAoBxJ,EAAKyJ,eAH5C,cAGNC,EAHM,OAINC,EAAiBrG,GAAoBoG,EAAiBE,kBAAkBC,WAExEC,EAAa,IAAIC,qBAAmBvF,EAAMlB,QAASoG,EAAiBD,eACpEO,EAASC,KAPH,SASKH,EAAWI,QAAQP,EAAgBK,GAAQG,qBAAqB,CAC7EC,KAAM7H,IAVE,cASN8H,EATM,OAYZnB,GAAa,GAZD,UAaNlJ,EAAKsK,6BAA6BD,GAb5B,QAeTA,IACCnB,GAAa,GACbG,EAASkB,gBAjBD,kDAqBZrB,GAAa,GACbvJ,EAAM6K,YAtBM,0DAAH,qDA8BjB,OAJA1G,qBAAU,WACNyF,MACD,CAACJ,IAGA,cAAC,IAAD,CAA4BqB,UAAWvB,EAAY,kBAAM,MAAOtJ,EAAM6K,UAAWC,YAAaxB,EAAY,YAAc,+B,kCClDhI,8CAASyB,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUnJ,GAAU,IAAK,IAAIwG,EAAI,EAAGA,EAAI4C,UAAU9G,OAAQkE,IAAK,CAAE,IAAI6C,EAASD,UAAU5C,GAAI,IAAK,IAAI8C,KAAOD,EAAcH,OAAOK,UAAUpD,eAAeqD,KAAKH,EAAQC,KAAQtJ,EAAOsJ,GAAOD,EAAOC,IAAY,OAAOtJ,IAA2ByJ,MAAMC,KAAMN,WAEhT,SAASO,EAAyBN,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,GAAI,IAAkEC,EAAK9C,EAAnExG,EAEzF,SAAuCqJ,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,GAAI,IAA2DC,EAAK9C,EAA5DxG,EAAS,GAAQ6J,EAAaX,OAAOY,KAAKT,GAAqB,IAAK7C,EAAI,EAAGA,EAAIqD,EAAWvH,OAAQkE,IAAO8C,EAAMO,EAAWrD,GAAQoD,EAASG,QAAQT,IAAQ,IAAatJ,EAAOsJ,GAAOD,EAAOC,IAAQ,OAAOtJ,EAFxMgK,CAA8BX,EAAQO,GAAuB,GAAIV,OAAOe,sBAAuB,CAAE,IAAIC,EAAmBhB,OAAOe,sBAAsBZ,GAAS,IAAK7C,EAAI,EAAGA,EAAI0D,EAAiB5H,OAAQkE,IAAO8C,EAAMY,EAAiB1D,GAAQoD,EAASG,QAAQT,IAAQ,GAAkBJ,OAAOK,UAAUY,qBAAqBX,KAAKH,EAAQC,KAAgBtJ,EAAOsJ,GAAOD,EAAOC,IAAU,OAAOtJ,EAMne,IAAIoK,EAAcC,sBAAW,SAAUC,EAAMC,GAC3C,IAAIC,EAAaF,EAAKG,MAClBA,OAAuB,IAAfD,EAAwB,eAAiBA,EACjDE,EAAYJ,EAAKtL,KACjBA,OAAqB,IAAd0L,EAAuB,GAAKA,EACnC9K,EAAO+J,EAAyBW,EAAM,CAAC,QAAS,SAEpD,OAAoB/K,IAAMoL,cAAc,MAAO1B,EAAS,CACtDsB,IAAKA,EACLK,MAAO,6BACPC,MAAO7L,EACP8L,OAAQ9L,EACR+L,QAAS,YACTC,KAAM,OACNC,OAAQR,EACRS,YAAa,IACbC,cAAe,QACfC,eAAgB,SACfxL,GAAoBL,IAAMoL,cAAc,WAAY,CACrDU,OAAQ,uBAGZjB,EAAYkB,UAAY,CACtBb,MAAOc,IAAUC,OACjBxM,KAAMuM,IAAUE,UAAU,CAACF,IAAUC,OAAQD,IAAUG,UAEzDtB,EAAYuB,YAAc,cACXvB,O,kCCnCf,8CAASnB,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUnJ,GAAU,IAAK,IAAIwG,EAAI,EAAGA,EAAI4C,UAAU9G,OAAQkE,IAAK,CAAE,IAAI6C,EAASD,UAAU5C,GAAI,IAAK,IAAI8C,KAAOD,EAAcH,OAAOK,UAAUpD,eAAeqD,KAAKH,EAAQC,KAAQtJ,EAAOsJ,GAAOD,EAAOC,IAAY,OAAOtJ,IAA2ByJ,MAAMC,KAAMN,WAEhT,SAASO,EAAyBN,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,GAAI,IAAkEC,EAAK9C,EAAnExG,EAEzF,SAAuCqJ,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,GAAI,IAA2DC,EAAK9C,EAA5DxG,EAAS,GAAQ6J,EAAaX,OAAOY,KAAKT,GAAqB,IAAK7C,EAAI,EAAGA,EAAIqD,EAAWvH,OAAQkE,IAAO8C,EAAMO,EAAWrD,GAAQoD,EAASG,QAAQT,IAAQ,IAAatJ,EAAOsJ,GAAOD,EAAOC,IAAQ,OAAOtJ,EAFxMgK,CAA8BX,EAAQO,GAAuB,GAAIV,OAAOe,sBAAuB,CAAE,IAAIC,EAAmBhB,OAAOe,sBAAsBZ,GAAS,IAAK7C,EAAI,EAAGA,EAAI0D,EAAiB5H,OAAQkE,IAAO8C,EAAMY,EAAiB1D,GAAQoD,EAASG,QAAQT,IAAQ,GAAkBJ,OAAOK,UAAUY,qBAAqBX,KAAKH,EAAQC,KAAgBtJ,EAAOsJ,GAAOD,EAAOC,IAAU,OAAOtJ,EAMne,IAAI4L,EAAgBvB,sBAAW,SAAUC,EAAMC,GAC7C,IAAIC,EAAaF,EAAKG,MAClBA,OAAuB,IAAfD,EAAwB,eAAiBA,EACjDE,EAAYJ,EAAKtL,KACjBA,OAAqB,IAAd0L,EAAuB,GAAKA,EACnC9K,EAAO+J,EAAyBW,EAAM,CAAC,QAAS,SAEpD,OAAoB/K,IAAMoL,cAAc,MAAO1B,EAAS,CACtDsB,IAAKA,EACLK,MAAO,6BACPC,MAAO7L,EACP8L,OAAQ9L,EACR+L,QAAS,YACTC,KAAM,OACNC,OAAQR,EACRS,YAAa,IACbC,cAAe,QACfC,eAAgB,SACfxL,GAAoBL,IAAMoL,cAAc,OAAQ,CACjDkB,EAAG,6FACYtM,IAAMoL,cAAc,OAAQ,CAC3CmB,GAAI,KACJC,GAAI,IACJC,GAAI,KACJC,GAAI,OACW1M,IAAMoL,cAAc,OAAQ,CAC3CmB,GAAI,KACJC,GAAI,KACJC,GAAI,QACJC,GAAI,WAGRL,EAAcN,UAAY,CACxBb,MAAOc,IAAUC,OACjBxM,KAAMuM,IAAUE,UAAU,CAACF,IAAUC,OAAQD,IAAUG,UAEzDE,EAAcD,YAAc,gBACbC,O,kCC7Cf,8CAAS3C,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUnJ,GAAU,IAAK,IAAIwG,EAAI,EAAGA,EAAI4C,UAAU9G,OAAQkE,IAAK,CAAE,IAAI6C,EAASD,UAAU5C,GAAI,IAAK,IAAI8C,KAAOD,EAAcH,OAAOK,UAAUpD,eAAeqD,KAAKH,EAAQC,KAAQtJ,EAAOsJ,GAAOD,EAAOC,IAAY,OAAOtJ,IAA2ByJ,MAAMC,KAAMN,WAEhT,SAASO,EAAyBN,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,GAAI,IAAkEC,EAAK9C,EAAnExG,EAEzF,SAAuCqJ,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,GAAI,IAA2DC,EAAK9C,EAA5DxG,EAAS,GAAQ6J,EAAaX,OAAOY,KAAKT,GAAqB,IAAK7C,EAAI,EAAGA,EAAIqD,EAAWvH,OAAQkE,IAAO8C,EAAMO,EAAWrD,GAAQoD,EAASG,QAAQT,IAAQ,IAAatJ,EAAOsJ,GAAOD,EAAOC,IAAQ,OAAOtJ,EAFxMgK,CAA8BX,EAAQO,GAAuB,GAAIV,OAAOe,sBAAuB,CAAE,IAAIC,EAAmBhB,OAAOe,sBAAsBZ,GAAS,IAAK7C,EAAI,EAAGA,EAAI0D,EAAiB5H,OAAQkE,IAAO8C,EAAMY,EAAiB1D,GAAQoD,EAASG,QAAQT,IAAQ,GAAkBJ,OAAOK,UAAUY,qBAAqBX,KAAKH,EAAQC,KAAgBtJ,EAAOsJ,GAAOD,EAAOC,IAAU,OAAOtJ,EAMne,IAAIkM,EAAgB7B,sBAAW,SAAUC,EAAMC,GAC7C,IAAIC,EAAaF,EAAKG,MAClBA,OAAuB,IAAfD,EAAwB,eAAiBA,EACjDE,EAAYJ,EAAKtL,KACjBA,OAAqB,IAAd0L,EAAuB,GAAKA,EACnC9K,EAAO+J,EAAyBW,EAAM,CAAC,QAAS,SAEpD,OAAoB/K,IAAMoL,cAAc,MAAO1B,EAAS,CACtDsB,IAAKA,EACLK,MAAO,6BACPC,MAAO7L,EACP8L,OAAQ9L,EACR+L,QAAS,YACTC,KAAM,OACNC,OAAQR,EACRS,YAAa,IACbC,cAAe,QACfC,eAAgB,SACfxL,GAAoBL,IAAMoL,cAAc,SAAU,CACnDwB,GAAI,KACJC,GAAI,KACJC,EAAG,OACY9M,IAAMoL,cAAc,WAAY,CAC/CU,OAAQ,oBACO9L,IAAMoL,cAAc,OAAQ,CAC3CmB,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,UAGRC,EAAcZ,UAAY,CACxBb,MAAOc,IAAUC,OACjBxM,KAAMuM,IAAUE,UAAU,CAACF,IAAUC,OAAQD,IAAUG,UAEzDQ,EAAcP,YAAc,gBACbO,O,ypFCtBf,IAAMI,EAAO7N,kBAAO8N,IAAP9N,CAAH,KAqBJ+N,EAAY/N,UAAO6G,KAAV,KAOTmH,EAAmBhO,kBAAOiO,IAAPjO,CAAH,KAyBhBkO,GALclO,UAAO6G,KAAV,KACJ,SAAApH,GAAK,OAAIA,EAAMuB,MAAQ,EAAIvB,EAAMU,MAAMgO,QAAU1O,EAAMuB,MAAQ,EAAIvB,EAAMU,MAAMiO,OAAS,8BAI5EpO,UAAO+F,IAAV,MAMhBsI,EAAkBrO,UAAOwG,OAAV,KAGV,gBAAGR,EAAH,EAAGA,OAAQ7F,EAAX,EAAWA,MAAX,OAAuB6F,EAAS7F,EAAMuG,QAAUvG,EAAME,SAa3DiO,EAAOtO,UAAO6G,KAAV,KACC,gBAAE1G,EAAF,EAAEA,MAAO+F,EAAT,EAASA,QAAT,OAAsBA,EAAU/F,EAAM+F,GAAW/F,EAAME,SAM5DkO,EAAavO,UAAO+F,IAAV,KA8BE,qBAAG5F,MAAkBE,SAQrB,gBAAGF,EAAH,EAAGA,MAAH,OAAeqO,YAAQ,IAAMrO,EAAME,UAkMtCoO,cAAWC,aAjBF,SAACC,GACrB,MAAO,CACHpM,UAAWoM,EAAMC,KAAKrM,UACtBsM,aAAcF,EAAMC,KAAKC,aACzBC,QAASH,EAAMC,KAAKE,QACpBpM,WAAYiM,EAAMC,KAAKlM,WACvBqM,aAAcJ,EAAMC,KAAKG,aACzBC,kBAAmBL,EAAMM,QAAQD,sBAId,SAAC7F,GACxB,MAAO,CACH+F,aAAc,SAACL,GAAD,OAAkB1F,EAAS+F,YAAaL,QAIpCH,EA7LN,SAAAjP,GAAU,IAAD,EACIE,cAArB0C,EADiB,EACjBA,QAASC,EADQ,EACRA,QADQ,EAECe,mBAAS,IAFV,mBAElB8L,EAFkB,KAEXC,EAFW,OAGmB/L,mBAASgM,cAAmB,IAH/C,mBAGlBC,EAHkB,KAGFC,EAHE,KAIjBhN,EAAoE9C,EAApE8C,UAAWG,EAAyDjD,EAAzDiD,WAAYoM,EAA6CrP,EAA7CqP,QAASC,EAAoCtP,EAApCsP,aAAcC,EAAsBvP,EAAtBuP,kBAsBhDQ,EAAsB,SAAC/K,GACzB8K,EAAkB9K,IAehBgL,EAAqBlI,uBAAY,SAACmI,GACpCN,EAASM,EAAEnO,OAAOP,SACnB,IAEG2O,EAAU,CACZ,CACIC,UAAW,SACXC,KAAM,SACNC,UAAW,SAACC,EAAaC,EAAKC,GAC1B,IAAMC,EAAaC,YAAkBH,EAAInB,aAAauB,MAAMC,cACtDC,EAAcH,YAAkBH,EAAInB,aAAa0B,OAAOF,cAC9D,OACI,eAAC/B,EAAD,WACK4B,EADL,MACoBI,OAKhC,CACIV,UAAW,QACXC,KAAM,aACNC,UAAW,SAACC,EAAaC,EAAKC,EAAnB,GAAkE,IAAnCO,EAAkC,EAAlCA,cAAezB,EAAmB,EAAnBA,aAC/C0B,EACF1B,GACAA,EAAa3K,MAAK,SAAAsM,GAAC,OAAIA,EAAEC,KAAKN,gBAAkBO,YAAeZ,EAAInB,iBACvE,OACI,cAACP,EAAD,UACKkC,EAAcR,EAAKS,MAIhCI,gBAAiB,CACbL,cApEU,SAACM,EAAQC,GAC3B,OAAIA,GAAcA,EAAWC,WAClB,IAAIlM,YAAUiM,EAAWC,YAAY1I,QAAQwI,EAAOjC,aAAaoC,OAAOC,gBAG5E,KAgECnC,kBAMNoC,EAAY,CACd/K,QAAS,SAACsJ,EAAGM,IApDU,SAACnB,EAAcxM,EAASC,IAC9B,SAACuM,GACd,IAAMuC,EAAYC,IAAYC,UAAU,CACpClB,KAAMvB,EAAauB,KACnBG,MAAO1B,EAAa0B,QAExB9Q,EAAM8R,QAAQC,KAAd,UAAsB/R,EAAMgS,MAAMC,KAAlC,YAA0CN,IAE9CO,CAAS9C,GACTpP,EAAMyP,aAAaL,EAAcxM,EAASC,GA4CtCsP,CAAmB5B,EAAInB,aAAcxM,EAASC,KAkCtD,OAAIC,GAAcG,GAAcsM,IAAsB6C,KAAYC,UAQtDvP,GAAcG,EAQdoM,GAAYC,EAWpB,eAAC,EAAD,WACI,eAACf,EAAD,CAAkB+D,UAAW,SAA7B,UACI,cAAC9D,EAAA,EAAW+D,QAAZ,UACI,cAAC/D,EAAA,EAAWK,KAAZ,UACI,qBAAK3G,IAAKsK,IAAYC,IAAI,eAGlC,cAACC,EAAA,EAAD,CAAaC,GAAG,cAAclR,YAAY,SAASE,SAAUqO,OAGjE,cAACvB,EAAD,CAAkB6D,UAAW,oDAA7B,SACK1C,cAAmBvH,KAAI,SAACrD,EAAQ4N,GAC7B,OACI,cAAChE,EAAD,CACIrI,OAAQvB,IAAW6K,EAEnBlJ,QAASoJ,EAAoBxH,K,UAAWvD,GAH5C,SAKKA,EAAOoL,MAHHwC,QAvET,WAAO,IACf9P,EAAuB9C,EAAvB8C,UAAWuM,EAAYrP,EAAZqP,QAEnB,IAAKvM,IAAcuM,EACf,OAAO,KAGX,IAAMwD,EACgB,MAAlBhD,GAAmD,OAAzBA,EAAetO,MACnC8N,EACAyD,YAA2BzD,EAASQ,EAAetO,OACvDwR,EAAkBC,YAAsBH,EAAiBnD,GAE/D,OACI,cAACZ,EAAD,UACI,cAAC,IAAD,CACImE,UAAU,EACVC,QAAQ,qGACRC,YAAU,EACVC,SAAU,KACVC,QAAM,EACN3B,UAAWA,EACX4B,KAA0B,OAApBP,EAA2B,GAAKA,EACtC7C,QAASA,MAwDhBqD,MAhCD,cAAC,EAAD,UACI,qBAAKjB,UAAU,+DAAf,SACI,cAACkB,EAAA,EAAD,CAAS7G,MAAO,GAAIC,OAAQ,GAAI+F,GAAE,gCAA2B3S,EAAMyT,SAAW,SAAW,WAAalN,QAAM,QAVpH,cAAC,EAAD,UACI,qBAAK+L,UAAU,+DAAf,SACI,cAAChE,EAAD,qDAVR,cAAC,EAAD,UACI,qBAAKgE,UAAU,+DAAf,SACI,cAACkB,EAAA,EAAD,CAAS7G,MAAO,GAAIC,OAAQ,GAAI+F,GAAE,gBAAW3S,EAAMyT,SAAW,SAAW,WAAalN,QAAM,Y,u0BCnPhH,IAAM6H,GAAO7N,kBAAOmT,IAAPnT,CAAH,KAqBJoT,GAAOpT,kBAAOqT,IAAPrT,CAAH,KAcJsO,GAAOtO,UAAO6G,KAAV,KACC,gBAAE1G,EAAF,EAAEA,MAAO+F,EAAT,EAASA,QAAT,OAAsBA,EAAU/F,EAAM+F,GAAW/F,EAAME,SAyJnDqO,gBAnBS,SAACC,GACrB,MAAO,CACHpM,UAAWoM,EAAMC,KAAKrM,UACtBsM,aAAcF,EAAMC,KAAKC,aACzBnM,WAAYiM,EAAMC,KAAKlM,WACvB4Q,UAAWC,YAA+B5E,GAC1C6E,WAAYC,YAAgC9E,GAC5C+E,OAAQC,YAAiChF,GACzCiF,aAAcC,YAAkClF,GAChDmF,UAAWC,YAA0BpF,OAIlB,SAACxF,GACxB,MAAO,CACH+F,aAAc,SAACL,GAAD,OAAkB1F,EAAS+F,YAAaL,QAI/CH,EApJO,SAAAjP,GAAU,IACpB8C,EAAwC9C,EAAxC8C,UAAWG,EAA6BjD,EAA7BiD,WAAYmM,EAAiBpP,EAAjBoP,aAIzB4B,EAAc,CAChB6C,UAH+D7T,EAA3D6T,UAIJE,WAJ+D/T,EAAhD+T,WAKfE,OAL+DjU,EAApCiU,OAM3BE,aAN+DnU,EAA5BmU,aAOnCE,UAP+DrU,EAAdqU,WAW/CnE,EAAU,CACZ,CACIC,UAAW,UACXC,KAAM,UACNC,UAAW,SAACC,EAAaC,EAAKC,GAC1B,OACI,qBAAK8B,UAAU,4BAAf,SACI,cAACqB,GAAD,CAAMzL,IAAKqM,YAAc,IAAD,OAAKhE,EAAIzN,UAAU0R,aAK3D,CACIrE,UAAW,aACXC,KAAM,aACNC,UAAW,SAACC,EAAaC,EAAKC,GAC1B,IAAM6D,EAAY9D,EAAIS,YAAYqD,UAC5B,IAAIhP,YAAUkL,EAAIS,YAAYqD,WAAWxL,QAAQ0H,EAAInB,aAAaoC,OAAOC,gBACzE,IACN,OACI,cAAC,GAAD,UAAO4C,MAInB,CACIlE,UAAW,YACXC,KAAM,UACNC,UAAW,SAACC,EAAaC,EAAKC,GAC1B,OACI,cAAC,GAAD,UACMD,EAAIS,YAAY6C,WAAatD,EAAIS,YAAY6C,UAAUhL,QAAQ0H,EAAInB,aAAaoC,OAAOC,iBAAoB,QAK7H,CACItB,UAAW,YACXC,KAAM,UACNC,UAAW,SAACC,EAAaC,EAAKC,GAC1B,OACI,cAAC,GAAD,UACMD,EAAIS,YAAY+C,YAAcxD,EAAIS,YAAY+C,WAAWlL,QAAQ,IAAO,QAK1F,CACIsH,UAAW,SACXC,KAAM,aACNC,UAAW,SAACC,EAAaC,EAAKC,GAE1B,IAAIyD,EAgBJ,OAdIA,EADAQ,KAEKlE,EAAIS,YAAYiD,QAAhB,UACM1D,EAAIS,YAAYiD,OAAOpL,QAAQ0H,EAAItN,WAAWyR,iBADpD,YACwEhE,YAAkBH,EAAItN,WAAW6B,UAC1G,KAGCyL,EAAIS,YAAYiD,QAAhB,UACMU,YACCpE,EAAIS,YAAYiD,OAChB1D,EAAItN,WAAWyF,SACf6H,EAAItN,WAAWyR,iBACjB3L,WALL,YAKmB2H,YAAkBH,EAAItN,WAAW6B,UACrD,KAGJ,cAAC,GAAD,UACKmP,MAKjB,CACI9D,UAAW,gBACXC,KAAM,gBACNC,UAAW,SAACC,EAAaC,EAAKC,GAC1B,OACI,cAAC,GAAD,UACKD,EAAIS,YAAYmD,cAAgB,SAOrD,OAAIrR,GAAcG,EAYd,eAAC,GAAD,WACI,cAAC,IAAD,CACI2R,eAAe,oBACf3B,UAAU,EACVC,QAAQ,uGACRC,YAAU,EACVC,SAAU,KACVC,QAAM,EACNC,KAAM,CAAC,CAACtC,cAAalO,YAAWG,aAAYmM,iBAC5Cc,QAASA,IAEb,cAAC2E,EAAA,EAAD,CAAiBC,WAAY,KAAM5E,QAASA,EAASoD,KAAM,CAAC,CAACtC,cAAalO,YAAWG,aAAYmM,iBAAgB2F,UAAW,MAAOC,eAAa,OArBhJ,cAAC,GAAD,UACI,qBAAK1C,UAAU,+DAAf,SACI,cAACkB,EAAA,EAAD,CAAS7G,MAAO,GAAIC,OAAQ,GAAI+F,GAAE,gCAA2B3S,EAAMyT,SAAW,SAAW,WAAalN,QAAM,W,yvHCjJhI,IAAM0O,GAAY1U,UAAO+F,IAAV,MAUTgI,GAAY/N,UAAO6G,KAAV,MAMT8N,GACW,EADXA,GAEQ,EAFRA,GAGO,EAGPC,GAAmB5U,kBAAOmG,KAAPnG,CAAH,MAMhB6U,GAAY7U,UAAO+F,IAAV,MAOT+O,GAAW9U,UAAO+F,IAAV,MAQRgP,GAAW/U,UAAO+F,IAAV,MAYRiP,GAAQhV,UAAO6G,KAAV,MAYLoO,GAASjV,UAAO6G,KAAV,MAMNqO,GAAKlV,UAAO+F,IAAV,MAgBFoP,GAAanV,kBAAOkV,GAAPlV,CAAH,MAIVoV,GAAUpV,kBAAOkV,GAAPlV,CAAH,MAoBPqV,GAAKrV,UAAO6G,KAAV,MAOFyO,GAActV,UAAO6G,KAAV,MAOX0O,GAAWvV,kBAAOmV,GAAPnV,CAAH,MAKRwV,GAAKxV,UAAO6G,KAAV,MACG,gBAAG1G,EAAH,EAAGA,MAAO+F,EAAV,EAAUA,QAAV,OAAwBA,EAAU/F,EAAM+F,GAAW,WAMxDuP,GAAQzV,UAAO+F,IAAV,MA+BO,qBAAG5F,MAAkBE,SAQrB,gBAAGF,EAAH,EAAGA,MAAH,OAAeqO,YAAQ,IAAMrO,EAAME,UAI/CqV,GAAa,CACf,CACI1U,MAAO,EACPY,MAAO,KAEX,CACIZ,MAAO,GACPY,MAAO,MAEX,CACIZ,MAAO,GACPY,MAAO,MAEX,CACIZ,MAAO,GACPY,MAAO,OAIT+T,G,+MAmCFC,uB,yCAAyB,WAAOrV,GAAP,sBAAAkD,EAAA,2DACK,EAAKhE,MAAvBoW,EADa,EACbA,MAAOC,EADM,EACNA,OACXC,EAAYC,KAEZD,EADAF,EAAMI,OAASC,IAAUC,IACbL,EAAOM,QAAO,SAACC,EAASC,GAChC,OAAIT,EAAMU,MAAMC,IAAIF,EAASC,OAClBF,EAAQjR,KAAKkR,EAAS/V,MAE1B8V,IACRL,MAESF,EAAOM,QAAO,SAACC,EAASC,GAChC,OAAIT,EAAMU,MAAME,IAAIH,EAASC,OAClBF,EAAQjR,KAAKkR,EAAS/V,MAE1B8V,IACRL,MAEHH,EAAMI,OAASC,IAAUC,IAlBR,gCAmBX,EAAK1W,MAAMiX,2BAA2BnW,GAnB3B,+CAqBX,EAAKd,MAAMkX,4BAA4BpW,GArB5B,yBAwBf,EAAKd,MAAMmX,wBAAwBrW,GAxBpB,yBAyBf,EAAKd,MAAMoX,yBAAyBd,GAzBrB,4C,8GAlCf,IAAD,SAC4E9K,KAAKxL,MAA9EoW,EADH,EACGA,MAActT,GADjB,EACU8P,MADV,EACiB9P,WAAWuU,EAD5B,EAC4BA,WAD5B,IACwCC,oBADxC,MACuD,GADvD,EAC2DlI,EAD3D,EAC2DA,aAC1DmI,EAAgBnI,EAAaoC,OAAO+F,cACpC9F,EAAiBrC,EAAaoC,OAAOC,eAErC3Q,EAAO6T,YAAmByB,EAAMtV,KAAMgC,EAAU4F,SAAU6O,GAC1DT,EAAQV,EAAMU,MAAM/N,WAEpByO,EAASF,EAAaX,QAAO,SAACC,EAASa,GACzC,OAAIA,EAAWX,MAAMY,GAAGtB,EAAMU,OACnBF,EAAQjR,KAAK8R,EAAW3W,MAE5B8V,IACRL,MAEGoB,EAAkBhD,YAAmB6C,EAAQ1U,EAAU4F,SAAU6O,GACjEK,EAAgBJ,EAAOE,GAAG,IAAIrS,YAAU,IACxCwS,EAAcrP,aAAiB,IAAInD,YAAUvE,GAAOyW,GAE1D,OACI,eAAC5B,GAAD,CACIhP,QAAS,kBAAM,EAAKwP,uBAAuBC,EAAMU,QADrD,UAGI,cAACf,GAAD,UAAK8B,EAAY1O,MACjB,cAAC4M,GAAD,CAAItP,QAAS4Q,EAAb,SACKS,WAAWhB,GAAOjO,QAAQ4I,KAE/B,cAACsE,GAAD,UACK6B,EAAgB,IAAMD,W,GA7BlB5X,aA6EnBgY,GAAsB9I,YAAQ,MAZC,SAACvF,GAClC,MAAO,CACHyN,wBAAyB,SAACa,GAAD,OAAwBtO,EAASuO,aAAsBD,KAChFf,2BAA4B,SAACe,GAAD,OACxBtO,EAASwO,aAAyBF,KACtCd,4BAA6B,SAACc,GAAD,OACzBtO,EAASyO,aAA0BH,KACvCZ,yBAA0B,SAACgB,GAAD,OACtB1O,EAAS2O,aAAuBD,QAIhBnJ,CAA4CiH,IAElEoC,G,oDAMF,WAAYtY,GAAQ,IAAD,+BACf,cAAMA,IANVkP,MAAQ,CACJqJ,MAAO,CAAEhX,MAAO,EAAKvB,MAAMwY,cAAgB,GAC3CC,WAAYvD,IAMZ,EAAKwD,qBAAuBrX,IAAMsX,YAClC,EAAKC,gBAAkBvX,IAAMsX,YAC7B,EAAKE,aAAexX,IAAMsX,YALX,E,sDAQT,IAuBFG,EAvBC,SAWDtN,KAAKxL,MATL+Y,EAFC,EAEDA,UACAjW,EAHC,EAGDA,UACAG,EAJC,EAIDA,WACA+V,EALC,EAKDA,eACAC,EANC,EAMDA,iBACA7J,EAPC,EAODA,aACA8J,EARC,EAQDA,oBACAC,EATC,EASDA,oBACAC,EAVC,EAUDA,YAEIC,EAAwCN,EAAxCM,WAAYC,EAA4BP,EAA5BO,UAAWhC,EAAiByB,EAAjBzB,aAEzBiC,EAAkBjC,EAAatS,QAAO,SAACoR,GACzC,OAAOA,EAAMI,OAASC,IAAU+C,QAE9BC,EAAiBnC,EAAatS,QAAO,SAACoR,GACxC,OAAOA,EAAMI,OAASC,IAAUC,OAE9BgD,EAAW,SAACtD,GACd,OAAOA,EAAMI,OAASC,IAAUC,IAAM,UAAY,UAItD,GAAK5T,GAAcG,GAAemW,IAAgBhH,KAAYC,UAMvD,IAAMiH,EAAUlV,QAAWiV,EAAWjV,SAAYtB,GAAcG,EAMhE,CACH,IAAM0W,EAAiBX,EAAenQ,QAAQuG,EAAaoC,OAAOC,gBAC5DmI,EAAqBX,EAAiBpQ,QAAQgR,MAC9CtC,EAAgBnI,EAAaoC,OAAO+F,cAEpCuC,EAAYnF,YAAmBwE,EAAqBrW,EAAU4F,SAAU6O,GAExEwC,EAAapF,YAAmBuE,EAAqBjW,EAAWyF,SAAU,GAE1E+H,EAAaC,YAAkB5N,EAAUgC,QACzC+L,EAAcH,YAAkBzN,EAAW6B,QAM3CkV,EAAkBxO,KAAK0D,MAAMuJ,WAC7BwB,EAAmB,SAACC,GACtB,EAAKC,SAAS,CAAE1B,WAAYyB,KAGhCpB,EACI,qCACI,eAAC1D,GAAD,CAAW9C,UAAU,oDAArB,UACI,sBAAKA,UAAW,4BAAhB,UACI,cAAC6C,GAAD,CACI5O,OAAQyT,IAAoB9E,GAC5BvT,SAAU,kBAAMsY,EAAiB/E,KACjCtO,QAAQ,EACRC,OAAK,IAET,cAACsO,GAAD,CACI5O,OAAQyT,IAAoB9E,GAC5BvT,SAAU,kBAAMsY,EAAiB/E,KACjCrO,OAAK,IAET,cAACsO,GAAD,CACI5O,OAAQyT,IAAoB9E,GAC5BvT,SAAU,kBAAMsY,EAAiB/E,KACjCtO,QAAM,OAGd,qBAAK0L,UAAU,4BAAf,SACI,cAAC9K,GAAA,EAAD,CAAU1G,KAAM,KAAM2G,MAAOwO,GAAYxU,YAAa,QAASE,SA/B3D,SAACJ,GACjB,EAAK4Y,SAAS,CAAE5B,MAAO,CAAEhX,MAAO6Y,OAAO7Y,cAiCnC,eAAC8T,GAAD,CAAU/C,UAAU,uDAApB,UACI,cAACiD,GAAD,mBACA,cAACC,GAAD,2BAAmBsE,EAAnB,YAAgCrJ,QAEpC,eAAC6E,GAAD,WACI,eAACI,GAAD,WACI,cAACE,GAAD,yBACA,eAACA,GAAD,qBAAYlF,YAAkBzN,EAAW6B,QAAzC,OACA,cAAC8Q,GAAD,yBAEJ,eAACI,GAAD,YAEOgE,IAAoB9E,IACnB8E,IAAoB9E,KAA6BmE,EAChDgB,MAAMhB,EAAWjV,OAASoH,KAAK0D,MAAMqJ,MAAMhX,MAAO8X,EAAWjV,QAC7DiE,KAAI,SAAC+N,EAAOxD,GAAR,OACD,cAACmF,GAAD,CAEI3B,MAAOA,EACPxD,MAAOA,EACP0H,MAAOjB,EAAWjV,OAClBiS,OAAQgD,EACRvW,UAAWA,EACXuU,WAAYqC,EAAStD,GACrBkB,aAAciC,EACdnK,aAAcA,GARTwD,MAYjB,eAACkD,GAAD,WACI,cAACD,GAAD,qBACA,cAACA,GAAD,UAAc8D,IACd,eAAC9D,GAAD,WAAc+D,EAAd,WAGDI,IAAoB9E,IACnB8E,IAAoB9E,KACpBoE,EAAUe,MAAM,EAAG7O,KAAK0D,MAAMqJ,MAAMhX,OAAO8G,KAAI,SAAC+N,EAAOxD,GAAR,OAC3C,cAACmF,GAAD,CAEI3B,MAAOA,EACPxD,MAAOA,EACP0H,MAAOhB,EAAUlV,OACjBiS,OAAQiD,EACRxW,UAAWA,EACXuU,WAAYqC,EAAStD,GACrBkB,aAAcmC,EACdrK,aAAcA,GARTwD,SAerB,eAAC8C,GAAD,WACI,cAACG,GAAD,mBACA,cAACA,GAAD,oBAAiBkE,EAAjB,YAA+BlJ,KAC/B,cAACgF,GAAD,8BA5GhBiD,EACI,qBAAKxG,UAAU,+DAAf,SACI,cAAC,GAAD,iDARRwG,EACI,qBAAKxG,UAAU,+DAAf,SACI,cAACkB,EAAA,EAAD,CAAS7G,MAAO,GAAIC,OAAQ,GAAI+F,GAAE,qBAAgBnH,KAAKxL,MAAMyT,SAAW,SAAW,WAAalN,QAAM,MAuHlH,OACI,cAAC0O,GAAD,UACK6D,Q,GAnKO/Y,aAyLTkP,gBAhBS,SAAAC,GACpB,MAAO,CACHpM,UAAWoM,EAAMC,KAAKrM,UACtBsM,aAAcF,EAAMC,KAAKC,aACzBnM,WAAYiM,EAAMC,KAAKlM,WACvBsX,WAAYrL,EAAMM,QAAQ+K,WAC1BC,eAAgBtL,EAAMM,QAAQgL,eAC9BzB,UAAW0B,YAAavL,GACxB8J,eAAgB0B,YAAUxL,GAC1B+J,iBAAkB0B,YAAsBzL,GACxCgK,oBAAqB0B,YAAuB1L,GAC5CiK,oBAAqB0B,YAAuB3L,GAC5CkK,YAAa0B,YAAkB5L,MAIxBD,CAAyBqJ,I,+BCzdlCjY,GAAO,IAAI0a,KAAKA,KAAKC,eAErBC,G,+MACFC,0BAA4B,WACpB,EAAKC,uBACLC,cAAc,EAAKD,sBACnB,EAAKA,0BAAuB5V,GAG5B,EAAK8V,4BACLD,cAAc,EAAKC,2BACnB,EAAKA,+BAA4B9V,GAEjC,EAAK+V,6BACLF,cAAc,EAAKE,4BACnB,EAAKA,gCAA6B/V,GAElC,EAAKgW,8BACLH,cAAc,EAAKG,6BACnB,EAAKA,iCAA8BhW,I,EAI3CiW,wBAA0B,WACtB,EAAKxb,MAAMyb,uBACX,EAAKzb,MAAM0b,4BACX,EAAK1b,MAAM2b,2BACX,EAAK3b,MAAM4b,2BACR,EAAK5b,MAAMK,KAAKuC,SACf,EAAK5C,MAAM6b,mBAAmB,EAAK7b,MAAMK,KAAKuC,QAASvC,GAAK2a,eAAiB1W,OAAOC,UAGvD,IAA7BuX,MAAmC,EAAKX,uBACxC,EAAKA,qBAAuB7W,OAAOyX,YAAP,wBAAmB,uBAAA/X,EAAA,sDACxC,EAAKhE,MAAMK,KAAKuC,UACf,EAAK5C,MAAM6b,mBAAmB,EAAK7b,MAAMK,KAAKuC,QAASvC,GAAK2a,eAAiB1W,OAAOC,UACpF,EAAKvE,MAAM4b,2BACX,EAAKzB,SAAS,CACV6B,sBAAsB,KALa,2CAQ5CF,OAIF,EAAKT,2BAA6D,IAAhCY,OACnC,EAAKZ,0BAA4B/W,OAAOyX,YAAP,wBAAmB,uBAAA/X,EAAA,sDAChD,EAAKhE,MAAM2b,2BACX,EAAK3b,MAAM4b,2BAFqC,2CAGjDK,OAIF,EAAKX,4BAC2B,IAAjCY,OAEA,EAAKZ,2BAA6BhX,OAAOyX,YAAP,wBAAmB,uBAAA/X,EAAA,sDACjD,EAAKhE,MAAM0b,4BADsC,2CAElDQ,OAGF,EAAKX,6BAAwD,IAAzBY,OACrC,EAAKZ,4BAA8BjX,OAAOyX,YAAP,wBAAmB,uBAAA/X,EAAA,sDAClD,EAAKhE,MAAMyb,uBADuC,2CAEnDU,Q,EAiBXC,qBAAuB,WACnBhB,cAAc,EAAKD,sBACnBC,cAAc,EAAKC,2BACnBD,cAAc,EAAKE,4BACnBF,cAAc,EAAKG,8B,EAIvBc,OAAS,kBAAM,EAAKrc,MAAMsc,U,mEApBlB9Q,KAAKxL,MAAMK,KAAKuC,QAChB4I,KAAKgQ,2BAELhQ,KAAKxL,MAAMyb,uBACXjQ,KAAKxL,MAAM0b,4BACXlQ,KAAKxL,MAAM2b,2BACXnQ,KAAKxL,MAAM4b,2BACXpQ,KAAKxL,MAAM6b,mBAAmB,QAAItW,GAClCiG,KAAK0P,iC,GA3EMnb,aAoGRiP,eAAWC,YAAQ,MAVP,SAAAvF,GACvB,MAAO,CACHiS,yBAA0B,kBAAMjS,EAAS6S,gBACzCX,yBAA0B,kBAAMlS,EAAS8S,gBACzCd,0BAA2B,kBAAMhS,EAAS+S,gBAC1ChB,qBAAsB,kBAAM/R,EAASgT,gBACrCb,mBAAoB,SAACjZ,EAASC,GAAV,OAAsB6G,EAASiT,YAAiB/Z,EAASC,QAI3DoM,CAAkCnP,aAAgBmb,M,upEC3G5E,IAAM3M,GAAY/N,UAAO6G,KAAV,MAMT6N,GAAY1U,UAAO+F,IAAV,MAWTmP,GAAKlV,UAAO+F,IAAV,MAgBFoP,GAAanV,kBAAOkV,GAAPlV,CAAH,MAQVqV,GAAKrV,UAAO6G,KAAV,MAOF2O,GAAKxV,UAAO6G,KAAV,MACG,gBAAG1G,EAAH,EAAGA,MAAO+F,EAAV,EAAUA,QAAV,OAAwBA,EAAU/F,EAAM+F,GAAW,WAMxDuP,GAAQzV,UAAO+F,IAAV,MA+BO,qBAAG5F,MAAkBE,SAQrB,gBAAGF,EAAH,EAAGA,MAAH,OAAeqO,YAAQ,IAAMrO,EAAME,UAI/Cgc,GAAiBrc,UAAO+F,IAAV,MAiGL2I,gBAfS,SAAAC,GACpB,MAAO,CACHpM,UAAWoM,EAAMC,KAAKrM,UACtB+Z,YAAa3N,EAAM4N,OAAOD,YAC1B5Z,WAAYiM,EAAMC,KAAKlM,WACvB8Z,iBAAmB7N,EAAMM,QAAQuN,qBAId,SAAArT,GACvB,MAAO,CACH+F,aAAc,SAACL,GAAD,OAAkB1F,EAAS+F,YAAaL,QAI/CH,EA5DK,SAAAjP,GAChB,IAAI8Y,EACI+D,EAAyD7c,EAAzD6c,YAAa/Z,EAA4C9C,EAA5C8C,UAAWG,EAAiCjD,EAAjCiD,WAAY8Z,EAAqB/c,EAArB+c,iBAE5C,GAAIja,GAAcG,GAAc8Z,IAAqB3K,KAAYC,UAM3D,GAAKrH,OAAOY,KAAKiR,GAAazY,QAAWtB,GAAcG,GAAe4Z,EAAYG,YAAyBla,EAAWG,IAQrH,CAEH,IAAMoO,EAAS2L,YAAyBla,EAAWG,GAC7Cga,EAAmBC,aAAOja,EAAW6B,QAAU,MAAQ7B,EAAW6B,OAAO8L,cACvDsM,aAAOpa,EAAUgC,SAAkBhC,EAAUgC,OAAO8L,cAE5EkI,EACI,eAAC8D,GAAD,CAAgBtK,UAAU,qBAA1B,UACI,eAAC,GAAD,WACI,eAAC,GAAD,qBAAa2K,EAAb,OACA,cAAC,GAAD,qBACA,cAAC,GAAD,sBAEJ,cAAC,GAAD,UACKJ,EAAYxL,GAAQhJ,KAAI,SAAC8U,EAAYvK,GAAb,OA3D3B,SAAC9F,EAAM8F,GACrB,IAAIwK,EAEGA,EADP3I,KACoB3H,EAAKsQ,WAAWvU,QAAQiE,EAAKuQ,UAAU3I,iBACvCC,YAAmB7H,EAAKsQ,WAAYtQ,EAAKuQ,UAAU3U,SAAUoE,EAAKuQ,UAAU3I,iBAEhG,IACItF,EADEkO,EAAiB,UAAMF,GAE7B,IACIhO,EAAemO,aAA8BzQ,EAAKuQ,UAAUvY,OAAQgI,EAAK0Q,WAAW1Y,QACtF,SACE,OAAO,KAEX,IAAMgS,EAAQgB,WAAWhL,EAAKgK,MAAM/N,YAAYF,QAAQuG,EAAaoC,OAAOC,gBAE5E,OACI,eAAC,GAAD,WACI,cAAC,GAAD,CAAIhL,QAASqG,EAAK0J,OAASC,IAAUC,IAAM,UAAY,SAAvD,SACKI,IAEL,cAAC,GAAD,UAAKwG,IACL,cAAC,GAAD,UACKxQ,EAAK2Q,UAAUC,cAAcrD,OAAO,IAAK,OANzCzH,GA2CmD+K,CAAUR,EAAYvK,gBArBlFkG,EACI,qBAAKxG,UAAW,qBAAhB,SACI,qBAAKA,UAAU,+DAAf,SACI,cAAC,GAAD,mDATZwG,EACI,qBAAKxG,UAAU,+DAAf,SACI,cAACkB,EAAA,EAAD,CAAS7G,MAAO,GAAIC,OAAQ,GAAI+F,GAAE,uBAAkB3S,EAAMyT,SAAW,SAAW,WAAalN,QAAM,MA+B/G,OACI,cAAC,GAAD,UACKuS,O,u0GC3Kb,IAAM1K,GAAO7N,kBAAO8N,IAAP9N,CAAH,MA0BJqd,GAAYrd,UAAOsd,GAAV,MASTC,GAAUvd,UAAO+F,IAAV,MAcPyX,GAAexd,UAAO+F,IAAV,MA+BA,qBAAG5F,MAAkBE,SAQrB,gBAAGF,EAAH,EAAGA,MAAH,OAAeqO,YAAQ,IAAMrO,EAAME,UAK/C0N,GAAY/N,UAAO6G,KAAV,MAOTqO,GAAKlV,UAAO+F,IAAV,MASFoP,GAAanV,kBAAOkV,GAAPlV,CAAH,MAQVqV,GAAKrV,UAAO6G,KAAV,MAOF2O,GAAKxV,UAAO6G,KAAV,MACG,gBAAG1G,EAAH,EAAGA,MAAO+F,EAAV,EAAUA,QAAV,OAAwBA,EAAU/F,EAAM+F,GAAW,WAMxDuP,GAAQzV,UAAO+F,IAAV,MAsBO,qBAAG5F,MAAkBE,SAQrB,gBAAGF,EAAH,EAAGA,MAAH,OAAeqO,YAAQ,IAAMrO,EAAME,UAI/Cod,GAAQzd,kBAAO0d,KAAP1d,CAAH,MAwGI0O,gBAdS,SAAAC,GACpB,MAAO,CACHpM,UAAWoM,EAAMC,KAAKrM,UACtBuT,OAAQnH,EAAMM,QAAQ+K,WACtBtX,WAAYiM,EAAMC,KAAKlM,eAIJ,SAAAyG,GACvB,MAAO,CACHwU,cAAe,SAAC9H,GAAD,OAAW1M,EAASyU,aAAY/H,QAIxCnH,EAjEM,SAAAjP,GAAU,IAKvB8Y,EAJIlW,EAAY1C,cAAZ0C,QACAyT,EAAkCrW,EAAlCqW,OAAQvT,EAA0B9C,EAA1B8C,UAAWG,EAAejD,EAAfiD,WACrBmb,EAAe/H,EAAOrR,QAAO,SAAAoR,GAAK,OAAIA,EAAMiI,SAAWC,eAAYC,YAIzE,GAAIzb,GAAcG,EAMX,GAAKmb,EAAaha,QAAWtB,GAAcG,GAAeL,EAM1D,CACH,IAAMqa,EAAmBC,aAAOja,EAAW6B,QAAU,MAAQ7B,EAAW6B,OAAO8L,cACzE4N,EAAkBtB,aAAOpa,EAAUgC,QAAU,MAAQhC,EAAUgC,OAAO8L,cAE5EkI,EACI,sBAAKxG,UAAU,qBAAf,UACI,eAAC,GAAD,WACI,cAAC,GAAD,mBACA,eAAC,GAAD,oBAAWkM,EAAX,OACA,eAAC,GAAD,sBAAaA,EAAb,OACA,eAAC,GAAD,qBAAYvB,EAAZ,OACA,cAAC,GAAD,wBAEJ,cAAC,GAAD,UACKmB,EAAa/V,KAAI,SAAC+N,EAAOxD,GAAR,OAnEnB,SAACwD,EAAOxD,EAAO9P,EAAWG,EAAYkb,GACrD,IAAMM,EAAYrI,EAAMI,OAASC,IAAU+C,KAAO,OAAS,MACrD1Y,EAAO6T,YAAmByB,EAAMtV,KAAMgC,EAAU4F,SAAU5F,EAAU4R,iBACtE2J,EAAS,KAGPK,EAAStI,EAAMsI,OACf/J,YAAmByB,EAAMsI,OAAQ5b,EAAU4F,SAAU5F,EAAU4R,iBAC/D,KACF0B,EAAMiI,SAENA,EADkBjI,EAAMiI,SAAWC,eAAYC,SACpB,OAAS,UAExC,IAAMnP,EAAeuP,aAA0B7b,EAAWG,GACpD6T,EAAQgB,WAAW1B,EAAMU,MAAM/N,YAAYF,QAAQuG,EAAaoC,OAAOC,gBAE7E,OACI,eAAC,GAAD,WACI,cAAC,GAAD,CAAIhL,QAAS2P,EAAMI,OAASC,IAAUC,IAAM,UAAY,SAAxD,SAAmE+H,IACnE,cAAC,GAAD,UAAK3d,IACL,cAAC,GAAD,UAAK4d,IACL,cAAC,GAAD,UAAK5H,IACL,cAAC,GAAD,UACI,sBAAKxE,UAAU,oDAAf,UACI,+BAAO+L,IAEP,cAACL,GAAD,CAAOrX,QAASwX,EAAY5V,U,EAAW6N,YAT1CxD,GAkDuCgM,CAAWxI,EAAOxD,EAAO9P,EAAWG,EAAYjD,EAAMke,4BAnBtGpF,EACI,qBAAKxG,UAAU,kEAAf,SACI,cAAC,GAAD,iDARRwG,EACI,qBAAKxG,UAAU,+DAAf,SACI,cAACkB,EAAA,EAAD,CAAS7G,MAAO,GAAIC,OAAQ,GAAI+F,GAAE,wBAAmB3S,EAAMyT,SAAW,SAAW,WAAalN,QAAM,MA6BhH,OACI,eAAC,GAAD,WACI,cAACqX,GAAD,0BACA,cAACE,GAAD,UACI,cAACC,GAAD,UACKjF,Y,mkFC9PrB,IAAM+F,GAAWte,UAAO+F,IAAV,MACV,qBAAG5F,MAAkBoe,iBAWnB7J,GAAY1U,UAAO+F,IAAV,MAUTyY,GAAQxe,UAAO6G,KAAV,MAYL4X,GAAiBze,UAAO+F,IAAV,MASd2Y,GAAW1e,UAAO+F,IAAV,MACV,qBAAG5F,MAAkBoe,iBAEd,qBAAGpe,MAAkBE,SAO1Bse,GAAU3e,UAAO6G,KAAV,MAUP+X,GAAa5e,UAAO+F,IAAV,MACZ,qBAAG5F,MAAkB0e,oBAMnBC,GAAkB9e,UAAO6G,KAAV,MAYfkY,GAAiB/e,UAAOwG,OAAV,MA+BI,qBAAGrG,MAAkB6e,OAKzCC,GAAajf,UAAO+F,IAAV,MACV,qBAAG5F,MAAkBoe,iBAGd,qBAAGpe,MAAkBE,SAaX6e,G,+MACjBvQ,MAAQ,CACJwQ,SAAU,EAAK1f,MAAMuB,MACfoT,YAAmB,EAAK3U,MAAMuB,MAAO,EAAKvB,MAAM0I,SAAU,EAAK1I,MAAM2f,oBACrE,I,EAIVC,aAAe,SAAAre,GAEX,IAAMse,EAAWC,YAAmBve,GAAS,IAAK,EAAKvB,MAAM0I,UACxC,EAAK1I,MAAM+f,KAAOF,EAASG,WAAW,EAAKhgB,MAAM+f,OAKtE,EAAK/f,MAAMwB,YAAYqe,GACvB,EAAK1F,SAAS,CACVuF,SAAUne,M,wDAuBR,IAAD,EASDiK,KAAKxL,MATJ,IAEDigB,aAFC,MAEO,QAFP,MAGDC,eAHC,SAIDC,EAJC,EAIDA,SAJC,IAKDC,iBALC,SAMDzN,EANC,EAMDA,GANC,IAOD0N,mBAPC,SAQDC,EARC,EAQDA,YAEIZ,EAAalU,KAAK0D,MAAlBwQ,SAER,OACI,cAACP,GAAD,CAAYxM,GAAIA,EAAhB,SACI,eAAC,GAAD,YACMyN,GACE,cAACnB,GAAD,UACI,cAAC,KAAD,UACI,cAACF,GAAD,UACKkB,QAKjB,eAACpB,GAAD,CAAU0B,MAAOH,EAAY,CAAEI,QAAS,IAAKC,aAAc,WAAc,GAAIN,SAAUD,EAAvF,UAEI,cAACZ,GAAD,CACIa,WAAYA,EACZ7N,UAAU,8BAFd,SAII,cAAC4M,GAAD,UACI,cAACG,GAAD,CAAiB/M,UAAU,yBAAyB/L,OAAQma,QAAQP,GAApE,UACMA,IAAoB,OAARA,QAAQ,IAARA,OAAA,EAAAA,EAAU/b,QAAS,KAClB,OAAR+b,QAAQ,IAARA,OAAA,EAAAA,EAAU9F,MAAM,EAAG,IAClB,OADD,OAEC8F,QAFD,IAECA,OAFD,EAECA,EAAU9F,OAAc,OAAR8F,QAAQ,IAARA,OAAA,EAAAA,EAAU/b,QAAS,EAAnC,OAAsC+b,QAAtC,IAAsCA,OAAtC,EAAsCA,EAAU/b,UAASwM,cAC3DuP,EAASvP,gBAJd,gBASXwP,GACE,cAACpB,GAAD,UACI,cAAC2B,GAAA,EAAD,CACI7f,KAAM,KACNwR,UAAU,2BACV/Q,MAAOme,EACPle,YAAagK,KAAKoU,oBAKjCO,GAAYE,GACT,cAACb,GAAD,UACKc,e,GA/Fejf,IAAMtB,WAA7B0f,GAuBVmB,yBAA2B,SAAC5gB,EAAOkP,GAAW,IACzCxG,EAAwC1I,EAAxC0I,SAAUnH,EAA8BvB,EAA9BuB,MAAOoe,EAAuB3f,EAAvB2f,mBACjBD,EAAaxQ,EAAbwQ,SAER,OAAKne,EAIMA,IAAUue,YAAmBJ,GAAY,IAAKhX,GAAUgP,GAAGnW,GAC3D,CACHme,SAAU/K,YAAmBpT,EAAOmH,EAAUiX,IAG3C,KARA,CACHD,SAAU,K,udCjK1B,IAAMmB,GAAMtgB,UAAO+F,IAAV,MAUHuI,GAAOtO,UAAO6G,KAAV,MAaJ0Z,GACK,QADLA,GAEM,SAGNC,G,+MACF7R,MAAQ,CACJ8R,eAAgBzK,KAChB0K,eAAgB1K,KAChB2K,kBAAmBC,aACnBC,kBAAmBD,aACnBE,iBAAkB9K,KAClB+K,kBAAkB,G,EAGtBC,mB,yCAAqB,WAAOC,GAAP,gBAAAxd,EAAA,0DACXyd,EAAW,EAAKzhB,OAET0hB,aAAeF,EAAUE,YAClCD,EAASE,YAAcH,EAAUG,WACjCF,EAASG,cAAgBJ,EAAUI,aACnCH,EAASrS,eAAiBoS,EAAUpS,cACpCqS,EAASI,YAAcL,EAAUK,UAPpB,gCASP,EAAKC,2BATE,2C,wDAarBA,yB,wBAA2B,iGAAA9d,EAAA,2DACwB,EAAKhE,MAA5CoP,EADe,EACfA,aAAcuS,EADC,EACDA,UAAWE,EADV,EACUA,UAC5BzS,EAFkB,oDAMnBuS,IAAcb,GANK,0BAOgD,EAAK9gB,MAAhE4hB,EAPW,EAOXA,YAAaF,EAPF,EAOEA,WAAYK,EAPd,EAOcA,wBAAyB1hB,EAPvC,EAOuCA,KAClDyQ,EAAgB1B,EAAhB0B,MAAOH,EAASvB,EAATuB,KACT1N,EAAaI,eAAiB2e,iBAAiBlR,GAC/ChO,EAAYO,eAAiB2e,iBAAiBrR,GAE9CsR,EAAwBnC,YAAmB4B,EAAW3Y,WAAY9F,EAAWyF,UAC7EwZ,EAAyBC,YAAaP,EAAa9e,EAAU4F,UAC7D2Y,EAAmBa,EAAuBE,aAAaH,GAd1C,UAewDF,EACvEH,EACAF,EACAG,EACAxhB,EAAKuC,QACL0B,OAAOC,UAAYlE,EAAKwC,SApBT,iBAeXwf,EAfW,EAeXA,SAAUnB,EAfC,EAeDA,kBAAmBoB,EAflB,EAekBA,SAAUlB,EAf5B,EAe4BA,kBAO/C,EAAKjH,SAAS,CACV6G,eAAgBqB,EAChBnB,oBACAD,eAAgBqB,EAChBlB,oBACAC,qBA3Be,0BA8BoC,EAAKrhB,MAApD4hB,EA9BW,EA8BXA,YAAaW,EA9BF,EA8BEA,eAAgBC,EA9BlB,EA8BkBA,cAC/B5b,EAASib,IAAcpL,IAAU+C,KA/BpB,EAgC+CiJ,aAC9D,CACIpY,OAAQuX,EACRvL,OAAQzP,EAAS4b,EAAgBD,GAErCV,GArCe,mBAgCZa,EAhCY,KAgCEC,EAhCF,KAgC2BrB,EAhC3B,KAwCbsB,EAAqBF,EAAa/d,MAAK,SAAAke,GAAC,OAAIA,EAAEzB,oBAAsBD,gBACpEC,EAAoBwB,EAAqBA,EAAmBxB,kBAAoBD,aAChFF,EAAiByB,EAAa/L,QAAO,SAACmM,EAAK1M,GAAN,OAAgB0M,EAAInd,KAAKyQ,EAAMkM,YAAW/L,MAC/E8K,EAAmB0B,aAA4BlB,EAAWa,EAAcC,GAE9E,EAAKxI,SAAS,CACV8G,iBACAG,oBACAC,mBACAC,qBAjDe,4C,EAsD3B0B,wBAA0B,WAAO,IACrB1B,EAAqB,EAAKpS,MAA1BoS,iBAER,GADsB,EAAKthB,MAAnB2hB,YACUb,KAAqBQ,EACnC,MAAM,MAJkB,IAOpBxQ,EAAU,EAAK9Q,MAAMoP,aAArB0B,MACF7N,EAAaI,eAAiB2e,iBAAiBlR,GAC7CuQ,EAAqB,EAAKnS,MAA1BmS,iBAEF4B,EAAatO,YAAmB0M,EAAkBpe,EAAWyF,SAAUzF,EAAWyR,iBACxF,MAAM,GAAN,OAAUuO,EAAV,YAAwBvS,YAAkBI,K,EAG9CoS,+BAAiC,WAAO,IAC5B5B,EAAqB,EAAKpS,MAA1BoS,iBACAK,EAAc,EAAK3hB,MAAnB2hB,UACAC,EAAgB,EAAK5hB,MAArB4hB,YACR,GAAID,IAAcb,KAAqBQ,EACnC,MAAM,MAEV,GAAIM,EAAYlK,GAAG,GACf,MAAM,MARyB,MAUH,EAAK1X,MAAMoP,aAAnC0B,EAV2B,EAU3BA,MAAOH,EAVoB,EAUpBA,KAAMa,EAVc,EAUdA,OACb6P,EAAqB,EAAKnS,MAA1BmS,iBACFpe,EAAaI,eAAiB2e,iBAAiBlR,GAC/ChO,EAAYO,eAAiB2e,iBAAiBrR,GAC9CwS,EAAwB,IAAI9d,YAAUsP,YAAmB0M,EAAkBpe,EAAWyF,SAAU,KAChG0a,EAAuB,IAAI/d,YAAUsP,YAAmBiN,EAAa9e,EAAU4F,SAAU,KACzF2a,EAAeF,EAAsB7c,IAAI8c,GAAsBE,SAAS9R,EAAOC,eAAiB,GACtG,MAAM,GAAN,OAAU4R,EAAV,YAA0B3S,YAAkBI,K,EAGhDyS,6BAA+B,WAAO,IAAD,EACC,EAAKvjB,MAAnB6hB,GADa,EACzB2B,WADyB,EACb3B,WACpB,OACWA,IAAcpL,IAAU+C,KAAO,QAAU,Q,EAMxDiK,kB,wBAAoB,uBAAAzf,EAAA,sEACV,EAAK8d,2BADK,2C,EAIpBzF,OAAS,WAEL,IAAMqH,EAAO,EAAKV,0BACZW,EAAW,EAAKJ,+BAChBK,EAAkB,EAAKV,iCACrBvB,EAAc,EAAK3hB,MAAnB2hB,UAER,OACI,qCACI,eAAC,GAAD,WACI,cAAC,GAAD,UAAOgC,IACP,cAAC,GAAD,UAAOD,OAEV/B,IAAcb,IACX,eAAC,GAAD,WACI,cAAC,GAAD,4BACA,cAAC,GAAD,UAAO8C,W,YA7IJviB,IAAMtB,WAqKlBD,gBAAgBmP,aAdP,SAACC,GACrB,MAAO,CACHqT,eAAgBsB,YAAkB3U,GAClCsT,cAAesB,YAAiB5U,GAChCsU,WAAYO,YAAc7U,OAIP,SAACxF,GACxB,MAAO,CACHqY,wBAAyB,SAAC1X,EAAQyM,EAAON,EAAM5T,EAASC,GAA/B,OACrB6G,EAASsa,aAAsB3Z,EAAQyM,EAAON,EAAM5T,EAASC,QAG1CoM,CAA6C8R,K,gsDCnL5E,IAAM3S,GAAO7N,kBAAO8N,IAAP9N,CAAH,MAqBJ0jB,GAAiB1jB,UAAO+F,IAAV,MAWd4d,GAAgB3jB,UAAO+F,IAAV,MAYb6d,GAAa5jB,UAAO+F,IAAV,MAWV8d,GAAM7jB,kBAAOuG,KAAPvG,CAAH,MAOHud,GAAUvd,UAAO+F,IAAV,MAKP+d,GAAmB9jB,UAAO+F,IAAV,MAIhBge,GAAa/jB,UAAO+F,IAAV,MAOVie,GAAehkB,UAAOwG,OAAV,MAOZ+Z,GACK,QADLA,GAEM,SAMN0D,G,+MACFtV,MAAQ,CACJuV,YAAa,KACb3N,MAAO,KACP6K,UAAWb,GACX4D,IAAKjO,IAAUC,IACfjW,MAAO,CACHkkB,OAAQ,KACRC,QAAS,O,EAIjBrD,mB,yCAAqB,WAAOC,GAAP,gBAAAxd,EAAA,uDACXyd,EAAW,EAAKzhB,OACTgY,qBAAuBwJ,EAAUxJ,oBAAsB,EAAK9I,MAAMyS,YAAcb,IACzF,EAAK3G,SAAS,CACVrD,MAAO2K,EAASzJ,qBAKpByJ,EAASrJ,sBAAwBoJ,EAAUpJ,qBAC3C,EAAKlJ,MAAMyS,YAAcb,IAEzB,EAAK3G,SAAS,CACVsK,YAAahD,EAASrJ,sBAbb,2C,wDAmBrByM,UAAY,SAACH,GAAD,OAAS,kBAAM,EAAKvK,SAAS,CAAEuK,U,EAE3CI,kBAAoB,SAACjF,GACjB,EAAK1F,SAAS,CACVsK,YAAa5E,K,EAKrBkF,wBAA0B,WAAO,IAAD,EACqC,EAAK/kB,MAA9D4F,EADoB,EACpBA,iBAAkBK,EADE,EACFA,kBAAmBR,EADjB,EACiBA,gBAE7C,GADgB,EAAKyJ,MAAbwV,MACIjO,IAAU+C,KAAM,CACxB,GAAI5T,EAAkB,CAAC,IAAD,EACZof,EAAqB9H,aAAOtX,EAAiBf,MAAMC,QACnDW,EACAG,EAAiBJ,QACjByf,EAAoBtQ,YACtBqQ,EACApf,EAAiBf,MAAM6D,SACvB9C,EAAiBf,MAAM6P,iBAErB5P,EAAS4L,YAAiB,UAAC9K,EAAiBf,aAAlB,aAAC,EAAwBC,QACzD,MAAM,cAAN,OAAqBmgB,EAArB,aAA2CngB,GAE3C,OAAO,KAGX,GAAImB,EAAmB,CAAC,IAAD,QACb+e,EAAqB9H,aAAM,UAACjX,EAAkBpB,aAAnB,aAAC,EAAyBC,QACrDW,EACAQ,EAAkBT,QAClB0f,EAAqBvQ,YACvBqQ,EADyC,UAEzC/e,EAAkBpB,aAFuB,aAEzC,EAAyB6D,SAFgB,UAGzCzC,EAAkBpB,aAHuB,aAGzC,EAAyB6P,iBAEvB5P,EAAS4L,YAAiB,UAACzK,EAAkBpB,aAAnB,aAAC,EAAyBC,QAC1D,MAAM,cAAN,OAAqBogB,EAArB,aAA4CpgB,GAE5C,OAAO,M,EAMnBqgB,YAAc,SAACrO,GACX,EAAKqD,SAAS,CAAErD,W,EAKpBsO,O,wBAAS,qDAAAphB,EAAA,yDACD,EAAKhE,MAAMK,KAAKuC,QADf,uBAED,EAAK5C,MAAMG,oBAFV,mBAGM,GAHN,gBAKkE,EAAKH,MAApEoP,EALH,EAKGA,aAAcrK,EALjB,EAKiBA,cAAeL,EALhC,EAKgCA,YAAaF,EAL7C,EAK6CA,WAAYnE,EALzD,EAKyDA,KACxDglB,EAAYjW,EAAaoC,OAAO6T,UAChC3c,EAAWrF,eAAiB2e,iBAAiB5S,EAAauB,MAAMjI,SAChE4c,EAAiBxF,YAAmByF,OAAOF,GAAY3c,GAEvDmZ,EAAY,EAAK3S,MAAMwV,IACvBD,EAAc,EAAKvV,MAAMuV,aAAea,EACxCxO,EAAQ,EAAK5H,MAAM4H,OAAS,IAAIzR,YAAU,GAZ3C,UAcsB,EAAKrF,MAAM+hB,wBAAwB0C,EAAa3N,EAAO,EAAK5H,MAAMwV,IAAKrkB,EAAKuC,QAAS0B,OAAOC,UAAYlE,EAAKwC,SAdnI,WAcC2iB,EAdD,OAgBD,EAAKtW,MAAMyS,YAAcb,GAhBxB,qBAiBG2E,IAjBH,kCAkBwB,EAAKzlB,MAAM0lB,2BAA2BjB,EAAa3N,EAAO+K,EAAW2D,EAAczgB,EAAeL,EAAaF,GAlBvI,WAmBkB,IAnBlB,yCAoBa,EAAKxE,MAAM2lB,mBAAmBlB,EAAa3N,EAAO+K,EAAW2D,EAAczgB,EAAeL,GApBvG,iDAuBS,EAAK1E,MAAM2lB,mBAAmBlB,EAAa3N,EAAO+K,EAAW2D,EAAczgB,EAAeL,GAvBnG,2DA2BS,EAAK1E,MAAM4lB,oBAAoBnB,EAAa5C,EAAW9c,EAAeL,EAAaF,EAAWgB,SA3BvG,2DA6BG,EAAK2U,SACD,CACI1Z,MAAO,CACHkkB,OAAQ,QACRC,QAAS,KAAMiB,WAGvB,WAEIC,YAAW,WACP,EAAK3L,SAAS,CACV1Z,MAAM,6BACC,EAAKyO,MAAMzO,OADb,IAEDkkB,OAAQ,WAhIlB,KAoIFmB,YAAW,WACP,EAAK3L,SAAS,CACV1Z,MAAM,6BACC,EAAKyO,MAAMzO,OADb,IAEDmkB,QAAS,WAvIlB,QAqFd,QA0DL,EAAKmB,SA1DA,2D,EA8DTA,OAAS,WACL,EAAK5L,SAAS,CACVsK,YAAa,Q,EAIrBuB,gBAAkB,WACd,EAAK7L,SAAS,CACVwH,UAAWb,M,EAInBmF,eAAiB,WACb,EAAK9L,SAAS,CACVwH,UAAWb,M,EAKnByC,6BAA+B,WAAO,IAAD,EACC,EAAKvjB,MAAnB6hB,GADa,EACzB2B,WADyB,EACb3B,WACpB,OACWA,IAAcpL,IAAU+C,KAAO,QAAU,Q,wDAM9C,IAAD,MACiGhO,KAAKxL,MAAnGoP,EADH,EACGA,aAAcnJ,EADjB,EACiBA,kBAAmBL,EADpC,EACoCA,iBAAkBH,EADtD,EACsDA,gBAAiB3C,EADvE,EACuEA,UAAWG,EADlF,EACkFA,WADlF,EAEiDuI,KAAK0D,MAAnDuV,EAFH,EAEGA,YAAa3N,EAFhB,EAEgBA,MAAO4N,EAFvB,EAEuBA,IAAK/C,EAF5B,EAE4BA,UAAWlhB,EAFvC,EAEuCA,MAEtCylB,EAAmB,CACrB,CACI3f,OAAQob,IAAcb,GACtBna,QAAS6E,KAAKya,eACd7V,KAAM,SAEV,CACI7J,OAAQob,IAAcb,GACtBna,QAAS6E,KAAKwa,gBACd5V,KAAM,WAGR1H,EAAWrF,eAAiB2e,iBAAiB5S,EAAauB,MAAMjI,SAChEyd,EAAgB9iB,eAAiB2e,iBAAiB5S,EAAa0B,OAAOpI,SAEtE+I,EAAiBrC,EAAaoC,OAAOC,eACrC4T,EAAYjW,EAAaoC,OAAO6T,UAChCC,EAAiBxF,YAAmByF,OAAOnW,EAAaoC,OAAO6T,WAAY3c,GAE3E6O,EAAgBnI,EAAaoC,OAAO+F,cACpC6O,EAAcngB,GAAqBiX,aAAM,UAACjX,EAAkBpB,aAAnB,aAAC,EAAyBC,QACnEuhB,EAAazgB,GAAoBsX,aAAM,UAACtX,EAAiBf,aAAlB,aAAC,EAAwBC,QAEhEwhB,EAAaF,EACbG,YAA8B9gB,GAAmB8Q,KAAM,IACvDgQ,YAA+BtgB,GAAqBA,EAAkBT,SAAY+Q,KAAM4P,GAExFK,EAAcH,EAAa5gB,EAAmBG,GAAoBA,EAAiBJ,SAAY+Q,KAE/FlM,EAASoa,GAAea,EACxBmB,EAAmBF,YAA8Blc,EAAQ3B,GACzDge,EAAgC,OAAXrc,GAAmBA,EAAOjB,SAC/Cud,EAA8B,OAAXtc,GAAmBA,EAAO2V,WAAWsF,GAExDsB,EAAyB,OAAV9P,GAAkBA,EAAM1N,SACvCyd,EACQ,OAAV/P,GAAkBA,EAAMkJ,WAAW,IAAI3a,YAAU,GAAGiB,IAAI,IAAIjB,YAAU,IAAIyhB,IAAIrV,KAC5EsV,EACFpF,IAAcb,KAAoB4F,GAAsBE,GAAgBC,GACtEhgB,EAAQ6d,IAAQjO,IAAUC,IAC1BsQ,EACDrF,IAAcb,IAAmBja,GAAS4f,EAAiBrE,aAAatL,GAASP,MAAM0Q,GAAGX,KACzFzf,GAASwD,EAAO4c,GAAGT,GAEnBU,EAA2BvF,IAAcb,KAAqB4F,GAAsBC,GACpFlW,EAAaC,YAAkBtB,EAAauB,MAC5CwW,EAAYzC,IAAQjO,IAAUC,IAAM,OAAS,QAC7C0Q,EAAU3mB,GAASA,EAAMkkB,OAAS,QAAUwC,EAAY1W,EAE9D,OACI,eAAC,GAAD,WACI,eAACyT,GAAD,CAAe5R,UAAU,oDAAzB,UACI,cAAC6R,GAAD,UACI,cAACC,GAAD,CAAK3d,QAASie,IAAQjO,IAAUC,IAAM,kBAAoB,wBAAyB/P,QAAS6E,KAAKqZ,UAAUpO,IAAUC,KAArH,mBAIJ,cAACyN,GAAD,UACI,cAACC,GAAD,CAAK3d,QAASie,IAAQjO,IAAU+C,KAAO,kBAAoB,wBAAyB7S,QAAS6E,KAAKqZ,UAAUpO,IAAU+C,MAAtH,uBAKR,eAAC,GAAD,WACI,cAAC8K,GAAD,UACK4B,EAAiB7d,KAAI,SAACqc,EAAK9R,GACxB,OACI,qCACI,cAAC2R,GAAD,CAAcjS,UAAU,oBAAoB+U,SAAU3C,EAAIne,OAAQI,QAAS+d,EAAI/d,QAA/E,SAAyF+d,EAAItU,OAC5FwC,EAAQsT,EAAiB9hB,OAAS,GAAM,sBAAMkO,UAAW,OAAjB,uBAKzD,cAAC,GAAD,CACIzN,MAAO/B,EACP4F,SAAUA,EACVnH,MAAO8I,EACP7I,YAAagK,KAAKsZ,kBAClB3E,SAAU/Q,EAAauB,KACvBgP,mBAAoBpI,EACpB0I,MAAK,uBAAkBoF,EAAlB,KACL/E,YAAa9U,KAAKuZ,wBAClB1E,aAAa,EACbN,IAAKuF,IAER3D,IAAcb,IACX,cAACmD,GAAD,UACI,cAAC,GAAD,CACIpf,MAAO5B,EACPyF,SAAU,EACVqX,IAAKxJ,KACLhV,MAAOuV,EACPtV,YAAagK,KAAK2Z,YAClBhF,SAAU/Q,EAAa0B,MACvB6O,mBAAoBlO,EACpBwO,MAAK,kBACLI,aAAa,MAIzB,cAACgE,GAAD,CAAkB/R,UAAU,qBAA5B,SACI,cAACgV,GAAD,CACI3F,UAAWA,EACXE,UAAW6C,EACX9C,YAAavX,EACbqX,WAAY5K,GAAS,IAAIzR,YAAU,GAAGiB,IAAI,IAAIjB,YAAU,IAAIyhB,IAAIrV,IAChErC,aAAcA,MAGtB,qBAAKkD,UAAU,8FAAf,SACI,cAACxL,GAAA,EAAD,CACIugB,SACI7b,KAAKxL,MAAMK,KAAKuC,SACZmkB,GACAG,GACAF,GAGRrgB,QAAS6E,KAAK4Z,OACd3e,QAAS,UACT8Z,MAAO,CACHgH,SAAU,IACV3a,OAAQ,GACR4a,UAAW,GACXC,SAAU,GACVC,WAAY,KAfpB,SAkBMlc,KAAKxL,MAAMK,KAAKuC,QAA6BwkB,EAAnB,+B,GAlTlCrnB,aAkWPmG,gBAAY+I,aAvCH,SAAAC,GACpB,MAAO,CACHpM,UAAWoM,EAAMC,KAAKrM,UACtBG,WAAYiM,EAAMC,KAAKlM,WACvBmM,aAAcuY,YAAgBzY,GAC9B8I,mBAAoB4P,YAAsB1Y,GAC1CkJ,oBAAqByP,YAAuB3Y,GAC5CqT,eAAgBsB,YAAkB3U,GAClCsT,cAAesB,YAAiB5U,OAIb,SAACxF,GACxB,MAAO,CACHic,mBAAoB,SAACtb,EAAQyM,EAAON,EAAMgP,EAAczgB,EAAeL,GAAnD,OAChBgF,EAASoe,aAAuBzd,EAAQyM,EAAON,EAAMgP,EAAczgB,EAAeL,KACtFghB,2BAA4B,SACxBrb,EACAyM,EACAN,EACAgP,EACAzgB,EACAL,EACAF,GAPwB,OAQvBkF,EAASqe,aAA+B1d,EAAQyM,EAAON,EAAMgP,EAAczgB,EAAeL,EAAaF,KAC5GohB,oBAAqB,SACjBvb,EACAmM,EACAzR,EACAL,EACAF,GALiB,OAOjBkF,EAASse,aAAwB3d,EAAQmM,EAAMzR,EAAeL,EAAaF,KAC/Eud,wBAAyB,SAAC1X,EAAQyM,EAAON,EAAM5T,EAASC,GAA/B,OACrB6G,EAASsa,aAAsB3Z,EAAQyM,EAAON,EAAM5T,EAASC,QAK9CoM,CAA6CnP,aAAgB0kB,M,iCCjdlFnkB,GAAO,IAAI0a,KAAKA,KAAKC,eA0CZ/L,gBAfS,SAAAC,GACpB,MAAO,CACH+Y,KAAMxe,YAAyByF,OAIZ,SAAAxF,GACvB,MAAO,CACHwe,iBAAkB,SAACC,EAAa9d,EAAQmM,EAAM5T,EAASC,GAArC,OACd6G,EAASwe,aAAiBC,EAAa9d,EAAQmM,EAAM5T,EAASC,KAClEulB,kBAAmB,SAAC/d,EAAQyM,EAAON,EAAM5T,EAASvC,EAAMwC,GAArC,OACf6G,EAAS0e,aAAkB/d,EAAQyM,EAAON,EAAM5T,EAASvC,EAAMwC,QAI5DoM,EAzCgB,SAAAjP,GAAU,IAAD,EACPE,cAArB0C,EAD4B,EAC5BA,QAASC,EADmB,EACnBA,QACTolB,EAASjoB,EAATioB,KACA5d,EAAwB4d,EAAxB5d,OAAQyM,EAAgBmR,EAAhBnR,MAAON,EAASyR,EAATzR,KAEjB6R,EAAW,yCAAG,6BAAArkB,EAAA,+EAGchE,EAAMooB,kBAAkB/d,EAAQyM,EAAON,EAAM5T,EAASvC,GAAK2a,eAAiB1W,OAAOC,SAAU1B,GAH3G,cAGNslB,EAHM,gBAINnoB,EAAMkoB,iBAAiBC,EAAa9d,EAAQmM,GAJtC,OAMZxW,EAAMsoB,SANM,gDAQZtoB,EAAM6K,YARM,yDAAH,qDAgBjB,OAJA1G,qBAAU,WACNkkB,MACD,CAACJ,EAAMrlB,IAGN,cAAC,KAAD,CAA4BiI,UAAW7K,EAAM6K,UAAWC,YAAa,gCCrBvEzK,GAAO,IAAI0a,KAAKA,KAAKC,eAyCZ/L,gBAhBS,SAAAC,GACpB,MAAO,CACH+Y,KAAMxe,YAAyByF,GAC/BE,aAAcuY,YAAgBzY,GAC9BjM,WAAYC,YAAcgM,OAIP,SAAAxF,GACvB,MAAO,CACH6e,2BAA4B,SAACle,EAAQyM,EAAON,EAAM5T,EAASC,GAA/B,OACxB6G,EAAS8e,aAAyBne,EAAQyM,EAAON,EAAM5T,EAASC,KACpE4lB,cAAe,SAAC7lB,EAASC,GAAV,OAAsB6G,EAASgf,aAA0B9lB,EAASC,QAI1EoM,EAxC2B,SAAAjP,GAAU,IAAD,EAClBE,cAArB0C,EADuC,EACvCA,QACAqlB,GAFuC,EAC9BplB,QAC4B7C,EAArCioB,MAAMM,EAA+BvoB,EAA/BuoB,2BACNle,EAAwB4d,EAAxB5d,OAAQmM,EAAgByR,EAAhBzR,KAAMM,EAAUmR,EAAVnR,MAEhBuR,EAAW,yCAAG,+BAAArkB,EAAA,+EAE6BukB,EAA2Ble,EAAQyM,EAAON,EAAM5T,EAASvC,GAAK2a,eAAiB1W,OAAOC,UAFnH,gBAEJokB,EAFI,EAEJA,OAFI,EAEIC,eAChB5oB,EAAMsoB,OAAOK,GACb3oB,EAAMyoB,gBAJM,kDAMZzoB,EAAM6K,YANM,0DAAH,qDAcjB,OAJA1G,qBAAU,WACNkkB,MACD,CAACJ,EAAMrlB,IAGN,cAAC,KAAD,CAA4BiI,UAAW7K,EAAM6K,UAAWC,YAAa,gCCrBvEzK,GAAO,IAAI0a,KAAKA,KAAKC,eA2CZ/L,gBAhBS,SAAAC,GACpB,MAAO,CACH+Y,KAAMxe,YAAyByF,GAC/BE,aAAcuY,YAAgBzY,GAC9BjM,WAAYC,YAAcgM,OAIP,SAAAxF,GACvB,MAAO,CACHkc,oBAAqB,SAACvb,EAAQmM,EAAM5T,EAASC,GAAxB,OACjB6G,EAASmf,aAAkBxe,EAAQmM,EAAM5T,EAASC,KACtD4lB,cAAe,SAAC7lB,EAASC,GAAV,OAAsB6G,EAASgf,aAA0B9lB,EAASC,QAI1EoM,EA1C2B,SAAAjP,GAAU,IAAD,EAClBE,cAArB0C,EADuC,EACvCA,QACAqlB,GAFuC,EAC9BplB,QACqB7C,EAA9BioB,MAAMrC,EAAwB5lB,EAAxB4lB,oBACNvb,EAA0B4d,EAA1B5d,OAAQmM,EAAkByR,EAAlBzR,KAAMvW,EAAYgoB,EAAZhoB,QAEhBooB,EAAW,yCAAG,+BAAArkB,EAAA,kEAEG,UAAZ/D,EAFS,gCAGiC2lB,EAAoBvb,EAAQmM,EAAM5T,EAASvC,GAAK2a,eAAiB1W,OAAOC,UAHzG,gBAGAokB,EAHA,EAGAA,OAHA,EAGQC,eAChB5oB,EAAMsoB,OAAOK,GACb3oB,EAAMyoB,gBALE,yDAQZzoB,EAAM6K,YARM,0DAAH,qDAgBjB,OAJA1G,qBAAU,WACNkkB,MACD,CAACJ,EAAMrlB,IAGN,cAAC,KAAD,CAA4BiI,UAAW7K,EAAM6K,UAAWC,YAAa,gCC8B9Dge,GAlDO,SAAA9oB,GAAU,IAAD,EACO4D,oBAAS,GADhB,mBACpBmlB,EADoB,KACTC,EADS,OAECplB,mBAAS,MAFV,mBAEpB+kB,EAFoB,KAEZM,EAFY,KAGrBzf,EAAczG,YAAY0G,KAC1BC,EAAWC,cACXrC,EAAyB,OAAhBkC,EAET0f,EAAY,WACdF,GAAa,GACbC,EAAU,MACVvf,EAASyf,aAAyB,QAGhCb,EAAS,SAAC5d,GACZse,GAAa,GACbC,EAAUve,IAGd,OACI,qCACK1K,EAAMsc,SACP,cAAC8M,GAAA,EAAD,CAAOC,KAAM/hB,EAAQgiB,UAAQ,EAACC,OAAQL,EAAtC,SACI,cAACE,GAAA,EAAMI,KAAP,CAAYlX,UAAW,YAAvB,SACMyW,EAkBE,cAAC,KAAD,CAA6BU,QAASC,IAAUC,KAAMhB,EAAQ9d,UAAWqe,IAhBzE,qCACK1f,GAAeA,EAAYogB,OAASC,KAASC,iBACzC,cAACzgB,GAAA,EAAD,CAAawB,UAAWqe,IAG5B1f,GAAeA,EAAYogB,OAASC,KAASE,cAC1C,cAAC,GAAD,CAAwBlf,UAAWqe,EAAWZ,OAAQA,IAEzD9e,GAAeA,EAAYogB,OAASC,KAASG,sBAC1C,cAAC,GAAD,CAAmCnf,UAAWqe,EAAWZ,OAAQA,IAEpE9e,GAAeA,EAAYogB,OAASC,KAASI,eAC1C,cAACC,GAAD,CAA2Brf,UAAWqe,EAAWZ,OAAQA,e,6iCChCzF,IAAMzH,GAAMtgB,UAAO+F,IAAV,MACI,qBAAG6jB,WAA8B,OAAS,UAMxC,qBAAGC,YAAgC,OAAS,UAGrDC,GAAM9pB,UAAO+F,IAAV,MAMH8H,GAAO7N,kBAAOmT,IAAPnT,CAAH,MAiBJ+pB,GAAgB/pB,kBAAO8N,IAAP9N,CAAH,MAmHJgqB,UAhGF,SAAAvqB,GAAU,IAAD,EACM4D,mBAAS,kBADf,mBACXsN,EADW,KACLsZ,EADK,OAEgBznB,aAAY,SAAAmM,GAAK,OAAIA,EAAMC,QAArDrM,EAFU,EAEVA,UAAWG,EAFD,EAECA,WACbyG,EAAWC,cAgBjB,OAdAxF,qBAAU,WACN,GAAIrB,GAAcG,EAEX,CACH,IAAM6N,EAAQ7N,GAAkD,SAApCA,EAAW6B,OAAO2lB,cAA2B,MAAQxnB,EAAW6B,OAAO8L,cAC7FD,EAAO7N,GAAgD,SAAnCA,EAAUgC,OAAO2lB,cAA2B,MAAQ3nB,EAAUgC,OAAO8L,cAC/F4Z,EAAQ,WAAD,OAAY7Z,GAAZ,OAAmBG,SAJ1B0Z,EAAQ,oBAMb,CAAC1nB,EAAWG,IAEfkB,qBAAU,WACNuF,EAASghB,kBACV,CAAChhB,IAGA,cAACihB,EAAA,EAAD,CAAMxoB,OAAO,EAAOyoB,aAAW,EAAC9pB,KAAM,KAAtC,SACI,cAAC,GAAD,UACI,eAAC,GAAD,WACI,eAAC,GAAD,CAAKspB,aAAW,EAAhB,UACI,cAAC,GAAD,UACI,cAAC,EAAD,MAEJ,eAAC,GAAD,WACI,cAAC,GAAD,CAAeS,kBAAkB,IACjC,cAAC,GAAD,UACI,cAAC,IAAD,CACI/lB,OAAQoM,EACRxQ,MAAOoqB,SAAOC,KACdC,qBAAqB,EACrBre,MAAO,OACPC,OAAQ,WAIpB,cAAC,GAAD,UACI,eAAC0d,GAAD,WACI,cAAC,GAAD,IACA,cAAC,GAAD,YAIZ,eAAC,GAAD,CAAKhY,UAAW,sBAAuB8X,aAAW,EAAlD,UACI,cAAC,GAAD,UACI,cAAC,GAAD,MAEJ,cAAC,GAAD,UACI,cAAC,GAAD,SAGR,eAAC,GAAD,CAAKD,YAAU,EAAf,UACI,eAAC,GAAD,WACI,cAAC,GAAD,CAAe1W,UAAU,EAAMoX,kBAAkB,IACjD,cAAC,GAAD,UACI,cAAC,IAAD,CACI/lB,OAAQoM,EACRxQ,MAAOoqB,SAAOC,KACdC,qBAAqB,EACrBre,MAAO,OACPC,OAAQ,WAKpB,cAAC,GAAD,UACI,cAAC,GAAD,MAGJ,cAAC,GAAD,UACI,cAAC0d,GAAD,UACI,cAAC,GAAD,CAAW7W,UAAU,QAG7B,cAAC,GAAD,UACI,cAAC6W,GAAD,UACI,cAAC,GAAD,CAAa7W,UAAU,QAG/B,cAAC,GAAD,UACI,cAAC,EAAD,CAAaA,UAAU,MAG3B,cAAC,GAAD,UACI,cAAC,GAAD,CAAcA,UAAU","file":"static/js/19.ac2f9926.chunk.js","sourcesContent":["import {useActiveWeb3React} from \"../../hooks\";\nimport {useWalletModalToggle} from \"../../state/application/hooks\";\n\nconst withWeb3Account = (Component: any) => {\n    return (props: any) => {\n        const context = useActiveWeb3React();\n        const toggleWalletModal = useWalletModalToggle()\n        return <Component\n            web3={context}\n            toggleWalletModal={toggleWalletModal}\n            { ...props }/>\n    }\n}\n\nexport default withWeb3Account;","import React from 'react'\nimport styled from 'styled-components'\nimport { escapeRegExp } from '../../utils'\n\nconst StyledInput = styled.input<{ error?: boolean; fontSize?: string; align?: string, noBorder?: boolean, reverse?: boolean, size?: string }>`\n  color: ${({ error, theme }) => (error ? theme.red1 : theme.text1)};\n  width: 0;\n  position: relative;\n  font-weight: 500;\n  font-family: inherit;\n  outline: none;\n  border: none;\n  flex: 1 1 auto;\n  background-color: rgba(33, 36, 41, 0.5);\n  font-size: 1rem;\n  text-align: ${({ align }) => align && align};\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  height: ${({ size}) => size === 'sm' ? '48px' : '56px'};\n  border-bottom-right-radius: ${({ reverse }) => reverse ? '0' :  `1.125rem`};\n  border-top-right-radius: ${({ reverse }) => reverse ? '0' :  `1.125rem`};\n  border-bottom-left-radius: ${({ reverse }) => reverse ? '1.125rem' :  `0`};\n  border-top-left-radius: ${({ reverse }) => reverse ? '1.125rem' :  `0`};\n  padding-right: 0.625rem;\n  padding-left: ${({ noBorder, reverse }) => reverse ? '1.375rem' : noBorder ? '0.625rem' : `1.5rem`};\n  -webkit-appearance: textfield;\n  border-left: ${({ theme, noBorder }) => noBorder ? 'none' :  `3px solid ${theme.modalBG}`};\n  \n  @media (min-width: 768px) {\n    \n    padding-right: 4.5625rem;\n  }\n\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n\n  [type='number'] {\n    -moz-appearance: textfield;\n  }\n\n  ::-webkit-outer-spin-button,\n  ::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n  }\n\n  ::placeholder {\n    color: rgba(255, 255, 255, .5);\n  }\n`\n\nconst inputRegex = RegExp(`^\\\\d*(?:\\\\\\\\[.])?\\\\d*$`) // match escaped \".\" characters via in a non-capturing group\n\nexport const Input = React.memo(function InnerInput({\n  value,\n  onUserInput,\n  placeholder,\n  size,\n  ...rest\n}: {\n  value: string | number\n  onUserInput: (input: string) => void\n  error?: boolean\n  fontSize?: string\n  size?: string\n  align?: 'right' | 'left'\n} & Omit<React.HTMLProps<HTMLInputElement>, 'ref' | 'onChange' | 'as'>) {\n  const enforcer = (nextUserInput: string) => {\n    if (nextUserInput === '' || inputRegex.test(escapeRegExp(nextUserInput))) {\n      onUserInput(nextUserInput)\n    }\n  }\n\n  return (\n    <StyledInput\n      {...rest}\n      value={value}\n      onChange={event => {\n        // replace commas with periods, because uniswap exclusively uses period as the decimal separator\n        enforcer(event.target.value.replace(/,/g, '.'))\n      }}\n      // universal input options\n      inputMode=\"decimal\"\n      title=\"Token Amount\"\n      autoComplete=\"off\"\n      autoCorrect=\"off\"\n      size={size}\n      // text-specific options\n      type=\"text\"\n      pattern=\"^[0-9]*[.,]?[0-9]*$\"\n      placeholder={placeholder || '0.0'}\n      minLength={1}\n      maxLength={79}\n      spellCheck=\"false\"\n    />\n  )\n})\n\nexport default Input\n\n// const inputRegex = RegExp(`^\\\\d*(?:\\\\\\\\[.])?\\\\d*$`) // match escaped \".\" characters via in a non-capturing group\n","import { useMemo, useState, useEffect } from 'react';\nimport {tokensToTokenBalances} from \"../utils/spot/tokens\";\nimport {useActiveWeb3React} from \"./index\";\nimport {useSelector} from \"react-redux\";\nimport {getBaseToken, getQuoteToken, searchToken} from \"../state/selectors\";\nimport {getKnownTokens} from \"../utils/known_tokens\";\nimport {useETHBalances} from \"../state/wallet/hooks\";\nimport {BigNumber} from \"@0x/utils\";\n\nexport const useTokenToBalance = (tokens, address, library) => {\n    const [balances, setBalances] = useState([]);\n\n    const fetchBalances = async () => {\n        if(address) {\n            const res = await tokensToTokenBalances(tokens, address, library)\n            setBalances(res);\n        }\n    }\n    useEffect(() => {\n        fetchBalances()\n    }, [address, tokens])\n\n    return useMemo(() => {\n        if(balances.length > 0) {\n            return balances;\n        } else {\n            return []\n        }\n    }, [address, balances, tokens])\n}\n\n\nexport const useSpotBalances = () => {\n    const { account, library } = useActiveWeb3React()\n\n    const baseToken = useSelector(getBaseToken);\n    const quoteToken = useSelector(getQuoteToken);\n\n    const knownTokens = useMemo(() => {\n        return getKnownTokens();\n    }, [])\n    const tokens = useMemo(() => {\n        return knownTokens.getTokens()\n    }, [])\n\n    const wethToken = useMemo(() => {\n        return knownTokens.getWethToken()\n    }, []);\n\n    const t = useMemo(() => {\n        return [...tokens, wethToken]\n    }, [wethToken, tokens])\n    const allBalances = useTokenToBalance(t, account, window.ethereum || library);\n\n    const ethBalance = useETHBalances([account])\n\n    const wethBalance = useMemo(() => {\n        return allBalances.find(b => b.token.symbol === wethToken.symbol);\n    }, [allBalances])\n\n    const tokensBalance = useMemo(() => {\n        return allBalances.filter(b => b.token.symbol !== wethToken.symbol);\n    }, [allBalances])\n\n    const ethereumBalance = useMemo(() => {\n        const ETH = ethBalance[account] ? ethBalance[account].toExact() : null\n        const bn = new BigNumber(ETH * (10 ** 18))\n\n        return {\n            token: ethBalance[account] ? ethBalance[account].currency : undefined,\n            balance: bn\n        }\n    }, [ethBalance]);\n\n    const totalEthBalance = useMemo(() => {\n        if(wethBalance && ethereumBalance) {\n            let total = wethBalance.balance;\n            if(ethereumBalance.token !== undefined) {\n                total = ethereumBalance.balance.plus(wethBalance.balance);\n            }\n\n            return total;\n        } else {\n            return undefined;\n        }\n    }, [ethereumBalance, wethBalance])\n\n    const baseTokenBalance = useMemo(() => {\n\n        return searchToken({ tokenBalances: tokensBalance, wethTokenBalance: wethBalance, tokenToFind: baseToken });\n    }, [baseToken, tokensBalance, wethBalance])\n\n    const quoteTokenBalance = useMemo(() => {\n\n        return searchToken({ tokenBalances: tokensBalance, wethTokenBalance: wethBalance, tokenToFind: quoteToken });\n    }, [quoteToken, tokensBalance, wethBalance])\n\n    return useMemo(() => {\n        return {\n            quoteTokenBalance,\n            baseTokenBalance,\n            totalEthBalance,\n            ethBalance: ethereumBalance,\n            wethBalance,\n            tokensBalance,\n        }\n    }, [account, baseToken, quoteToken, allBalances, baseTokenBalance, quoteTokenBalance])\n}\n","import {useSpotBalances} from \"../../hooks/useTokenToBalance\";\n\n\nconst withBalance = Component => {\n    return props => {\n        const balances = useSpotBalances();\n        console.log(balances);\n        return (\n            <Component\n                {...props}\n                {...balances}\n            />\n        )\n    }\n\n}\n\nexport default withBalance;\n","import styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: space-between;\n  width: 30px;\n  height: 30px;\n  min-width: 30px;\n  min-height: 30px;\n  padding: 10px 6px;\n  background-color: rgba(33, 36, 41, 0.5);\n  border-radius: 30px;\n  opacity: ${({ active }) => active ? '1' : '0.5'};\n  cursor: pointer;\n`\n\nconst Cell = styled.div`\n  height: 2px;\n  border-radius: 9px;\n  width: 13px;\n  background-color: ${({ theme, variant }) => variant ? theme[variant] : '#D3D6E8'};\n  \n  &:not(:last-child) {\n    width: 17px;\n  }\n`\n\nconst BookOption = props => {\n    return (\n        <Wrapper active={props.active} onClick={props.onChange} {...props}>\n            <Cell variant={props.isSell && 'danger'} />\n            <Cell />\n            <Cell variant={props.isBuy && 'success'} />\n        </Wrapper>\n    )\n}\n\nexport default BookOption;\n","import styled from \"styled-components\";\nimport { useState, useCallback } from 'react';\nimport SVG from 'react-inlinesvg';\nimport { darken } from 'polished';\n\nconst Wrapper = styled.div`\n  position: relative;\n  z-index: 2;\n  perspective: 800px;\n`\n\nconst Button = styled.button`\n  height: ${({ size }) => size === 'sm' ? '32px' : '56px'};\n  padding-left: ${({ size }) => size === 'sm' ? '16px' : '20px'};\n  padding-right: ${({ size }) => size === 'sm' ? '22px' : '24px'};\n  border-radius: ${({ size }) => size === 'sm' ? '12px' : '18px'};\n  background-color: ${({variant}) => variant === 'secondary' ? 'rgba(121, 133, 246, 0.15)' : 'rgba(135, 220, 225, 0.15)'};\n  transition: 0.4s ease all;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  color: ${({variant, theme}) => variant === 'secondary' ? theme.secondary2 : theme.primary};\n  border: none;\n  \n  &:hover {\n    background-color: ${({variant, theme}) => variant === 'secondary' ? theme.secondary2 : theme.primary};\n    color: white;\n  }\n  \n  &:focus,\n  &:active {\n    outline: none;\n    background-color: ${({variant, theme}) => variant === 'secondary' ? darken(0.1, theme.secondary2) : darken(0.1, theme.primary)};\n    box-shadow: 0 0 0 5px ${({variant}) => variant === 'secondary' ? 'rgba(121, 133, 246, 0.15)' : 'rgba(135, 220, 225, 0.15)'};\n    color: white;\n  }\n  \n  \n  @media (max-width: 991px) {\n    height: 32px;\n    font-size: .875rem;\n    border-radius: 12px;\n    padding-left: 15px;\n    padding-right: 21px;\n  }\n`\n\nconst ButtonText = styled.span`\n  color: currentColor;\n  font-weight: 500;\n  font-size: 1rem;\n  padding-right: 1rem;\n  \n  \n  @media (max-width: 991px) {\n    padding-right: 0.5rem;\n  }\n`\n\nconst DropdownList = styled.div`\n  background-image: linear-gradient(346.84deg, #9AA7D0 1.12%, #B7C2E4 78.56%);\n  box-shadow: -1px 11px 43px rgba(0, 0, 0, 0.12);\n  border-radius: 12px;\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  right: 0;\n  top: ${({size}) => size === 'sm' ? `42px` : `66px`};\n  min-width: 100%;\n  padding: ${({size}) => size === 'sm' ? `14px` : `20px`};\n  transition: 0.5s ease all;\n  transform-style: preserve-3d;\n  transform-origin: top center;\n  transform: ${({isOpen}) => isOpen ? `translateY(0) scale(1)` : `translateY(20px) scale(0.8)`};\n  opacity: ${({isOpen}) => isOpen ? `1` : `0`};\n  visibility: ${({isOpen}) => isOpen ? `visible` : `hidden`};\n  \n  \n  @media (max-width: 991px) {\n    top: 42px;\n  }\n`\n\nconst DropdownItem = styled.button`\n  border: none;\n  background-color: transparent;\n  font-weight: 500;\n  font-size: 1rem;\n  color: #232429;\n  white-space: nowrap;\n  padding: 0;\n  \n  \n  @media (max-width: 991px) {\n    font-size: 0.875rem;\n  }\n  \n  &:hover,\n  &:focus,\n  &:active {\n    outline: none;\n    text-decoration: none;\n    box-shadow: none;\n  }\n\n  &:not(:last-child) {\n    margin-bottom: ${({size}) => size === 'sm' ? `14px` : `20px`} ;\n  }\n`\n\nconst Dropdown = props => {\n    const [active, setActive] = useState(props.items[props.active] || null);\n    const [open, setOpen] = useState(false);\n\n    const toggleModal = useCallback(() => {\n        setOpen(open => !open);\n    }, [])\n\n    const changeActiveHandler = useCallback((item) => {\n        setActive(item);\n        setOpen(false);\n        if(props.hasOwnProperty('onChange')) {\n            props.onChange(item.value);\n        }\n    }, [props.onChange])\n\n    return (\n        <Wrapper>\n            <Button variant={props.variant} onClick={toggleModal} isOpen={open} size={props.size || 'md'}>\n                <ButtonText>{active ? active.title : props.placeholder || 'Select'}</ButtonText>\n                <SVG src={require('../../../assets/images/global/dropdown.svg').default} />\n            </Button>\n            <DropdownList isOpen={open} size={props.size || 'md'}>\n                {props.items.map((item, i) => {\n                    return (\n                        <DropdownItem size={'sm'} onClick={changeActiveHandler.bind(this, item)} key={`dropdown-${i}`}>{item.title}</DropdownItem>\n                    )\n                })}\n            </DropdownList>\n        </Wrapper>\n    )\n}\n\nexport default Dropdown;\n","export default __webpack_public_path__ + \"static/media/dropdown.4a406929.svg\";","import {UI_DECIMALS_DISPLAYED_ORDER_SIZE} from \"../../constants\";\n\nexport const padRightSplitted = (\n    numBg,\n    decimals = UI_DECIMALS_DISPLAYED_ORDER_SIZE,\n) => {\n    const numBgToFixed = numBg.toFixed(decimals);\n    const numBgToString = numBg.toString();\n\n    const decimalPlaces = (numBgToString.split('.')[1] || []).length;\n\n    let diff = '';\n    let num = numBgToFixed;\n    if (!numBg.isZero() && decimalPlaces < decimals) {\n        diff = numBgToFixed.replace(numBgToString, '');\n        num = numBgToString;\n    }\n\n    return {\n        num,\n        diff,\n    };\n};\n\nexport const truncateAddress = (address) => {\n    return `${address.slice(0, 7)}...${address.slice(address.length - 5)}`;\n};\n","import {ConfirmationPendingContent} from \"../../../../components/TransactionConfirmationModal\";\nimport React, {useEffect, useState} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\n\nimport {getStepsModalCurrentStep} from \"../../../../state/selectors\";\nimport {UNLIMITED_ALLOWANCE_IN_BASE_UNITS} from \"../../../../constants\";\nimport {useActiveWeb3React} from \"../../../../hooks\";\nimport {getContractWrappers} from \"../../../../utils/spot/contractWrapper\";\nimport {ERC20TokenContract} from \"@0x/contract-wrappers\";\nimport {stepsModalAdvanceStep} from \"../../../../state/spotUI/actions\";\n\nconst UnlockToken = props => {\n    const [unlocking, setUnlocking] = useState(false);\n    const { account, library } = useActiveWeb3React();\n    const currentStep = useSelector(getStepsModalCurrentStep);\n    const { address, token } = currentStep;\n    const web3 = props.web3;\n    const dispatch = useDispatch();\n\n    const unlockToken = async () => {\n        try {\n\n            const contractWrappers = await getContractWrappers(web3.getProvider());\n            const approveAddress = address ? address : contractWrappers.contractAddresses.erc20Proxy;\n\n            const erc20Token = new ERC20TokenContract(token.address, contractWrappers.getProvider());\n            const amount = UNLIMITED_ALLOWANCE_IN_BASE_UNITS;\n\n            const tx = await erc20Token.approve(approveAddress, amount).sendTransactionAsync({\n                from: account,\n            });\n            setUnlocking(true)\n            await web3.awaitTransactionSuccessAsync(tx);\n\n            if(tx) {\n                setUnlocking(false)\n                dispatch(stepsModalAdvanceStep());\n            }\n\n        } catch(e) {\n            setUnlocking(false)\n            props.onDismiss();\n        }\n    }\n\n    useEffect(() => {\n        unlockToken();\n    }, [currentStep])\n\n    return (\n        <ConfirmationPendingContent onDismiss={unlocking ? () => null : props.onDismiss} pendingText={unlocking ? 'Unlocking' : 'Waiting for confirmation'} />\n    )\n}\n\nexport default UnlockToken;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar ChevronDown = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"6 9 12 15 18 9\"\n  }));\n});\nChevronDown.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nChevronDown.displayName = 'ChevronDown';\nexport default ChevronDown;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar AlertTriangle = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"12\",\n    y1: \"9\",\n    x2: \"12\",\n    y2: \"13\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"12\",\n    y1: \"17\",\n    x2: \"12.01\",\n    y2: \"17\"\n  }));\n});\nAlertTriangle.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nAlertTriangle.displayName = 'AlertTriangle';\nexport default AlertTriangle;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar ArrowUpCircle = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\"\n  }), /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"16 12 12 8 8 12\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"12\",\n    y1: \"16\",\n    x2: \"12\",\n    y2: \"8\"\n  }));\n});\nArrowUpCircle.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nArrowUpCircle.displayName = 'ArrowUpCircle';\nexport default ArrowUpCircle;","import React, {useCallback, useState} from 'react';\nimport { connect } from 'react-redux';\nimport { BigNumber } from \"@0x/utils\";\nimport styled from 'styled-components';\nimport { lighten } from 'polished';\nimport { withRouter } from 'react-router-dom';\nimport queryString from 'query-string';\n\nimport {ServerState, USE_RELAYER_MARKET_UPDATES} from '../../../../constants';\nimport { getMarketFilters } from '../../../../common/markets';\nimport {changeMarket} from \"../../../../state/spot/actions\";\nimport { formatTokenSymbol } from \"../../../../utils/spot/tokens\";\nimport { filterMarketsByString, filterMarketsByTokenSymbol, marketToString } from \"../../../../utils/spot/market\";\n\nimport { ResponsiveCard } from \"../../../../components/Card\";\nimport {useActiveWeb3React} from \"../../../../hooks\";\nimport Loading from \"../../../../components/Loading\";\nimport {FormControl, InputGroup} from \"react-bootstrap\";\nimport SearchIcon from \"../../../../assets/images/search.svg\";\nimport './styles.scss';\nimport BootstrapTable from \"react-bootstrap-table-next\";\n\nconst Card = styled(ResponsiveCard)`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  margin-bottom: 20px;\n  \n  & .card-body {\n    padding: 30px;\n  }\n  \n  @media (min-width: 1400px) {\n    width: 228px;\n    height: 486px;\n    margin-bottom: 10px;\n  \n    & .card-body {\n      padding: 10px;\n    }\n  }\n`\n\nconst EmptyText = styled.span`\n  font-size: .875rem;\n  font-weight: 400;\n  color: white;\n  \n`\n\nconst CustomInputGroup = styled(InputGroup)`\n  font-size: .75rem;\n  \n  .input-group-text {\n    padding-left: 1.25rem;\n    padding-right: .625rem;\n  }\n  \n  & input {\n    font-size: .75rem !important;\n    padding-left: 0;\n  }\n  \n  & img {\n    width: 1rem;\n    height: 1rem;\n  }\n`\n\n\nconst PriceChange = styled.span`\n    color: ${props => props.value > 0 ? props.theme.success : props.value < 0 ? props.theme.danger : 'rgba(255, 255, 255, 0.5)'};\n    display: block;\n`;\n\nconst TokenFiltersTabs = styled.div`\n  width: 100%;\n  flex-wrap: nowrap;\n  padding: 15px 0;\n`\n\nconst TokenFiltersTab = styled.button`\n  background-color: transparent;\n  border: none;\n  color: ${({ active, theme }) => active ? theme.primary : theme.text1};\n  font-size: 12px;\n  font-weight: 400;\n  \n  &:active,\n  &:focus {\n    outline: none;\n    box-shadow: none;\n    text-decoration: none;\n  }\n`\n\n\nconst Text = styled.span`\n  color: ${({theme, variant}) => variant ? theme[variant] : theme.text1};\n  font-size: .75rem;\n  font-weight: 400;\n  cursor: pointer;\n`\n\nconst AutoHeight = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  overflow-y: auto;\n  overflow-x: hidden;\n  max-height: 360px;\n  \n  \n  @media (max-width: 1400px) {\n    max-height: initial;\n  }\n  \n  /* width */\n  ::-webkit-scrollbar {\n    width: 3px;\n  }\n  \n  /* Track */\n  ::-webkit-scrollbar-track {\n    box-shadow: none;\n    background-color: transparent; \n    border-radius: 10px;\n    padding: 0 6px;\n    margin: 0 6px;\n    border-right: 1px solid white;\n  }\n   \n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n    background: ${({ theme }) => theme.text1}; \n    border-radius: 10px;\n    width: 4px !important;\n    \n  }\n  \n  /* Handle on hover */\n  ::-webkit-scrollbar-thumb:hover {\n    background: ${({ theme }) => lighten(0.08, theme.text1)}; \n  }\n  \n`\n\nconst MarketStats = props => {\n    const { account, library } = useActiveWeb3React();\n    const [query, setQuery] = useState('');\n    const [selectedFilter, setSelectedFilter] = useState(getMarketFilters()[0])\n    const { baseToken, quoteToken, markets, marketsStats, marketsStatsState } = props;\n\n    const _getLastPrice = (market, marketStat) => {\n        if (marketStat && marketStat.last_price) {\n            return new BigNumber(marketStat.last_price).toFixed(market.currencyPair.config.pricePrecision);\n        }\n\n        return '-';\n    };\n\n    const _getLastPriceChange = (marketStat) => {\n        if (marketStat && marketStat.last_price_change_24) {\n            return (\n                <PriceChange value={marketStat.last_price_change_24}>{`${new BigNumber(marketStat.last_price_change_24)\n                    .times(100)\n                    .toFixed(2)} %`}</PriceChange>\n            );\n        }\n\n        return <PriceChange value={0}>{`${new BigNumber(0).toFixed(2)} %`}</PriceChange>;\n    };\n\n    const _setTokensFilterTab = (filter) => {\n        setSelectedFilter(filter);\n    };\n\n    const _setSelectedMarket = (currencyPair, account, library) => {\n        const callback = (currencyPair) => {\n            const newSearch = queryString.stringify({\n                base: currencyPair.base,\n                quote: currencyPair.quote,\n            })\n            props.history.push(`${props.match.path}?${newSearch}`)\n        }\n        callback(currencyPair)\n        props.changeMarket(currencyPair, account, library );\n    };\n\n    const changeQueryHandler = useCallback((e) => {\n        setQuery(e.target.value);\n    }, [])\n\n    const columns = [\n        {\n            dataField: \"market\",\n            text: \"Market\",\n            formatter: (cellContent, row, rowIndex) => {\n                const baseSymbol = formatTokenSymbol(row.currencyPair.base).toUpperCase();\n                const quoteSymbol = formatTokenSymbol(row.currencyPair.quote).toUpperCase();\n                return (\n                    <Text>\n                        {baseSymbol} / {quoteSymbol}\n                    </Text>\n                )\n            },\n        },\n        {\n            dataField: \"price\",\n            text: \"Last Price\",\n            formatter: (cellContent, row, rowIndex, { _getLastPrice, marketsStats }) => {\n                const marketStats =\n                    marketsStats &&\n                    marketsStats.find(m => m.pair.toUpperCase() === marketToString(row.currencyPair));\n                return (\n                    <Text>\n                        {_getLastPrice(row, marketStats)}\n                    </Text>\n                )\n            },\n            formatExtraData: {\n                _getLastPrice,\n                marketsStats\n            },\n        },\n\n    ]\n\n    const rowEvents = {\n        onClick: (e, row) => {\n            _setSelectedMarket(row.currencyPair, account, library);\n        }\n    }\n\n\n    const _getMarkets = () => {\n        const { baseToken, markets } = props;\n\n        if (!baseToken || !markets) {\n            return null;\n        }\n\n        const filteredMarkets =\n            selectedFilter == null || selectedFilter.value === null\n                ? markets\n                : filterMarketsByTokenSymbol(markets, selectedFilter.value);\n        const searchedMarkets = filterMarketsByString(filteredMarkets, query);\n\n        return (\n            <AutoHeight>\n                <BootstrapTable\n                    bordered={false}\n                    classes=\"table table-head-custom table-borderless table-vertical-center overflow-hidden market-stats__table\"\n                    bootstrap4\n                    keyField={'id'}\n                    remote\n                    rowEvents={rowEvents}\n                    data={searchedMarkets === null ? [] : searchedMarkets}\n                    columns={columns}\n                />\n            </AutoHeight>\n        )\n    }\n\n    if(!baseToken || !quoteToken || marketsStatsState === ServerState.NotLoaded) {\n        return (\n            <Card>\n                <div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n                    <Loading width={40} height={40} id={`spots-${props.isMobile ? 'mobile' : 'desktop'}`} active/>\n                </div>\n            </Card>\n        )\n    } else if (!baseToken || !quoteToken) {\n        return (\n            <Card>\n                <div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n                    <EmptyText>here are no market details to show</EmptyText>\n                </div>\n            </Card>\n        )\n    } else if (!markets && !marketsStats) {\n        return (\n            <Card>\n                <div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n                    <Loading width={40} height={40} id={`spots-markets-loading-${props.isMobile ? 'mobile' : 'desktop'}`} active/>\n                </div>\n            </Card>\n        )\n    }\n\n    return (\n        <Card>\n            <CustomInputGroup className={'w-auto'}>\n                <InputGroup.Prepend>\n                    <InputGroup.Text>\n                        <img src={SearchIcon} alt=\"search\"/>\n                    </InputGroup.Text>\n                </InputGroup.Prepend>\n                <FormControl id=\"PoolsSearch\" placeholder=\"Search\" onChange={changeQueryHandler}/>\n            </CustomInputGroup>\n\n            <TokenFiltersTabs className={'d-flex align-items-center justify-content-between'}>\n                {getMarketFilters().map((filter, index) => {\n                    return (\n                        <TokenFiltersTab\n                            active={filter === selectedFilter}\n                            key={index}\n                            onClick={_setTokensFilterTab.bind(this, filter)}\n                        >\n                            {filter.text}\n                        </TokenFiltersTab>\n                    );\n                })}\n            </TokenFiltersTabs>\n            {_getMarkets()}\n        </Card>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        baseToken: state.spot.baseToken,\n        currencyPair: state.spot.currencyPair,\n        markets: state.spot.markets,\n        quoteToken: state.spot.quoteToken,\n        marketsStats: state.spot.marketsStats,\n        marketsStatsState: state.relayer.marketsStatsState,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        changeMarket: (currencyPair) => dispatch(changeMarket(currencyPair))\n    };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(MarketStats));\n","import { connect } from 'react-redux';\nimport { BigNumber } from '@0x/utils';\nimport styled from \"styled-components\";\n\nimport { USE_RELAYER_MARKET_UPDATES } from '../../../../constants';\nimport { changeMarket } from \"../../../../state/spot/actions\";\nimport { formatTokenName, formatTokenSymbol, getEtherscanLinkForToken, tokenAmountInUnits } from \"../../../../utils/spot/tokens\";\nimport {\n    getCurrentMarketLastPrice,\n    getCurrentMarketTodayClosedOrders,\n    getCurrentMarketTodayHighPrice,\n    getCurrentMarketTodayLowerPrice,\n    getCurrentMarketTodayQuoteVolume\n} from \"../../../../state/selectors\";\nimport StyledCard from \"../../../../components/Card\";\nimport {useActiveWeb3React} from \"../../../../hooks\";\nimport Loading from \"../../../../components/Loading\";\nimport React from \"react\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport Img from \"../../../../components/UI/Img\";\nimport {toAbsoluteUrl} from \"../../../../lib/helper\";\nimport './styles.scss';\nimport ResponsiveTable from \"../../../../components/ResponsiveTable\";\n\n\nconst Card = styled(StyledCard)`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  margin-bottom: 20px;\n  \n  & .card-body {\n    padding: 24px 20px 20px;\n  }\n  \n  @media (min-width: 1400px) {\n    width: 570px;\n    height: 103px;\n    margin-bottom: 10px;\n  \n    & .card-body {\n      padding: 24px;\n    }\n  }\n`\n\nconst Logo = styled(Img)`\n  width: 24px;\n  min-width: 24px;\n  height: 24px;\n  border-radius: 24px;\n  border: 1px solid white;\n  display: block;\n  margin-right: 5px;\n  \n  @media (max-width: 1400px) {\n    margin-right: 10px;\n  }\n`\n\nconst Text = styled.span`\n  color: ${({theme, variant}) => variant ? theme[variant] : theme.text1};\n  font-size: .875rem;\n  font-weight: 500;\n`\n\nconst MarketDetails = props => {\n    const { baseToken, quoteToken, currencyPair } = props;\n\n    const { highPrice, lowerPrice, volume, closedOrders, lastPrice } = props;\n\n    const marketStats = {\n        highPrice,\n        lowerPrice,\n        volume,\n        closedOrders,\n        lastPrice,\n    };\n\n\n    const columns = [\n        {\n            dataField: \"project\",\n            text: \"Project\",\n            formatter: (cellContent, row, rowIndex) => {\n                return (\n                    <div className=\"d-flex align-items-center\">\n                        <Logo src={toAbsoluteUrl(`/${row.baseToken.icon}`)}/>\n                    </div>\n                )\n            },\n        },\n        {\n            dataField: \"last_price\",\n            text: \"Last Price\",\n            formatter: (cellContent, row, rowIndex) => {\n                const lastPrice = row.marketStats.lastPrice\n                    ? new BigNumber(row.marketStats.lastPrice).toFixed(row.currencyPair.config.pricePrecision)\n                    : '-';\n                return (\n                    <Text>{lastPrice}</Text>\n                )\n            },\n        },\n        {\n            dataField: \"max_price\",\n            text: \"Max 24H\",\n            formatter: (cellContent, row, rowIndex) => {\n                return (\n                    <Text>\n                        {(row.marketStats.highPrice && row.marketStats.highPrice.toFixed(row.currencyPair.config.pricePrecision)) || '-'}\n                    </Text>\n                )\n            },\n        },\n        {\n            dataField: \"min_price\",\n            text: \"Min 24H\",\n            formatter: (cellContent, row, rowIndex) => {\n                return (\n                    <Text>\n                        {(row.marketStats.lowerPrice && row.marketStats.lowerPrice.toFixed(4)) || '-'}\n                    </Text>\n                )\n            },\n        },\n        {\n            dataField: \"volume\",\n            text: \"Volume 24H\",\n            formatter: (cellContent, row, rowIndex) => {\n\n                let volume;\n                if (USE_RELAYER_MARKET_UPDATES) {\n                    volume =\n                        (row.marketStats.volume &&\n                            `${row.marketStats.volume.toFixed(row.quoteToken.displayDecimals)} ${formatTokenSymbol(row.quoteToken.symbol)}`) ||\n                        '- ';\n                } else {\n                    volume =\n                        (row.marketStats.volume &&\n                            `${tokenAmountInUnits(\n                                row.marketStats.volume,\n                                row.quoteToken.decimals,\n                                row.quoteToken.displayDecimals,\n                            ).toString()} ${formatTokenSymbol(row.quoteToken.symbol)}`) ||\n                        '- ';\n                }\n                return (\n                    <Text>\n                        {volume}\n                    </Text>\n                )\n            },\n        },\n        {\n            dataField: \"closed_orders\",\n            text: \"Orders Closed\",\n            formatter: (cellContent, row, rowIndex) => {\n                return (\n                    <Text>\n                        {row.marketStats.closedOrders || '-'}\n                    </Text>\n                )\n            },\n        },\n    ]\n\n    if(!baseToken || !quoteToken) {\n        return (\n            <Card>\n                <div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n                    <Loading width={40} height={40} id={`spots-markets-details-${props.isMobile ? 'mobile' : 'desktop'}`} active/>\n                </div>\n            </Card>\n        )\n    }\n\n\n    return (\n        <Card>\n            <BootstrapTable\n                wrapperClasses=\"d-none d-lg-block\"\n                bordered={false}\n                classes=\"table table-head-custom table-borderless table-vertical-center overflow-hidden market-details__table\"\n                bootstrap4\n                keyField={'id'}\n                remote\n                data={[{marketStats, baseToken, quoteToken, currencyPair}]}\n                columns={columns}\n            />\n            <ResponsiveTable breakpoint={'lg'} columns={columns} data={[{marketStats, baseToken, quoteToken, currencyPair}]} direction={'rtl'} withoutBorder/>\n        </Card>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        baseToken: state.spot.baseToken,\n        currencyPair: state.spot.currencyPair,\n        quoteToken: state.spot.quoteToken,\n        highPrice: getCurrentMarketTodayHighPrice(state),\n        lowerPrice: getCurrentMarketTodayLowerPrice(state),\n        volume: getCurrentMarketTodayQuoteVolume(state),\n        closedOrders: getCurrentMarketTodayClosedOrders(state),\n        lastPrice: getCurrentMarketLastPrice(state),\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        changeMarket: (currencyPair) => dispatch(changeMarket(currencyPair))\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MarketDetails);\n","import { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { lighten } from 'polished';\nimport {BigNumber} from \"@0x/utils\";\n\nimport {\n    getOrderBook, getOrderbookState,\n    getSpread,\n    getSpreadInPercentage,\n    getTotalBaseSellOrders,\n    getTotalQuoteBuyOrders\n} from \"../../../../state/selectors\";\nimport {ZERO, UI_DECIMALS_DISPLAYED_SPREAD_PERCENT, OrderSide, ServerState} from \"../../../../constants\";\nimport { formatTokenSymbol, tokenAmountInUnits } from '../../../../utils/spot/tokens';\nimport {\n    setMakerAmountSelected,\n    setOrderBuyPriceSelected,\n    setOrderPriceSelected,\n    setOrderSellPriceSelected\n} from \"../../../../state/spotUI/actions\";\nimport React, {Component} from \"react\";\nimport Loading from \"../../../../components/Loading\";\nimport BookOption from \"../../../../components/BookOption\";\nimport Dropdown from \"../../../../components/UI/Dropdown\";\nimport {padRightSplitted} from \"../../../../utils/spot/numberUtils\";\n\nconst Container = styled.div`\n  width: 260px;\n  display: flex;\n  flex-direction: column;\n  \n  @media (max-width: 1400px) {\n    width: 100%;\n  }\n`\n\nconst EmptyText = styled.span`\n  font-size: .875rem;\n  font-weight: 400;\n  color: white;\n  \n`\nconst BookOptionType = {\n    BuySellBook: 0,\n    SellBook: 1,\n    BuyBook: 2,\n}\n\nconst StyledBookOption = styled(BookOption)`\n  &:not(:last-child) {\n    margin-right: 10px;\n  }\n`\n\nconst HeaderRow = styled.div`\n  margin-bottom: 12px;\n  \n  @media (max-width: 1400px) {\n    margin-bottom: 34px;\n  }\n`\nconst TitleRow = styled.div`\n  margin-bottom: 15px;\n  \n  @media (max-width: 1400px) {\n    margin-bottom: 10px;\n    align-items: flex-end;\n  }\n`\nconst TableRow = styled.div`\n  display: flex;\n  flex: 1;\n  max-height: 382px;\n  flex-direction: column;\n  \n  @media (max-width: 1400px) {\n    margin-bottom: 0;\n    max-height: initial;\n  }\n`\n\nconst Title = styled.span`\n  color: white;\n  font-weight: bold;\n  font-size: 1rem;\n  line-height: 1;\n  \n  @media (max-width: 1400px) {\n    margin-bottom: 10px;\n  }\n  \n`\n\nconst Result = styled.span`\n  color: white;\n  font-weight: 500;\n  font-size: 0.75rem;\n`\n\nconst TR = styled.div`\n  padding: 6px 16px;\n  border-radius: 12px;\n  margin-bottom: 12px;\n  max-height: 32px;\n  height: 32px;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n   \n  @media (max-width: 1400px) {\n    max-height: 56px;\n    padding: 18px 20px;\n    border-radius: 18px;\n    height: 56px;\n  }\n`\nconst CustomHead = styled(TR)`\n  background-color: rgba(255, 255, 255, 0.1);\n`\n\nconst InnerTR = styled(TR)`\n  background-color: transparent;\n  cursor: pointer;\n  transition: all ease 0.3s;\n  margin-bottom: 2px;\n  max-height: 24px;\n  padding: 4px 16px;\n  \n  @media (max-width: 1400px) {\n    max-height: 56px;\n    padding: 18px 20px;\n    border-radius: 18px;\n    height: 56px;\n  }\n  \n  &:hover {\n    background-color: rgba(255, 255, 255, 0.06);\n  }\n`\n\nconst TH = styled.span`\n  color: white;\n  font-size: .75rem;\n  font-weight: 400;\n  white-space: nowrap;\n`\n\nconst SpreadTitle = styled.span`\n  color: white;\n  font-size: .75rem;\n  font-weight: 500;\n  white-space: nowrap;\n`\n\nconst SpreadTR = styled(CustomHead)`\n  margin-bottom: 8px;\n  margin-top: 4px;\n`\n\nconst TD = styled.span`\n  color: ${({ theme, variant }) => variant ? theme[variant] : 'white'};\n  font-size: .75rem;\n  font-weight: 400;\n  padding-right: 5px;\n`\n\nconst TBody = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  max-height: 306px;\n  min-height: 306px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  \n  \n  @media (max-width: 1400px) {\n    max-height: initial;\n  }\n  \n  /* width */\n  ::-webkit-scrollbar {\n    width: 3px;\n  }\n  \n  /* Track */\n  ::-webkit-scrollbar-track {\n    box-shadow: none;\n    background-color: transparent; \n    border-radius: 10px;\n    padding: 0 6px;\n    margin: 0 6px;\n    border-right: 1px solid white;\n  }\n   \n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n    background: ${({ theme }) => theme.text1}; \n    border-radius: 10px;\n    width: 4px !important;\n    \n  }\n  \n  /* Handle on hover */\n  ::-webkit-scrollbar-thumb:hover {\n    background: ${({ theme }) => lighten(0.08, theme.text1)}; \n  }\n`\n\nconst depthItems = [\n    {\n        value: 5,\n        title: '5'\n    },\n    {\n        value: 10,\n        title: '10'\n    },\n    {\n        value: 20,\n        title: '20'\n    },\n    {\n        value: 50,\n        title: '50'\n    },\n]\n\nclass OrderToRow extends Component {\n    render() {\n        const { order, index, baseToken, priceColor, mySizeOrders = [], currencyPair } = this.props;\n        const basePrecision = currencyPair.config.basePrecision;\n        const pricePrecision = currencyPair.config.pricePrecision;\n\n        const size = tokenAmountInUnits(order.size, baseToken.decimals, basePrecision);\n        const price = order.price.toString();\n\n        const mySize = mySizeOrders.reduce((sumSize, mySizeItem) => {\n            if (mySizeItem.price.eq(order.price)) {\n                return sumSize.plus(mySizeItem.size);\n            }\n            return sumSize;\n        }, ZERO);\n\n        const mySizeConverted = tokenAmountInUnits(mySize, baseToken.decimals, basePrecision);\n        const isMySizeEmpty = mySize.eq(new BigNumber(0));\n        const numSplitted = padRightSplitted(new BigNumber(size), basePrecision);\n\n        return (\n            <InnerTR\n                onClick={() => this._setOrderPriceSelected(order.price)}\n            >\n                <TD>{numSplitted.num}</TD>\n                <TD variant={priceColor}>\n                    {parseFloat(price).toFixed(pricePrecision)}\n                </TD>\n                <TD>\n                    {isMySizeEmpty ? '-' : mySizeConverted}\n                </TD>\n            </InnerTR>\n        )\n    }\n\n    _setOrderPriceSelected = async (size) => {\n        const { order, orders } = this.props;\n        let totalSize = ZERO;\n        if (order.side === OrderSide.Buy) {\n            totalSize = orders.reduce((sumSize, sizeItem) => {\n                if (order.price.lte(sizeItem.price)) {\n                    return sumSize.plus(sizeItem.size);\n                }\n                return sumSize;\n            }, ZERO);\n        } else {\n            totalSize = orders.reduce((sumSize, sizeItem) => {\n                if (order.price.gte(sizeItem.price)) {\n                    return sumSize.plus(sizeItem.size);\n                }\n                return sumSize;\n            }, ZERO);\n        }\n        if (order.side === OrderSide.Buy) {\n            await this.props.onSetOrderBuyPriceSelected(size);\n        } else {\n            await this.props.onSetOrderSellPriceSelected(size);\n        }\n\n        await this.props.onSetOrderPriceSelected(size);\n        await this.props.onSetMakerAmountSelected(totalSize);\n    };\n}\n\n\nconst mapOrderToRowDispatchToProps = (dispatch) => {\n    return {\n        onSetOrderPriceSelected: (orderPriceSelected) => dispatch(setOrderPriceSelected(orderPriceSelected)),\n        onSetOrderBuyPriceSelected: (orderPriceSelected) =>\n            dispatch(setOrderBuyPriceSelected(orderPriceSelected)),\n        onSetOrderSellPriceSelected: (orderPriceSelected) =>\n            dispatch(setOrderSellPriceSelected(orderPriceSelected)),\n        onSetMakerAmountSelected: (makerAmountSelected) =>\n            dispatch(setMakerAmountSelected(makerAmountSelected)),\n    };\n};\n\nconst OrderToRowContainer = connect(null, mapOrderToRowDispatchToProps)(OrderToRow);\n\nclass Orderbook extends Component {\n    state = {\n        depth: { value: this.props.defaultDepth || 5 },\n        bookOption: BookOptionType.BuySellBook,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this._spreadRowScrollable = React.createRef();\n        this._spreadRowFixed = React.createRef();\n        this._itemsScroll = React.createRef();\n    }\n\n    render() {\n        const {\n            orderBook,\n            baseToken,\n            quoteToken,\n            absoluteSpread,\n            percentageSpread,\n            currencyPair,\n            totalQuoteBuyOrders,\n            totalBaseSellOrders,\n            serverState\n        } = this.props;\n        const { sellOrders, buyOrders, mySizeOrders } = orderBook;\n\n        const mySizeSellArray = mySizeOrders.filter((order) => {\n            return order.side === OrderSide.Sell;\n        });\n        const mySizeBuyArray = mySizeOrders.filter((order) => {\n            return order.side === OrderSide.Buy;\n        });\n        const getColor = (order) => {\n            return order.side === OrderSide.Buy ? 'success' : 'danger';\n        };\n        let content;\n\n        if((!baseToken || !quoteToken) || serverState === ServerState.NotLoaded){\n            content = (\n                <div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n                    <Loading width={40} height={40} id={`orderbooks-${this.props.isMobile ? 'mobile' : 'desktop'}`} active/>\n                </div>\n            )\n        } else if ((!buyOrders.length && !sellOrders.length) || !baseToken || !quoteToken) {\n            content = (\n                <div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n                    <EmptyText>There are no orders to show</EmptyText>\n                </div>\n            )\n        } else {\n            const spreadAbsFixed = absoluteSpread.toFixed(currencyPair.config.pricePrecision);\n            const spreadPercentFixed = percentageSpread.toFixed(UI_DECIMALS_DISPLAYED_SPREAD_PERCENT);\n            const basePrecision = currencyPair.config.basePrecision;\n\n            const totalBase = tokenAmountInUnits(totalBaseSellOrders, baseToken.decimals, basePrecision);\n\n            const totalQuote = tokenAmountInUnits(totalQuoteBuyOrders, quoteToken.decimals, 2);\n\n            const baseSymbol = formatTokenSymbol(baseToken.symbol);\n            const quoteSymbol = formatTokenSymbol(quoteToken.symbol);\n\n            const handleDepth = (value) => {\n                this.setState({ depth: { value: Number(value) } });\n            };\n\n            const bookOptionState = this.state.bookOption;\n            const handleBookOption = (option) => {\n                this.setState({ bookOption: option });\n            };\n\n            content = (\n                <>\n                    <HeaderRow className=\"d-flex align-items-center justify-content-between\">\n                        <div className={'d-flex align-items-center'}>\n                            <StyledBookOption\n                                active={bookOptionState === BookOptionType.BuySellBook}\n                                onChange={() => handleBookOption(BookOptionType.BuySellBook)}\n                                isSell={true}\n                                isBuy\n                            />\n                            <StyledBookOption\n                                active={bookOptionState === BookOptionType.BuyBook}\n                                onChange={() => handleBookOption(BookOptionType.BuyBook)}\n                                isBuy\n                            />\n                            <StyledBookOption\n                                active={bookOptionState === BookOptionType.SellBook}\n                                onChange={() => handleBookOption(BookOptionType.SellBook)}\n                                isSell\n                            />\n                        </div>\n                        <div className=\"d-flex align-items-center\">\n                            <Dropdown size={'sm'} items={depthItems} placeholder={'Depth'} onChange={handleDepth} />\n                        </div>\n                    </HeaderRow>\n                    <TitleRow className=\"d-flex align-items-xl-center justify-content-between\">\n                        <Title>Asks</Title>\n                        <Result>{`Total: ${totalBase} ${baseSymbol}`}</Result>\n                    </TitleRow>\n                    <TableRow>\n                        <CustomHead>\n                            <TH>Trade Size</TH>\n                            <TH>Price ({formatTokenSymbol(quoteToken.symbol)})</TH>\n                            <TH>My Size</TH>\n                        </CustomHead>\n                        <TBody>\n\n                            {((bookOptionState === BookOptionType.BuySellBook ||\n                                bookOptionState === BookOptionType.SellBook)) && sellOrders\n                                .slice(sellOrders.length - this.state.depth.value, sellOrders.length)\n                                .map((order, index) => (\n                                    <OrderToRowContainer\n                                        key={index}\n                                        order={order}\n                                        index={index}\n                                        count={sellOrders.length}\n                                        orders={sellOrders}\n                                        baseToken={baseToken}\n                                        priceColor={getColor(order)}\n                                        mySizeOrders={mySizeSellArray}\n                                        currencyPair={currencyPair}\n                                    />\n                                ))}\n\n                            <SpreadTR>\n                                <SpreadTitle>Spread</SpreadTitle>\n                                <SpreadTitle>{spreadAbsFixed}</SpreadTitle>\n                                <SpreadTitle>{spreadPercentFixed}%</SpreadTitle>\n                            </SpreadTR>\n\n                            {((bookOptionState === BookOptionType.BuyBook ||\n                                bookOptionState === BookOptionType.BuySellBook)) && (\n                                buyOrders.slice(0, this.state.depth.value).map((order, index) => (\n                                    <OrderToRowContainer\n                                        key={index}\n                                        order={order}\n                                        index={index}\n                                        count={buyOrders.length}\n                                        orders={buyOrders}\n                                        baseToken={baseToken}\n                                        priceColor={getColor(order)}\n                                        mySizeOrders={mySizeBuyArray}\n                                        currencyPair={currencyPair}\n                                    />\n                                ))\n                            )}\n                        </TBody>\n\n\n                        <CustomHead>\n                            <SpreadTitle>Bids</SpreadTitle>\n                            <SpreadTitle>{`${totalQuote} ${quoteSymbol}`}</SpreadTitle>\n                            <SpreadTitle> </SpreadTitle>\n                        </CustomHead>\n                    </TableRow>\n                </>\n            )\n        }\n\n        return (\n            <Container>\n                {content}\n            </Container>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        baseToken: state.spot.baseToken,\n        currencyPair: state.spot.currencyPair,\n        quoteToken: state.spot.quoteToken,\n        userOrders: state.relayer.userOrders,\n        orderBookState: state.relayer.orderBookState,\n        orderBook: getOrderBook(state),\n        absoluteSpread: getSpread(state),\n        percentageSpread: getSpreadInPercentage(state),\n        totalQuoteBuyOrders: getTotalQuoteBuyOrders(state),\n        totalBaseSellOrders: getTotalBaseSellOrders(state),\n        serverState: getOrderbookState(state),\n    }\n}\n\nexport default connect(mapStateToProps)(Orderbook);\n","import { withRouter } from 'react-router-dom';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport {\n    updateERC20Markets,\n    updateERC20Store,\n    updateMarketPriceEther,\n    updateMarketPriceQuote,\n    updateMarketPriceTokens\n} from \"../../../../state/spot/actions\";\nimport withWeb3Account from \"../../../../components/hoc/withWeb3Account\";\nimport {\n    UI_UPDATE_CHECK_INTERVAL, UPDATE_ERC20_MARKETS,\n    UPDATE_ETHER_PRICE_INTERVAL,\n    UPDATE_TOKENS_PRICE_INTERVAL\n} from \"../../../../constants\";\nimport Web3 from \"web3\";\n\nconst web3 = new Web3(Web3.givenProvider);\n\nclass Provider extends Component {\n    _deactivatePollingUpdates = () => {\n        if (this._updateStoreInterval) {\n            clearInterval(this._updateStoreInterval);\n            this._updateStoreInterval = undefined;\n        }\n\n        if (this._updatePriceEtherInterval) {\n            clearInterval(this._updatePriceEtherInterval);\n            this._updatePriceEtherInterval = undefined;\n        }\n        if (this._updatePriceTokensInterval) {\n            clearInterval(this._updatePriceTokensInterval);\n            this._updatePriceTokensInterval = undefined;\n        }\n        if (this._updateERC20MarketsInterval) {\n            clearInterval(this._updateERC20MarketsInterval);\n            this._updateERC20MarketsInterval = undefined;\n        }\n    };\n\n    _activatePollingUpdates = () => {\n        this.props.onUpdateERC20Markets();\n        this.props.onUpdateMarketPriceTokens();\n        this.props.onUpdateMarketPriceEther();\n        this.props.onUpdateMarketPriceQuote();\n        if(this.props.web3.account) {\n            this.props.onUpdateERC20Store(this.props.web3.account, web3.givenProvider || window.ethereum);\n        }\n        // Enables realtime updates of the store using polling\n        if (UI_UPDATE_CHECK_INTERVAL !== 0 && !this._updateStoreInterval) {\n            this._updateStoreInterval = window.setInterval(async () => {\n                if(this.props.web3.account) {\n                    this.props.onUpdateERC20Store(this.props.web3.account, web3.givenProvider || window.ethereum);\n                    this.props.onUpdateMarketPriceQuote();\n                    this.setState({\n                        isActiveCheckUpdates: true,\n                    });\n                }\n            }, UI_UPDATE_CHECK_INTERVAL);\n        }\n\n        // Enables realtime updates of the price ether and quote token using polling\n        if (!this._updatePriceEtherInterval && UPDATE_ETHER_PRICE_INTERVAL !== 0) {\n            this._updatePriceEtherInterval = window.setInterval(async () => {\n                this.props.onUpdateMarketPriceEther();\n                this.props.onUpdateMarketPriceQuote();\n            }, UPDATE_ETHER_PRICE_INTERVAL);\n        }\n        // Enables realtime updates of token prices\n        if (\n            !this._updatePriceTokensInterval &&\n            UPDATE_TOKENS_PRICE_INTERVAL !== 0\n        ) {\n            this._updatePriceTokensInterval = window.setInterval(async () => {\n                this.props.onUpdateMarketPriceTokens();\n            }, UPDATE_TOKENS_PRICE_INTERVAL);\n        }\n        // Enables realtime updates of the token markets\n        if (!this._updateERC20MarketsInterval && UPDATE_ERC20_MARKETS !== 0) {\n            this._updateERC20MarketsInterval = window.setInterval(async () => {\n                this.props.onUpdateERC20Markets();\n            }, UPDATE_ERC20_MARKETS);\n        }\n    };\n\n    componentDidMount() {\n        if (this.props.web3.account) {\n            this._activatePollingUpdates();\n        }else {\n            this.props.onUpdateERC20Markets();\n            this.props.onUpdateMarketPriceTokens();\n            this.props.onUpdateMarketPriceEther();\n            this.props.onUpdateMarketPriceQuote();\n            this.props.onUpdateERC20Store(\"\", undefined);\n            this._deactivatePollingUpdates();\n        }\n    }\n\n    componentWillUnmount = () => {\n        clearInterval(this._updateStoreInterval);\n        clearInterval(this._updatePriceEtherInterval);\n        clearInterval(this._updatePriceTokensInterval);\n        clearInterval(this._updateERC20MarketsInterval);\n    };\n\n\n    render = () => this.props.children;\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onUpdateMarketPriceEther: () => dispatch(updateMarketPriceEther()),\n        onUpdateMarketPriceQuote: () => dispatch(updateMarketPriceQuote()),\n        onUpdateMarketPriceTokens: () => dispatch(updateMarketPriceTokens()),\n        onUpdateERC20Markets: () => dispatch(updateERC20Markets()),\n        onUpdateERC20Store: (account, library) => dispatch(updateERC20Store(account, library))\n    }\n}\n\nexport default withRouter(connect(null, mapDispatchToProps)(withWeb3Account(Provider)));\n","import { connect } from 'react-redux';\n\nimport {OrderSide, ServerState, USE_RELAYER_MARKET_UPDATES} from \"../../../../constants\";\nimport { changeMarket } from \"../../../../state/spot/actions\";\nimport { isWeth } from \"../../../../utils/known_tokens\";\nimport { getCurrencyPairByTokensSymbol } from \"../../../../utils/spot/knownCurrencyPair\";\nimport { marketToStringFromTokens } from \"../../../../utils/spot/market\";\nimport { formatTokenSymbol, tokenAmountInUnits } from \"../../../../utils/spot/tokens\";\nimport Loading from \"../../../../components/Loading\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport {lighten} from \"polished\";\n\nconst EmptyText = styled.span`\n  font-size: .875rem;\n  font-weight: 400;\n  color: white;\n  \n`\nconst Container = styled.div`\n  width: 280px;\n  display: flex;\n  flex-direction: column;\n  \n  @media (max-width: 1400px) {\n    width: 100%;\n  }\n`\n\n\nconst TR = styled.div`\n  padding: 4px 16px;\n  border-radius: 12px;\n  margin-bottom: 4px;\n  max-height: 24px;\n  height: 24px;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  \n  @media (max-width: 1400px) {\n    max-height: 56px;\n    padding: 18px 20px;\n    border-radius: 18px;\n    height: 56px;\n  }\n`\nconst CustomHead = styled(TR)`\n  background-color: rgba(255, 255, 255, 0.1);\n  max-height: 32px;\n  height: 32px;\n  margin-bottom: 12px;\n  padding: 8px 16px;\n`\n\nconst TH = styled.span`\n  color: white;\n  font-size: .75rem;\n  font-weight: 400;\n`\n\n\nconst TD = styled.span`\n  color: ${({ theme, variant }) => variant ? theme[variant] : 'white'};\n  font-size: .75rem;\n  font-weight: 400;\n  padding-right: 5px;\n`\n\nconst TBody = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  max-height: 338px;\n  min-height: 338px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  \n  \n  @media (max-width: 1400px) {\n    max-height: initial;\n  }\n  \n  /* width */\n  ::-webkit-scrollbar {\n    width: 3px;\n  }\n  \n  /* Track */\n  ::-webkit-scrollbar-track {\n    box-shadow: none;\n    background-color: transparent; \n    border-radius: 10px;\n    padding: 0 6px;\n    margin: 0 6px;\n    border-right: 1px solid white;\n  }\n   \n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n    background: ${({ theme }) => theme.text1}; \n    border-radius: 10px;\n    width: 4px !important;\n    \n  }\n  \n  /* Handle on hover */\n  ::-webkit-scrollbar-thumb:hover {\n    background: ${({ theme }) => lighten(0.08, theme.text1)}; \n  }\n`\n\nconst TableContainer = styled.div`\n  padding-top: 77px;\n  padding-left: 8px;\n  \n  \n  @media (max-width: 1400px) {\n    padding: 0;\n  }\n`\n\nconst fillToRow = (fill, index) => {\n    let amountBase;\n    USE_RELAYER_MARKET_UPDATES\n        ? (amountBase = fill.amountBase.toFixed(fill.tokenBase.displayDecimals))\n        : (amountBase = tokenAmountInUnits(fill.amountBase, fill.tokenBase.decimals, fill.tokenBase.displayDecimals));\n\n    const displayAmountBase = `${amountBase}`;\n    let currencyPair;\n    try {\n        currencyPair = getCurrencyPairByTokensSymbol(fill.tokenBase.symbol, fill.tokenQuote.symbol);\n    } catch {\n        return null;\n    }\n    const price = parseFloat(fill.price.toString()).toFixed(currencyPair.config.pricePrecision);\n\n    return (\n        <TR key={index}>\n            <TD variant={fill.side === OrderSide.Buy ? 'success' : 'danger'}>\n                {price}\n            </TD>\n            <TD>{displayAmountBase}</TD>\n            <TD>\n                {fill.timestamp.toISOString().slice(-13, -5)}\n            </TD>\n        </TR>\n    );\n};\nconst MarketFills = props => {\n    let content;\n    const { marketFills, baseToken, quoteToken, marketFillsState } = props;\n\n    if(!baseToken || !quoteToken || marketFillsState === ServerState.NotLoaded) {\n        content = (\n            <div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n                <Loading width={40} height={40} id={`market-fills-${props.isMobile ? 'mobile' : 'desktop'}`} active/>\n            </div>\n        )\n    }else if (!Object.keys(marketFills).length || !baseToken || !quoteToken || !marketFills[marketToStringFromTokens(baseToken, quoteToken)]) {\n        content = (\n            <div className={'d-flex flex-column'}>\n                <div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n                    <EmptyText>There are no trades to show</EmptyText>\n                </div>\n            </div>\n        )\n    } else {\n\n        const market = marketToStringFromTokens(baseToken, quoteToken);\n        const tokenQuoteSymbol = isWeth(quoteToken.symbol) ? 'ETH' : quoteToken.symbol.toUpperCase();\n        const tokenBaseSymbol = isWeth(baseToken.symbol) ? 'ETH' : baseToken.symbol.toUpperCase();\n\n        content = (\n            <TableContainer className=\"d-flex flex-column\">\n                <CustomHead>\n                    <TH >Price ({tokenQuoteSymbol})</TH>\n                    <TH>Amount</TH>\n                    <TH>Time</TH>\n                </CustomHead>\n                <TBody>\n                    {marketFills[market].map((marketFill, index) => fillToRow(marketFill, index))}\n                </TBody>\n            </TableContainer>\n        )\n    }\n\n    return (\n        <Container>\n            {content}\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        baseToken: state.spot.baseToken,\n        marketFills: state.spotUI.marketFills,\n        quoteToken: state.spot.quoteToken,\n        marketFillsState:  state.relayer.marketFillsState,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        changeMarket: (currencyPair) => dispatch(changeMarket(currencyPair))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MarketFills);\n","import { connect } from 'react-redux';\nimport styled from \"styled-components\";\nimport React from \"react\";\nimport {OrderStatus} from \"@0x/types\";\nimport { lighten } from 'polished';\n\nimport { isWeth } from \"../../../../utils/known_tokens\";\nimport { tokenAmountInUnits } from \"../../../../utils/spot/tokens\";\nimport { OrderSide } from '../../../../constants';\nimport { getCurrencyPairFromTokens } from \"../../../../utils/spot/knownCurrencyPair\";\nimport Loading from \"../../../../components/Loading\";\nimport { ResponsiveCard } from \"../../../../components/Card\";\nimport {cancelOrder} from \"../../../../state/relayer/actions\";\nimport {CloseIcon} from \"../../../../theme\";\nimport {RowBetween} from \"../../../../components/Row\";\nimport {useActiveWeb3React} from \"../../../../hooks\";\n\nconst Card = styled(ResponsiveCard)`\n\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  margin-bottom: 10px;\n  min-height: 385px;\n  \n    & .card-body {\n      padding: 20px 30px 30px;\n      display: flex;\n      flex-direction: column;\n    }\n  \n  @media (min-width: 1400px) {\n    width: 570px;\n    height: 385px;\n  \n    & .card-body {\n      padding: 15px;\n      display: flex;\n      flex-direction: column;\n    }\n  }\n`\n\nconst CardTitle = styled.h4`\n  margin-top: 5px;\n  padding: 0;\n  margin-bottom: 10px;\n  font-size: .875rem;\n  font-weight: 700;\n  color: white;\n`\n\nconst Content = styled.div`\n  background-color: rgba(33, 36, 41, 0.5);\n  border-radius: 18px;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  max-height: 323px;\n  overflow: hidden;\n  \n  \n  \n`\n\n\nconst InnerContent = styled.div`\n  width: 100%;\n  height: 100%;\n  max-height: 100%;\n  overflow-x: hidden;\n  overflow-y: auto;\n  flex: 1;\n  padding: 12px;\n  \n  \n  @media (max-width: 1400px) {\n    padding: 20px;\n  }\n  \n  /* width */\n  ::-webkit-scrollbar {\n    width: 3px;\n  }\n  \n  /* Track */\n  ::-webkit-scrollbar-track {\n    box-shadow: none;\n    background-color: transparent; \n    border-radius: 10px;\n    padding: 0 6px;\n    margin: 0 6px;\n    border-right: 1px solid white;\n  }\n   \n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n    background: ${({ theme }) => theme.text1}; \n    border-radius: 10px;\n    width: 4px !important;\n    \n  }\n  \n  /* Handle on hover */\n  ::-webkit-scrollbar-thumb:hover {\n    background: ${({ theme }) => lighten(0.08, theme.text1)}; \n  }\n  \n`\n\nconst EmptyText = styled.span`\n  font-size: .875rem;\n  font-weight: 400;\n  color: white;\n  \n`\n\nconst TR = styled.div`\n  padding: 4px 16px;\n  border-radius: 12px;\n  margin-bottom: 10px;\n  max-height: 24px;\n  height: 24px;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr 1fr;\n`\nconst CustomHead = styled(TR)`\n  background-color: rgba(255, 255, 255, 0.1);\n  max-height: 40px;\n  height: 40px;\n  padding: 12px 16px;\n  margin-bottom: 12px;\n`\n\nconst TH = styled.span`\n  color: white;\n  font-size: .75rem;\n  font-weight: 400;\n`\n\n\nconst TD = styled.span`\n  color: ${({ theme, variant }) => variant ? theme[variant] : 'white'};\n  font-size: .875rem;\n  font-weight: 400;\n  padding-right: 5px;\n`\n\nconst TBody = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  \n  /* width */\n  ::-webkit-scrollbar {\n    width: 3px;\n  }\n  \n  /* Track */\n  ::-webkit-scrollbar-track {\n    box-shadow: none;\n    background-color: transparent; \n    border-radius: 10px;\n    padding: 0 6px;\n    margin: 0 6px;\n    border-right: 1px solid white;\n  }\n   \n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n    background: ${({ theme }) => theme.text1}; \n    border-radius: 10px;\n    width: 4px !important;\n    \n  }\n  \n  /* Handle on hover */\n  ::-webkit-scrollbar-thumb:hover {\n    background: ${({ theme }) => lighten(0.08, theme.text1)}; \n  }\n`\n\nconst Close = styled(CloseIcon)`\n  width: 16px;\n  height: 16px;\n`\n\nconst orderToRow = (order, index, baseToken, quoteToken, cancelOrder) => {\n    const sideLabel = order.side === OrderSide.Sell ? 'Sell' : 'Buy';\n    const size = tokenAmountInUnits(order.size, baseToken.decimals, baseToken.displayDecimals);\n    let status = '--';\n    let isOrderFillable = false;\n\n    const filled = order.filled\n        ? tokenAmountInUnits(order.filled, baseToken.decimals, baseToken.displayDecimals)\n        : null;\n    if (order.status) {\n        isOrderFillable = order.status === OrderStatus.Fillable;\n        status = isOrderFillable ? 'Open' : 'Filled';\n    }\n    const currencyPair = getCurrencyPairFromTokens(baseToken, quoteToken);\n    const price = parseFloat(order.price.toString()).toFixed(currencyPair.config.pricePrecision);\n\n    return (\n        <TR key={index}>\n            <TD variant={order.side === OrderSide.Buy ? 'success' : 'danger'}>{sideLabel}</TD>\n            <TD>{size}</TD>\n            <TD>{filled}</TD>\n            <TD>{price}</TD>\n            <TD>\n                <div className=\"d-flex align-items-center justify-content-between\">\n                    <span>{status}</span>\n\n                    <Close onClick={cancelOrder.bind(this, order)} />\n                </div>\n            </TD>\n        </TR>\n    );\n};\n\n\nconst OrderHistory = props => {\n    const { account } = useActiveWeb3React();\n    const { orders, baseToken, quoteToken } = props;\n    const ordersToShow = orders.filter(order => order.status === OrderStatus.Fillable);\n\n    let content;\n\n    if(!baseToken || !quoteToken) {\n        content = (\n            <div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n                <Loading width={40} height={40} id={`order-history-${props.isMobile ? 'mobile' : 'desktop'}`} active/>\n            </div>\n        )\n    } else if (!ordersToShow.length || !baseToken || !quoteToken || !account) {\n        content = (\n            <div className=\"w-100 h-100 d-flex align-items-center justify-content-xl-center\">\n                <EmptyText>There are no orders to show</EmptyText>\n            </div>\n        )\n    } else {\n        const tokenQuoteSymbol = isWeth(quoteToken.symbol) ? 'ETH' : quoteToken.symbol.toUpperCase();\n        const tokenBaseSymbol = isWeth(baseToken.symbol) ? 'ETH' : baseToken.symbol.toUpperCase();\n\n        content = (\n            <div className=\"d-flex flex-column\">\n                <CustomHead>\n                    <TH>Side</TH>\n                    <TH>Size ({tokenBaseSymbol})</TH>\n                    <TH>Filled ({tokenBaseSymbol})</TH>\n                    <TH>Price ({tokenQuoteSymbol})</TH>\n                    <TH>Status</TH>\n                </CustomHead>\n                <TBody>\n                    {ordersToShow.map((order, index) => orderToRow(order, index, baseToken, quoteToken, props.onCancelOrder))}\n                </TBody>\n            </div>\n        )\n    }\n\n    return (\n        <Card>\n            <CardTitle>Open Orders</CardTitle>\n            <Content>\n                <InnerContent>\n                    {content}\n                </InnerContent>\n            </Content>\n        </Card>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        baseToken: state.spot.baseToken,\n        orders: state.relayer.userOrders,\n        quoteToken: state.spot.quoteToken,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onCancelOrder: (order) => dispatch(cancelOrder(order))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(OrderHistory);\n","import React, {useEffect, useState} from 'react'\nimport styled from 'styled-components'\n\nimport { RowBetween } from '../Row'\nimport { Input as NumericalInput } from '../NumericalInput'\nimport {tokenAmountInUnits, unitsInTokenAmount} from \"../../utils/spot/tokens\";\nimport {ZERO} from \"../../constants\";\nimport {ETHER, Token} from \"@uniswap/sdk\";\nimport {useCurrencyBalance} from \"../../state/wallet/hooks\";\nimport {useActiveWeb3React} from \"../../hooks\";\n\nconst InputRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap};\n  align-items: center;\n  \n  padding: 0.625rem 0 0;\n  \n  \n  @media (min-width: 768px) {\n    padding-top: 0.75rem;\n  }\n`\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 34px;\n  \n  @media (min-width: 768px) {\n    margin-bottom: 15px;\n  }\n`\n\nconst Label = styled.span`\n  color: white;\n  font-size: .875rem;\n  font-weight: 400;\n  padding: 0 ;\n  \n  @media (min-width: 768px) {\n    padding: 0 1rem;\n  font-weight: 700;\n  }\n`\n\nconst InputContainer = styled.div`\n  position: relative;\n  display: flex;\n  align-items: center;\n  flex-wrap: nowrap;\n  flex: 1;\n  \n`\n\nconst LabelRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap};\n  align-items: center;\n  color: ${({ theme }) => theme.text1};\n  font-size: 0.75rem;\n  line-height: 1rem;\n  padding: 0;\n`\n\n\nconst Aligner = styled.span`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  @media (min-width: 768px) {\n  justify-content: space-between;\n  }\n`\n\nconst InputPanel = styled.div`\n  ${({ theme }) => theme.flexColumnNoWrap};\n  position: relative;\n  border-radius: 0.42rem;\n`\n\n\nconst StyledTokenName = styled.span`\n  font-size:  0.875rem;\n  font-weight: 500;\n  \n  @media (min-width: 768px) {\n    font-size:  1rem;\n    margin-right: auto;\n  }\n\n`\n\n\nconst CurrencySelect = styled.button`\n  align-items: center;\n  height: 48px;\n  font-size: 0.875rem;\n  font-weight: 500;\n  background-color: rgba(33, 36, 41, 0.5);\n  color: white;\n  border-bottom-left-radius: 18px;\n  border-top-left-radius: 18px;\n  box-shadow: none;\n  outline: none;\n  cursor: pointer;\n  user-select: none;\n  border: none;\n  padding: 0.875rem 0.625rem;\n  min-width: 116px;\n  width: 116px;\n  text-align: center;\n  \n  \n  @media (min-width: 768px) {\n  min-width: 90px;\n  width: 90px;\n  padding: .625rem 1rem;\n  font-size: 1rem;\n  font-weight: 700;\n  text-align: left;\n  }\n\n  :focus,\n  :hover {\n    background-color: ${({ theme }) => theme.bg1};\n    outline: none;\n  }\n`\n\nlet BalanceRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap};\n  align-items: center;\n  margin-top: 10px;\n  color: ${({ theme }) => theme.text1};\n  opacity: 0.5;\n  font-size: 0.75rem;\n  font-weight: 400;\n  line-height: 1rem;\n  padding: 0;\n  \n  \n  @media (min-width: 768px) {\n    padding: 0 1rem;\n  }\n`\n\nexport default class SpotInputPanel extends React.Component {\n    state = {\n        valueStr: this.props.value\n            ? tokenAmountInUnits(this.props.value, this.props.decimals, this.props.valueFixedDecimals)\n            : '',\n    }\n\n\n    _updateValue = value => {\n\n        const newValue = unitsInTokenAmount(value || '0', this.props.decimals);\n        const invalidValue = this.props.min && newValue.isLessThan(this.props.min);\n        if (invalidValue) {\n            return;\n        }\n\n        this.props.onUserInput(newValue);\n        this.setState({\n            valueStr: value,\n        })\n    };\n\n\n    static getDerivedStateFromProps = (props, state) => {\n        const { decimals, value, valueFixedDecimals } = props;\n        const { valueStr } = state;\n\n        if (!value) {\n            return {\n                valueStr: '',\n            };\n        } else if (value && !unitsInTokenAmount(valueStr || '0', decimals).eq(value)) {\n            return {\n                valueStr: tokenAmountInUnits(value, decimals, valueFixedDecimals),\n            };\n        } else {\n            return null;\n        }\n    };\n\n\n    render() {\n        const {\n            label = 'Input',\n            disable = false,\n            selected,\n            hideInput = false,\n            id,\n            showBalance = true,\n            balanceText,\n        } = this.props;\n        const { valueStr } = this.state;\n\n        return (\n            <InputPanel id={id}>\n                <Container>\n                    {!hideInput && (\n                        <LabelRow>\n                            <RowBetween>\n                                <Label>\n                                    {label}\n                                </Label>\n                            </RowBetween>\n                        </LabelRow>\n                    )}\n                    <InputRow style={hideInput ? { padding: '0', borderRadius: '0.42rem' } : {}} selected={disable}>\n\n                        <CurrencySelect\n                            selected={!!selected}\n                            className=\"open-currency-select-button\"\n                        >\n                            <Aligner>\n                                <StyledTokenName className=\"token-symbol-container\" active={Boolean(selected)}>\n                                    {(selected && selected?.length > 20\n                                        ? (selected?.slice(0, 4) +\n                                            '...' +\n                                            selected?.slice(selected?.length - 5, selected?.length)).toUpperCase()\n                                        : selected.toUpperCase()) || `Select`}\n                                </StyledTokenName>\n                            </Aligner>\n                        </CurrencySelect>\n\n                        {!hideInput && (\n                            <InputContainer>\n                                <NumericalInput\n                                    size={'sm'}\n                                    className=\"token-amount-input pl-3 \"\n                                    value={valueStr}\n                                    onUserInput={this._updateValue}\n                                />\n                            </InputContainer>\n                        )}\n                    </InputRow>\n                    {selected && showBalance && (\n                        <BalanceRow>\n                            {balanceText()}\n                        </BalanceRow>\n                    )}\n                </Container>\n            </InputPanel>\n        )\n    }\n\n}\n","import { BigNumber, NULL_BYTES } from '@0x/utils';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\n\nimport {OrderSide, ZERO} from '../../constants';\nimport { fetchTakerAndMakerFee } from \"../../state/relayer/actions\";\nimport { getOpenBuyOrders, getOpenSellOrders, getQuoteInUsd } from \"../../state/selectors\";\nimport {getKnownTokens} from \"../../utils/known_tokens\";\nimport {formatTokenSymbol, tokenAmountInUnits, unitsInTokenAmount} from \"../../utils/spot/tokens\";\nimport {toUnitAmount} from \"../../lib/helper\";\nimport {buildMarketOrders, sumTakerAssetFillableOrders} from \"../../utils/spot/orders\";\nimport withWeb3Account from \"../hoc/withWeb3Account\";\n\nconst Row = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  &:not(:last-child) {\n    margin-bottom: 30px;\n  }\n`\n\nconst Text = styled.span`\n  font-size: .75rem;\n  font-weight: 400;\n  color: white;\n  \n  \n  @media (min-width: 768px) {\n    padding-left: 1rem;\n    font-size: .875rem;\n    font-weight: 700;\n  }\n`\n\nconst OrderType = {\n    Limit: 'Limit',\n    Market: 'Market',\n}\n\nclass OrderDetails extends React.Component {\n    state = {\n        makerFeeAmount: ZERO,\n        takerFeeAmount: ZERO,\n        makerFeeAssetData: NULL_BYTES,\n        takerFeeAssetData: NULL_BYTES,\n        quoteTokenAmount: ZERO,\n        canOrderBeFilled: true,\n    };\n\n    componentDidUpdate = async (prevProps) => {\n        const newProps = this.props;\n        if (\n            newProps.tokenPrice !== prevProps.tokenPrice ||\n            newProps.orderType !== prevProps.orderType ||\n            newProps.tokenAmount !== prevProps.tokenAmount ||\n            newProps.currencyPair !== prevProps.currencyPair ||\n            newProps.orderSide !== prevProps.orderSide\n        ) {\n            await this._updateOrderDetailsState();\n        }\n    };\n\n    _updateOrderDetailsState = async () => {\n        const { currencyPair, orderType, orderSide } = this.props;\n        if (!currencyPair) {\n            return;\n        }\n\n        if (orderType === OrderType.Limit) {\n            const { tokenAmount, tokenPrice, onFetchTakerAndMakerFee, web3 } = this.props;\n            const { quote, base } = currencyPair;\n            const quoteToken = getKnownTokens().getTokenBySymbol(quote);\n            const baseToken = getKnownTokens().getTokenBySymbol(base);\n            // TODO: Check if this precision is enough, price was giving error on precision\n            const priceInQuoteBaseUnits = unitsInTokenAmount(tokenPrice.toString(), quoteToken.decimals);\n            const baseTokenAmountInUnits = toUnitAmount(tokenAmount, baseToken.decimals);\n            const quoteTokenAmount = baseTokenAmountInUnits.multipliedBy(priceInQuoteBaseUnits);\n            const { makerFee, makerFeeAssetData, takerFee, takerFeeAssetData } = await onFetchTakerAndMakerFee(\n                tokenAmount,\n                tokenPrice,\n                orderSide,\n                web3.account,\n                window.ethereum || web3.library\n            );\n            this.setState({\n                makerFeeAmount: makerFee,\n                makerFeeAssetData,\n                takerFeeAmount: takerFee,\n                takerFeeAssetData,\n                quoteTokenAmount,\n            });\n        } else {\n            const { tokenAmount, openSellOrders, openBuyOrders } = this.props;\n            const isSell = orderSide === OrderSide.Sell;\n            const [ordersToFill, amountToPayForEachOrder, canOrderBeFilled] = buildMarketOrders(\n                {\n                    amount: tokenAmount,\n                    orders: isSell ? openBuyOrders : openSellOrders,\n                },\n                orderSide,\n            );\n            // HACK(dekz): we assume takerFeeAssetData is either empty or is consistent through all orders\n            const firstOrderWithFees = ordersToFill.find(o => o.takerFeeAssetData !== NULL_BYTES);\n            const takerFeeAssetData = firstOrderWithFees ? firstOrderWithFees.takerFeeAssetData : NULL_BYTES;\n            const takerFeeAmount = ordersToFill.reduce((sum, order) => sum.plus(order.takerFee), ZERO);\n            const quoteTokenAmount = sumTakerAssetFillableOrders(orderSide, ordersToFill, amountToPayForEachOrder);\n\n            this.setState({\n                takerFeeAmount,\n                takerFeeAssetData,\n                quoteTokenAmount,\n                canOrderBeFilled,\n            });\n        }\n    };\n\n    _getCostStringForRender = () => {\n        const { canOrderBeFilled } = this.state;\n        const { orderType } = this.props;\n        if (orderType === OrderType.Market && !canOrderBeFilled) {\n            return `---`;\n        }\n\n        const { quote } = this.props.currencyPair;\n        const quoteToken = getKnownTokens().getTokenBySymbol(quote);\n        const { quoteTokenAmount } = this.state;\n        //  const quoteTokenAmountUnits = tokenAmountInUnits(quoteTokenAmount, quoteToken.decimals);\n        const costAmount = tokenAmountInUnits(quoteTokenAmount, quoteToken.decimals, quoteToken.displayDecimals);\n        return `${costAmount} ${formatTokenSymbol(quote)}`;\n    };\n\n    _getMedianPriceStringForRender = () => {\n        const { canOrderBeFilled } = this.state;\n        const { orderType } = this.props;\n        const { tokenAmount } = this.props;\n        if (orderType === OrderType.Market && !canOrderBeFilled) {\n            return `---`;\n        }\n        if (tokenAmount.eq(0)) {\n            return `---`;\n        }\n        const { quote, base, config } = this.props.currencyPair;\n        const { quoteTokenAmount } = this.state;\n        const quoteToken = getKnownTokens().getTokenBySymbol(quote);\n        const baseToken = getKnownTokens().getTokenBySymbol(base);\n        const quoteTokenAmountUnits = new BigNumber(tokenAmountInUnits(quoteTokenAmount, quoteToken.decimals, 18));\n        const baseTokenAmountUnits = new BigNumber(tokenAmountInUnits(tokenAmount, baseToken.decimals, 18));\n        const priceDisplay = quoteTokenAmountUnits.div(baseTokenAmountUnits).toFormat(config.pricePrecision + 1);\n        return `${priceDisplay} ${formatTokenSymbol(quote)}`;\n    };\n\n    _getCostLabelStringForRender = () => {\n        const { qouteInUSD, orderSide } = this.props;\n        if (qouteInUSD) {\n            return orderSide === OrderSide.Sell ? 'Total' : 'Cost';\n        } else {\n            return orderSide === OrderSide.Sell ? 'Total' : 'Cost';\n        }\n    };\n\n    componentDidMount = async () => {\n        await this._updateOrderDetailsState();\n    };\n\n    render = () => {\n        // const fee = this._getFeeStringForRender();\n        const cost = this._getCostStringForRender();\n        const costText = this._getCostLabelStringForRender();\n        const priceMedianText = this._getMedianPriceStringForRender();\n        const { orderType } = this.props;\n\n        return (\n            <>\n                <Row>\n                    <Text>{costText}</Text>\n                    <Text>{cost}</Text>\n                </Row>\n                {orderType === OrderType.Market && (\n                    <Row>\n                        <Text>Median Price:</Text>\n                        <Text>{priceMedianText}</Text>\n                    </Row>\n                )}\n            </>\n        );\n    };\n}\n\n\n\nconst mapStateToProps = (state) => {\n    return {\n        openSellOrders: getOpenSellOrders(state),\n        openBuyOrders: getOpenBuyOrders(state),\n        qouteInUSD: getQuoteInUsd(state),\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        onFetchTakerAndMakerFee: (amount, price, side, account, library) =>\n            dispatch(fetchTakerAndMakerFee(amount, price, side, account, library)),\n    };\n};\nexport default withWeb3Account(connect(mapStateToProps, mapDispatchToProps)(OrderDetails));\n","import { connect } from 'react-redux';\nimport {BigNumber} from \"@0x/utils\";\nimport {Component} from \"react\";\nimport { Button } from 'react-bootstrap';\nimport styled from 'styled-components';\n\nimport {ZERO, IS_ORDER_LIMIT_MATCHING, OrderSide} from \"../../../../constants\";\nimport {\n    startBuySellLimitMatchingSteps,\n    startBuySellLimitSteps,\n    startBuySellMarketSteps,\n} from '../../../../state/spotUI/actions';\nimport { fetchTakerAndMakerFee } from \"../../../../state/relayer/actions\";\nimport { isWeth, getKnownTokens } from \"../../../../utils/known_tokens\";\nimport { formatTokenSymbol, tokenAmountInUnits, tokenAmountInUnitsToBigNumber, unitsInTokenAmount } from \"../../../../utils/spot/tokens\";\nimport {\n    getCurrencyPair,\n    getMakerAmountSelected,\n    getOpenBuyOrders,\n    getOpenSellOrders,\n    getOrderPriceSelected\n} from \"../../../../state/selectors\";\nimport { ResponsiveCard } from \"../../../../components/Card\";\nimport SpotInputPanel from \"../../../../components/SpotInputPanel\";\nimport OrderDetailsContainer from '../../../../components/OrderDetailsContainer'\nimport withBalance from \"../../../../components/hoc/withBalance\";\nimport withWeb3Account from \"../../../../components/hoc/withWeb3Account\";\n\nconst Card = styled(ResponsiveCard)`\n  margin-bottom: 20px;\n  \n  & .card-body {\n    padding: 30px;      \n  }\n  \n  @media (min-width: 1400px) {\n    width: 580px;\n    height: 385px;\n    margin-bottom: 10px;\n  \n    & .card-body {\n      padding: 20px;\n      display: flex;\n      flex-direction: column;\n      \n    }\n  }\n`\n\nconst QuoteContainer = styled.div`\n  display: flex;\n  flex-direction: column;  \n  margin-bottom: -5px;\n  \n  @media (max-width: 1400px) {\n    padding-top: 0;\n    margin-bottom: -24px;\n  }\n`\n\nconst TabsContainer = styled.div`\n  margin-left: -20px;\n  margin-right: -20px;\n  margin-bottom: 10px;\n  \n  @media (max-width: 1400px) {\n    flex-direction: column-reverse;\n    align-items: stretch !important;\n    margin-bottom: 45px;\n  }\n`\n\nconst TabWrapper = styled.div`\n  padding: 0 20px;\n  flex: 1;\n  \n  @media (max-width: 1400px) {\n    &:not(:first-child) {\n      margin-bottom: 10px;\n    }\n  }\n`\n\nconst Tab = styled(Button)`\n  height: 48px;\n  font-size: 1rem;\n  font-weight: 500;\n  width: 100%;\n`\n\nconst Content = styled.div`\n  flex: 1;\n  position: relative;\n`\n\nconst DetailsContainer = styled.div`\n  margin-bottom: auto;\n`\n\nconst MarketType = styled.div`\n  position: absolute;\n  top: -14px;\n  right: 0;\n  z-index: 2;\n`\n\nconst MarketButton = styled.button`\n  :disabled {\n    color: white;\n    opacity: 1;\n  }\n`\n\nconst OrderType = {\n    Limit: 'Limit',\n    Market: 'Market',\n}\n\nconst TIMEOUT_BTN_ERROR = 2000;\nconst TIMEOUT_CARD_ERROR = 4000;\n\nclass BuySell extends Component {\n    state = {\n        makerAmount: null,\n        price: null,\n        orderType: OrderType.Limit,\n        tab: OrderSide.Buy,\n        error: {\n            btnMsg: null,\n            cardMsg: null,\n        },\n    };\n\n    componentDidUpdate = async (prevProps) => {\n        const newProps = this.props;\n        if (newProps.orderPriceSelected !== prevProps.orderPriceSelected && this.state.orderType === OrderType.Limit) {\n            this.setState({\n                price: newProps.orderPriceSelected,\n            });\n        }\n\n        if (\n            newProps.makerAmountSelected !== prevProps.makerAmountSelected &&\n            this.state.orderType === OrderType.Market\n        ) {\n            this.setState({\n                makerAmount: newProps.makerAmountSelected,\n            });\n        }\n    };\n\n\n    changeTab = (tab) => () => this.setState({ tab });\n\n    updateMakerAmount = (newValue) => {\n        this.setState({\n            makerAmount: newValue,\n        });\n    };\n\n\n    getAmountAvailableLabel = () => {\n        const { baseTokenBalance, quoteTokenBalance, totalEthBalance } = this.props;\n        const { tab } = this.state;\n        if (tab === OrderSide.Sell) {\n            if (baseTokenBalance) {\n                const tokenBalanceAmount = isWeth(baseTokenBalance.token.symbol)\n                    ? totalEthBalance\n                    : baseTokenBalance.balance;\n                const baseBalanceString = tokenAmountInUnits(\n                    tokenBalanceAmount,\n                    baseTokenBalance.token.decimals,\n                    baseTokenBalance.token.displayDecimals,\n                );\n                const symbol = formatTokenSymbol(baseTokenBalance.token?.symbol);\n                return `Available: ${baseBalanceString}  ${symbol}`;\n            } else {\n                return null;\n            }\n        } else {\n            if (quoteTokenBalance) {\n                const tokenBalanceAmount = isWeth(quoteTokenBalance.token?.symbol)\n                    ? totalEthBalance\n                    : quoteTokenBalance.balance;\n                const quoteBalanceString = tokenAmountInUnits(\n                    tokenBalanceAmount,\n                    quoteTokenBalance.token?.decimals,\n                    quoteTokenBalance.token?.displayDecimals,\n                );\n                const symbol = formatTokenSymbol(quoteTokenBalance.token?.symbol);\n                return `Available: ${quoteBalanceString}  ${symbol}`;\n            } else {\n                return null;\n            }\n        }\n    };\n\n\n    updatePrice = (price) => {\n        this.setState({ price });\n    };\n\n\n\n    submit = async () => {\n        if(!this.props.web3.account) {\n            this.props.toggleWalletModal();\n            return false;\n        }\n        const { currencyPair, tokensBalance, wethBalance, ethBalance, web3 } = this.props;\n        const minAmount = currencyPair.config.minAmount;\n        const decimals = getKnownTokens().getTokenBySymbol(currencyPair.base).decimals;\n        const minAmountUnits = unitsInTokenAmount(String(minAmount), decimals);\n\n        const orderSide = this.state.tab;\n        const makerAmount = this.state.makerAmount || minAmountUnits;\n        const price = this.state.price || new BigNumber(0);\n\n        const orderFeeData = await this.props.onFetchTakerAndMakerFee(makerAmount, price, this.state.tab, web3.account, window.ethereum || web3.library);\n\n        if (this.state.orderType === OrderType.Limit) {\n            if (IS_ORDER_LIMIT_MATCHING) {\n                const result = await this.props.onSubmitLimitOrderMatching(makerAmount, price, orderSide, orderFeeData, tokensBalance, wethBalance, ethBalance);\n                if (result === 0) {\n                    await this.props.onSubmitLimitOrder(makerAmount, price, orderSide, orderFeeData, tokensBalance, wethBalance);\n                }\n            } else {\n                await this.props.onSubmitLimitOrder(makerAmount, price, orderSide, orderFeeData, tokensBalance, wethBalance);\n            }\n        } else {\n            try {\n                await this.props.onSubmitMarketOrder(makerAmount, orderSide, tokensBalance, wethBalance, ethBalance.balance);\n            } catch (error) {\n                this.setState(\n                    {\n                        error: {\n                            btnMsg: 'Error',\n                            cardMsg: error.message,\n                        },\n                    },\n                    () => {\n                        // After a timeout both error message and button gets cleared\n                        setTimeout(() => {\n                            this.setState({\n                                error: {\n                                    ...this.state.error,\n                                    btnMsg: null,\n                                },\n                            });\n                        }, TIMEOUT_BTN_ERROR);\n                        setTimeout(() => {\n                            this.setState({\n                                error: {\n                                    ...this.state.error,\n                                    cardMsg: null,\n                                },\n                            });\n                        }, TIMEOUT_CARD_ERROR);\n                    },\n                );\n            }\n        }\n        this._reset();\n    };\n\n\n    _reset = () => {\n        this.setState({\n            makerAmount: null,\n        });\n    };\n\n    _switchToMarket = () => {\n        this.setState({\n            orderType: OrderType.Market,\n        });\n    };\n\n    _switchToLimit = () => {\n        this.setState({\n            orderType: OrderType.Limit,\n        });\n    };\n\n\n    _getCostLabelStringForRender = () => {\n        const { qouteInUSD, orderSide } = this.props;\n        if (qouteInUSD) {\n            return orderSide === OrderSide.Sell ? 'Total' : 'Cost';\n        } else {\n            return orderSide === OrderSide.Sell ? 'Total' : 'Cost';\n        }\n    };\n\n    render() {\n        const { currencyPair, quoteTokenBalance, baseTokenBalance, totalEthBalance, baseToken, quoteToken } = this.props;\n        const { makerAmount, price, tab, orderType, error } = this.state;\n\n        const buySellInnerTabs = [\n            {\n                active: orderType === OrderType.Limit,\n                onClick: this._switchToLimit,\n                text: 'Limit',\n            },\n            {\n                active: orderType === OrderType.Market,\n                onClick: this._switchToMarket,\n                text: 'Market',\n            },\n        ];\n        const decimals = getKnownTokens().getTokenBySymbol(currencyPair.base).decimals;\n        const quoteDecimals = getKnownTokens().getTokenBySymbol(currencyPair.quote).decimals;\n        // Configs\n        const pricePrecision = currencyPair.config.pricePrecision;\n        const minAmount = currencyPair.config.minAmount;\n        const minAmountUnits = unitsInTokenAmount(String(currencyPair.config.minAmount), decimals);\n\n        const basePrecision = currencyPair.config.basePrecision;\n        const isWethQuote = quoteTokenBalance && isWeth(quoteTokenBalance.token?.symbol);\n        const isWethBase = baseTokenBalance && isWeth(baseTokenBalance.token?.symbol);\n\n        const quoteUnits = isWethQuote\n            ? tokenAmountInUnitsToBigNumber(totalEthBalance || ZERO, 18)\n            : tokenAmountInUnitsToBigNumber((quoteTokenBalance && quoteTokenBalance.balance) || ZERO, quoteDecimals);\n\n        const baseBalance = isWethBase ? totalEthBalance : (baseTokenBalance && baseTokenBalance.balance) || ZERO;\n\n        const amount = makerAmount || minAmountUnits;\n        const makerAmountUnits = tokenAmountInUnitsToBigNumber(amount, decimals);\n        const isMakerAmountEmpty = amount === null || amount.isZero();\n        const isMakerAmountMin = amount === null || amount.isLessThan(minAmountUnits);\n\n        const isPriceEmpty = price === null || price.isZero();\n        const isPriceMin =\n            price === null || price.isLessThan(new BigNumber(1).div(new BigNumber(10).pow(pricePrecision)));\n        const isOrderTypeLimitIsEmpty =\n            orderType === OrderType.Limit && (isMakerAmountEmpty || isPriceEmpty || isPriceMin);\n        const isBuy = tab === OrderSide.Buy;\n        const isOrderTypeLimitOverflow =\n            (orderType === OrderType.Limit && isBuy && makerAmountUnits.multipliedBy(price || ZERO).gt(quoteUnits)) ||\n            (!isBuy && amount.gt(baseBalance));\n\n        const isOrderTypeMarketIsEmpty = orderType === OrderType.Market && (isMakerAmountEmpty || isMakerAmountMin);\n        const baseSymbol = formatTokenSymbol(currencyPair.base);\n        const btnPrefix = tab === OrderSide.Buy ? 'Buy ' : 'Sell ';\n        const btnText = error && error.btnMsg ? 'Error' : btnPrefix + baseSymbol;\n\n        return (\n            <Card>\n                <TabsContainer className=\"d-flex align-items-center justify-content-between\">\n                    <TabWrapper>\n                        <Tab variant={tab === OrderSide.Buy ? 'secondary-light' : 'light-secondary-light'} onClick={this.changeTab(OrderSide.Buy)}>\n                            Buy\n                        </Tab>\n                    </TabWrapper>\n                    <TabWrapper>\n                        <Tab variant={tab === OrderSide.Sell ? 'secondary-light' : 'light-secondary-light'} onClick={this.changeTab(OrderSide.Sell)}>\n                            Sell\n                        </Tab>\n                    </TabWrapper>\n                </TabsContainer>\n                <Content>\n                    <MarketType>\n                        {buySellInnerTabs.map((tab, index) => {\n                            return (\n                                <>\n                                    <MarketButton className=\"btn btn-link px-0\" disabled={tab.active} onClick={tab.onClick}>{tab.text}</MarketButton>\n                                    {index < buySellInnerTabs.length - 1 && (<span className={'px-2'}>/</span>)}\n                                </>\n                            )\n                        })}\n                    </MarketType>\n                    <SpotInputPanel\n                        token={baseToken}\n                        decimals={decimals}\n                        value={amount}\n                        onUserInput={this.updateMakerAmount}\n                        selected={currencyPair.base}\n                        valueFixedDecimals={basePrecision}\n                        label={`Amount (Min: ${minAmount})`}\n                        balanceText={this.getAmountAvailableLabel}\n                        showBalance={true}\n                        min={minAmountUnits}\n                    />\n                    {orderType === OrderType.Limit && (\n                        <QuoteContainer>\n                            <SpotInputPanel\n                                token={quoteToken}\n                                decimals={0}\n                                min={ZERO}\n                                value={price}\n                                onUserInput={this.updatePrice}\n                                selected={currencyPair.quote}\n                                valueFixedDecimals={pricePrecision}\n                                label={`Price per Token`}\n                                showBalance={false}\n                            />\n                        </QuoteContainer>\n                    )}\n                    <DetailsContainer className=\"d-flex flex-column\">\n                        <OrderDetailsContainer\n                            orderType={orderType}\n                            orderSide={tab}\n                            tokenAmount={amount}\n                            tokenPrice={price || new BigNumber(1).div(new BigNumber(10).pow(pricePrecision))}\n                            currencyPair={currencyPair}\n                        />\n                    </DetailsContainer>\n                    <div className=\"d-flex flex-column align-items-xl-center align-items-stretch justify-content-center mt-auto\">\n                        <Button\n                            disabled={\n                                this.props.web3.account & (\n                                    isOrderTypeLimitIsEmpty ||\n                                    isOrderTypeMarketIsEmpty ||\n                                    isOrderTypeLimitOverflow\n                                )\n                            }\n                            onClick={this.submit}\n                            variant={'primary'}\n                            style={{\n                                minWidth: 250,\n                                height: 56,\n                                marginTop: 10,\n                                fontSize: 20,\n                                fontWeight: 700\n                            }}\n                        >\n                            {!this.props.web3.account ? 'Connect Wallet' : btnText}\n                        </Button>\n                    </div>\n                </Content>\n            </Card>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        baseToken: state.spot.baseToken,\n        quoteToken: state.spot.quoteToken,\n        currencyPair: getCurrencyPair(state),\n        orderPriceSelected: getOrderPriceSelected(state),\n        makerAmountSelected: getMakerAmountSelected(state),\n        openSellOrders: getOpenSellOrders(state),\n        openBuyOrders: getOpenBuyOrders(state),\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        onSubmitLimitOrder: (amount, price, side, orderFeeData, tokensBalance, wethBalance) =>\n            dispatch(startBuySellLimitSteps(amount, price, side, orderFeeData, tokensBalance, wethBalance)),\n        onSubmitLimitOrderMatching: (\n            amount,\n            price,\n            side,\n            orderFeeData,\n            tokensBalance,\n            wethBalance,\n            ethBalance\n        ) => dispatch(startBuySellLimitMatchingSteps(amount, price, side, orderFeeData, tokensBalance, wethBalance, ethBalance)),\n        onSubmitMarketOrder: (\n            amount,\n            side,\n            tokensBalance,\n            wethBalance,\n            ethBalance\n        ) =>\n            dispatch(startBuySellMarketSteps(amount, side, tokensBalance, wethBalance, ethBalance)),\n        onFetchTakerAndMakerFee: (amount, price, side, account, library) =>\n            dispatch(fetchTakerAndMakerFee(amount, price, side, account, library)),\n    };\n};\n\n\nexport default withBalance(connect(mapStateToProps, mapDispatchToProps)(withWeb3Account(BuySell)));\n","import {ConfirmationPendingContent} from \"../../../../../components/TransactionConfirmationModal\";\nimport React, {useEffect} from \"react\";\nimport { connect } from \"react-redux\";\n\nimport {useActiveWeb3React} from \"../../../../../hooks\";\nimport {createSignedOrder} from \"../../../../../state/spotUI/actions\";\nimport {getStepsModalCurrentStep} from \"../../../../../state/selectors\";\nimport {submitLimitOrder} from \"../../../../../state/relayer/actions\";\nimport Web3 from \"web3\";\n\nconst web3 = new Web3(Web3.givenProvider);\nconst SignOrderStepContainer = props => {\n    const { account, library } = useActiveWeb3React();\n    const { step } = props;\n    const { amount, price, side } = step;\n\n    const submitOrder = async () => {\n\n        try {\n            const signedOrder = await props.createSignedOrder(amount, price, side, account, web3.givenProvider || window.ethereum, library);\n            await props.submitLimitOrder(signedOrder, amount, side)\n\n            props.onDone();\n        } catch(e) {\n            props.onDismiss();\n        }\n    }\n\n    useEffect(() => {\n        submitOrder();\n    }, [step, account])\n\n    return (\n        <ConfirmationPendingContent onDismiss={props.onDismiss} pendingText={'Waiting for confirmation'} />\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        step: getStepsModalCurrentStep(state)\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        submitLimitOrder: (signedOrder, amount, side, account, library) =>\n            dispatch(submitLimitOrder(signedOrder, amount, side, account, library)),\n        createSignedOrder: (amount, price, side, account, web3, library) =>\n            dispatch(createSignedOrder(amount, price, side, account, web3, library)),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignOrderStepContainer);\n","import {ConfirmationPendingContent} from \"../../../../../components/TransactionConfirmationModal\";\nimport React, {useEffect} from \"react\";\nimport { connect } from \"react-redux\";\n\nimport {useActiveWeb3React} from \"../../../../../hooks\";\nimport {getCurrencyPair, getQuoteToken, getStepsModalCurrentStep} from \"../../../../../state/selectors\";\nimport {\n    getOrderbookAndUserOrders,\n    submitLimitMatchingOrder,\n} from \"../../../../../state/relayer/actions\";\nimport Web3 from \"web3\";\n\nconst web3 = new Web3(Web3.givenProvider);\nconst BuySellTokenMatchingStepContainer = props => {\n    const { account, library } = useActiveWeb3React();\n    const { step, onSubmitLimitMatchingOrder } = props;\n    const { amount, side, price } = step;\n\n    const submitOrder = async () => {\n        try {\n            const { txHash, amountInReturn } = await onSubmitLimitMatchingOrder(amount, price, side, account, web3.givenProvider || window.ethereum);\n            props.onDone(txHash);\n            props.refreshOrders();\n        } catch(e) {\n            props.onDismiss();\n        }\n    }\n\n    useEffect(() => {\n        submitOrder();\n    }, [step, account])\n\n    return (\n        <ConfirmationPendingContent onDismiss={props.onDismiss} pendingText={'Waiting for confirmation'} />\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        step: getStepsModalCurrentStep(state),\n        currencyPair: getCurrencyPair(state),\n        quoteToken: getQuoteToken(state)\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onSubmitLimitMatchingOrder: (amount, price, side, account, library) =>\n            dispatch(submitLimitMatchingOrder(amount, price, side, account, library)),\n        refreshOrders: (account, library) => dispatch(getOrderbookAndUserOrders(account, library)),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BuySellTokenMatchingStepContainer);\n","import {ConfirmationPendingContent} from \"../../../../../components/TransactionConfirmationModal\";\nimport React, {useEffect} from \"react\";\nimport { connect } from \"react-redux\";\n\nimport {useActiveWeb3React} from \"../../../../../hooks\";\nimport {getCurrencyPair, getQuoteToken, getStepsModalCurrentStep} from \"../../../../../state/selectors\";\nimport {\n    getOrderbookAndUserOrders,\n    submitMarketOrder\n} from \"../../../../../state/relayer/actions\";\nimport Web3 from \"web3\";\n\nconst web3 = new Web3(Web3.givenProvider);\nconst BuySellTokenMatchingStepContainer = props => {\n    const { account, library } = useActiveWeb3React();\n    const { step, onSubmitMarketOrder } = props;\n    const { amount, side, context } = step;\n\n    const submitOrder = async () => {\n        try {\n            if(context === 'order') {\n                const { txHash, amountInReturn } = await onSubmitMarketOrder(amount, side, account, web3.givenProvider || window.ethereum);\n                props.onDone(txHash);\n                props.refreshOrders();\n            }\n        } catch(e) {\n            props.onDismiss();\n        }\n    }\n\n    useEffect(() => {\n        submitOrder();\n    }, [step, account])\n\n    return (\n        <ConfirmationPendingContent onDismiss={props.onDismiss} pendingText={'Waiting for confirmation'} />\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        step: getStepsModalCurrentStep(state),\n        currencyPair: getCurrencyPair(state),\n        quoteToken: getQuoteToken(state)\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onSubmitMarketOrder: (amount, side, account, library) =>\n            dispatch(submitMarketOrder(amount, side, account, library)),\n        refreshOrders: (account, library) => dispatch(getOrderbookAndUserOrders(account, library)),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BuySellTokenMatchingStepContainer);\n","import { Modal } from 'react-bootstrap';\nimport {useDispatch, useSelector} from \"react-redux\";\n\nimport {getStepsModalCurrentStep} from \"../../../../state/selectors\";\nimport {setStepsModalCurrentStep} from \"../../../../state/spotUI/actions\";\nimport {CHAIN_ID, StepKind} from \"../../../../constants\";\n\nimport UnlockToken from \"../../../Borrow/ModalProvider/modals/UnlockToken\";\nimport SignOrderStepContainer from \"./modals/SignOrderStepContainer\";\nimport BuySellTokenMatchingStepContainer from \"./modals/BuySellTokenMatchingStepContainer\";\nimport BuySellTokenStepContainer from \"./modals/BuySellTokenStepContainer\";\nimport React, {useState} from \"react\";\nimport {TransactionSubmittedContent} from \"../../../../components/TransactionConfirmationModal\";\n\n\nconst ModalProvider = props => {\n    const [submitted, setSubmitted] = useState(false);\n    const [txHash, setTxHash] = useState(null)\n    const currentStep = useSelector(getStepsModalCurrentStep);\n    const dispatch = useDispatch();\n    const isOpen = currentStep !== null;\n\n    const hideModal = () => {\n        setSubmitted(false);\n        setTxHash(null);\n        dispatch(setStepsModalCurrentStep(null))\n    }\n\n    const onDone = (tx) => {\n        setSubmitted(true);\n        setTxHash(tx);\n    }\n\n    return (\n        <>\n            {props.children}\n            <Modal show={isOpen} centered onHide={hideModal}>\n                <Modal.Body className={'px-0 py-0'}>\n                    {!submitted ? (\n\n                        <>\n                            {currentStep && currentStep.kind === StepKind.ToggleTokenLock && (\n                                (<UnlockToken onDismiss={hideModal}/>)\n                            )}\n\n                            {currentStep && currentStep.kind === StepKind.BuySellLimit && (\n                                <SignOrderStepContainer onDismiss={hideModal} onDone={onDone} />\n                            )}\n                            {currentStep && currentStep.kind === StepKind.BuySellLimitMatching && (\n                                <BuySellTokenMatchingStepContainer onDismiss={hideModal} onDone={onDone}/>\n                            )}\n                            {currentStep && currentStep.kind === StepKind.BuySellMarket && (\n                                <BuySellTokenStepContainer onDismiss={hideModal} onDone={onDone}/>\n                            )}\n                        </>\n                    ) : (\n                        <TransactionSubmittedContent chainId={CHAIN_ID} hash={txHash} onDismiss={hideModal}/>\n                    )}\n                </Modal.Body>\n            </Modal>\n        </>\n\n    )\n}\n\nexport default ModalProvider;\n","import TradingViewWidget, { Themes } from 'react-tradingview-widget';\nimport {useEffect, useState} from 'react';\nimport styled from \"styled-components\";\n\nimport Page from \"../../components/Page\";\nimport CheckBalance from '../../components/CheckBalance';\nimport StyledCard, { ResponsiveCard } from \"../../components/Card\";\nimport marketTokens from \"../../constants/marketTokens.json\";\nimport MarketStats from \"./components/MarketStats\";\nimport MarketDetails from \"./components/MarketDetails\";\nimport Orderbook from \"./components/Orderbook\";\nimport Provider from './components/Provider';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport MarketFills from \"./components/MarketFills\";\nimport OrderHistory from \"./components/OrderHistory\";\nimport BuySell from \"./components/BuySell\";\nimport ModalProvider from \"./components/BuySell/ModalProvider\";\nimport {updateGasInfo} from \"../../state/currency/actions\";\n\n\nconst Row = styled.div`\n  display: ${({ justMobile }) => justMobile ? 'none' : \"flex\"};\n  margin-left: -5px;\n  margin-right: -5px;\n  \n  @media (max-width: 1400px) {\n    flex-direction: column;\n    display: ${({ justDesktop }) => justDesktop ? 'none' : \"flex\"};\n  }\n`\nconst Col = styled.div`\n  padding: 0 5px;\n  display: flex;\n  flex-direction: column;\n`\n\nconst Card = styled(StyledCard)`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  margin-bottom: 20px;\n  overflow: hidden;\n  \n    & .card-body {\n      padding: 0;\n    }\n    @media (min-width: 1400px) {\n      margin-bottom: 10px;\n      width: 570px;\n      height: 373px;\n    }\n`\n\nconst ContainerCard = styled(ResponsiveCard)`\n  display: flex;\n  margin-bottom: 20px;\n  \n  & .card-body {\n    padding: 30px;\n  }\n  \n  @media (min-width: 1400px) {\n    width: 582px;\n    height: 486px;\n    margin-bottom: 10px;\n  \n    & .card-body {\n      padding: 12px 20px 20px;\n      display: flex;\n    }\n`\n\nconst Spot = props => {\n    const [pair, setPair] = useState('BINANCE:ETHDAI');\n    const { baseToken, quoteToken } = useSelector(state => state.spot);\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        if(!baseToken || !quoteToken) {\n            setPair('BINANCE:ETHDAI');\n        } else {\n            const quote = quoteToken && quoteToken.symbol.toLowerCase() === 'weth' ? 'ETH' : quoteToken.symbol.toUpperCase();\n            const base = baseToken && baseToken.symbol.toLowerCase() === 'weth' ? 'ETH' : baseToken.symbol.toUpperCase();\n            setPair(`BINANCE:${base}${quote}`)\n        }\n    }, [baseToken, quoteToken])\n\n    useEffect(() => {\n        dispatch(updateGasInfo())\n    }, [dispatch]);\n\n    return (\n        <Page title={false} morePadding size={'xl'}>\n            <Provider>\n                <ModalProvider>\n                    <Row justDesktop>\n                        <Col>\n                            <MarketStats />\n                        </Col>\n                        <Col>\n                            <MarketDetails isTradingGraphic={true}/>\n                            <Card>\n                                <TradingViewWidget\n                                    symbol={pair}\n                                    theme={Themes.DARK}\n                                    allow_symbol_change={false}\n                                    width={'100%'}\n                                    height={373}\n                                />\n                            </Card>\n                        </Col>\n                        <Col>\n                            <ContainerCard>\n                                <Orderbook />\n                                <MarketFills />\n                            </ContainerCard>\n                        </Col>\n                    </Row>\n                    <Row className={'justify-content-end'} justDesktop>\n                        <Col>\n                            <OrderHistory/>\n                        </Col>\n                        <Col>\n                            <BuySell/>\n                        </Col>\n                    </Row>\n                    <Row justMobile>\n                        <Col>\n                            <MarketDetails isMobile={true} isTradingGraphic={true}/>\n                            <Card>\n                                <TradingViewWidget\n                                    symbol={pair}\n                                    theme={Themes.DARK}\n                                    allow_symbol_change={false}\n                                    width={'100%'}\n                                    height={528}\n                                />\n                            </Card>\n                        </Col>\n\n                        <Col>\n                            <BuySell/>\n                        </Col>\n\n                        <Col>\n                            <ContainerCard>\n                                <Orderbook isMobile={true} />\n                            </ContainerCard>\n                        </Col>\n                        <Col>\n                            <ContainerCard>\n                                <MarketFills isMobile={true} />\n                            </ContainerCard>\n                        </Col>\n                        <Col>\n                            <MarketStats isMobile={true} />\n                        </Col>\n\n                        <Col>\n                            <OrderHistory isMobile={true}/>\n                        </Col>\n                    </Row>\n                </ModalProvider>\n            </Provider>\n        </Page>\n    )\n}\n\nexport default Spot;\n"],"sourceRoot":""}