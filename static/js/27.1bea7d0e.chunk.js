(this.webpackJsonpdefi_v2=this.webpackJsonpdefi_v2||[]).push([[27],{2940:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(8),a=n(2),i=n(21),o=n(2939),c=n(22);function s(){var e=Object(i.a)(["\n    margin: 0;\n    font-weight: bold;\n    color: ",";\n    font-size: 1.25rem;\n"]);return s=function(){return e},e}function u(){var e=Object(i.a)(["\n  padding: 20px;\n  background-color: transparent;\n  \n  \n  @media (min-width: 768px) {\n  padding: ",";\n  }\n"]);return u=function(){return e},e}function l(){var e=Object(i.a)(["\n  border-bottom-color: ",";\n  background-color: transparent;\n  padding: 20px;\n  \n  \n  @media (min-width: 768px) {\n  padding: ",";\n  }\n"]);return l=function(){return e},e}function d(){var e=Object(i.a)(["\n  @media (max-width: 767px) {\n      margin-left: -30px;\n      margin-right: -30px;\n      border-radius: 0;\n      \n      .card-body {\n        padding-left: 30px;\n        padding-right: 30px;\n      }\n  }\n \n"]);return d=function(){return e},e}function p(){var e=Object(i.a)(["\n  background-color: ",";\n  color: ",";\n  margin-bottom: ",";\n  margin-top:  ",";;\n  border-radius: 18px;\n  border: 1px solid ",";\n"]);return p=function(){return e},e}var f=o.a.Header,h=o.a.Body,b=Object(c.default)(o.a)(p(),(function(e){return e.theme.modalBG}),(function(e){return e.theme.text1}),(function(e){var t=e.margin,n=e.marginBottom;return n?"".concat(n,"px"):t?"".concat(t,"px"):"20px"}),(function(e){var t=e.margin,n=e.marginTop;return n?"".concat(n,"px"):t?"".concat(t,"px"):"0"}),(function(e){return e.theme.text4})),m=Object(c.default)(b)(d()),x=Object(c.default)(f)(l(),(function(e){return e.theme.text3}),(function(e){return e.isTable?"30px 60px":"30px"})),g=Object(c.default)(h)(u(),(function(e){return e.isTable?"18px 48px":"30px"})),v=c.default.h4(s(),(function(e){return e.theme.text1})),j=function(e){return Object(a.jsxs)(m,Object(r.a)(Object(r.a)({},e),{},{children:[e.header&&Object(a.jsxs)(x,{isTable:e.isTable,children:[e.title&&Object(a.jsx)(v,{children:e.title}),e.header]}),Object(a.jsx)(g,{isTable:e.isTable,children:e.children||e.body})]}))};t.b=function(e){return Object(a.jsxs)(b,Object(r.a)(Object(r.a)({},e),{},{children:[e.header&&Object(a.jsxs)(x,{isTable:e.isTable,children:[e.title&&Object(a.jsx)(v,{children:e.title}),e.header]}),Object(a.jsx)(g,{isTable:e.isTable,children:e.children||e.body})]}))}},2941:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return h}));var r=n(21),a=n(22),i=n(2982);function o(){var e=Object(r.a)(["\n  width: fit-content;\n  margin: ",";\n"]);return o=function(){return e},e}function c(){var e=Object(r.a)(["\n  flex-wrap: wrap;\n  margin: ",";\n  justify-content: ",";\n\n  & > * {\n    margin: "," !important;\n  }\n"]);return c=function(){return e},e}function s(){var e=Object(r.a)(["\n  display: flex;\n  align-items: flex-end;\n"]);return s=function(){return e},e}function u(){var e=Object(r.a)(["\n  justify-content: space-between;\n"]);return u=function(){return e},e}function l(){var e=Object(r.a)(["\n  width: ",";\n  display: flex;\n  padding: 0;\n  align-items: ",";\n  justify-content: ",";\n  padding: ",";\n  border: ",";\n  border-radius: ",";\n"]);return l=function(){return e},e}var d=Object(a.default)(i.Box)(l(),(function(e){var t=e.width;return null!==t&&void 0!==t?t:"100%"}),(function(e){var t=e.align;return null!==t&&void 0!==t?t:"center"}),(function(e){var t=e.justify;return null!==t&&void 0!==t?t:"flex-start"}),(function(e){return e.padding}),(function(e){return e.border}),(function(e){return e.borderRadius})),p=Object(a.default)(d)(u()),f=(a.default.div(s()),Object(a.default)(d)(c(),(function(e){var t=e.gap;return t&&"-".concat(t)}),(function(e){var t=e.justify;return t&&t}),(function(e){return e.gap}))),h=Object(a.default)(d)(o(),(function(e){var t=e.gap;return t&&"-".concat(t)}));t.d=d},2943:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n(21),a=n(22);function i(){var e=Object(r.a)(["\n  display: grid;\n  grid-auto-rows: auto;\n  grid-row-gap: ",";\n  justify-items: ",";\n"]);return i=function(){return e},e}function o(){var e=Object(r.a)(["\n  width: 100%;\n  align-items: center;\n"]);return o=function(){return e},e}function c(){var e=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n"]);return c=function(){return e},e}var s=a.default.div(c()),u=Object(a.default)(s)(o()),l=a.default.div(i(),(function(e){var t=e.gap;return("sm"===t?"8px":"md"===t&&"12px")||"lg"===t&&"24px"||t}),(function(e){var t=e.justify;return t&&t}));t.c=s},2952:function(e,t,n){"use strict";var r=n(8),a=n(2),i=n(42),o=n(117);t.a=function(e){return function(t){var n=Object(i.a)(),c=Object(o.g)();return Object(a.jsx)(e,Object(r.a)({web3:n,toggleWalletModal:c},t))}}},2968:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(8),a=n(2),i=n(99),o=n(21),c=n(0),s=n.n(c),u=n(22),l=n(63);function d(){var e=Object(o.a)(["\n  color: ",";\n  width: 0;\n  position: relative;\n  font-weight: 500;\n  font-family: inherit;\n  outline: none;\n  border: none;\n  flex: 1 1 auto;\n  background-color: ",";\n  font-size: 1rem;\n  text-align: ",";\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  height: ",";\n  border-bottom-right-radius: ",";\n  border-top-right-radius: ",";\n  border-bottom-left-radius: ",";\n  border-top-left-radius: ",";\n  padding-right: 0.625rem;\n  padding-left: ",";\n  -webkit-appearance: textfield;\n  border-left: ",";\n  \n  @media (min-width: 768px) {\n    \n    padding-right: 4.5625rem;\n  }\n\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n\n  [type='number'] {\n    -moz-appearance: textfield;\n  }\n\n  ::-webkit-outer-spin-button,\n  ::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n  }\n\n  ::placeholder {\n    color: ",";\n  }\n"]);return d=function(){return e},e}var p=u.default.input(d(),(function(e){var t=e.error,n=e.theme;return t?n.red1:n.text1}),(function(e){return e.theme.bg3}),(function(e){var t=e.align;return t&&t}),(function(e){return"sm"===e.size?"48px":"56px"}),(function(e){return e.reverse?"0":"1.125rem"}),(function(e){return e.reverse?"0":"1.125rem"}),(function(e){return e.reverse?"1.125rem":"0"}),(function(e){return e.reverse?"1.125rem":"0"}),(function(e){var t=e.noBorder;return e.reverse?"1.375rem":t?"0.625rem":"1.5rem"}),(function(e){var t=e.theme;return e.noBorder?"none":"3px solid ".concat(t.modalBG)}),(function(e){return e.theme.text3})),f=RegExp("^\\d*(?:\\\\[.])?\\d*$"),h=s.a.memo((function(e){var t=e.value,n=e.onUserInput,o=e.placeholder,c=e.size,s=Object(i.a)(e,["value","onUserInput","placeholder","size"]);return Object(a.jsx)(p,Object(r.a)(Object(r.a)({},s),{},{value:t,onChange:function(e){var t;(""===(t=e.target.value.replace(/,/g,"."))||f.test(Object(l.d)(t)))&&n(t)},inputMode:"decimal",title:"Token Amount",autoComplete:"off",autoCorrect:"off",size:c,type:"text",pattern:"^[0-9]*[.,]?[0-9]*$",placeholder:o||"0.0",minLength:1,maxLength:79,spellCheck:"false"}))}))},3003:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n(2),a=n(37),i=n(8),o=n(99),c=n(21),s=n(0),u=n(22),l=n(3169),d=n(3192),p=n(129),f=(n(3168),n(543)),h=n(3170);function b(){var e=Object(c.a)(["\n          width: 100vw;\n          border-radius: 20px;\n          border-bottom-left-radius: 0;\n          border-bottom-right-radius: 0;\n        "]);return b=function(){return e},e}function m(){var e=Object(c.a)(["\n      width:  85vw;\n      ","\n    "]);return m=function(){return e},e}function x(){var e=Object(c.a)(["\n      width: 65vw;\n      margin: 0;\n    "]);return x=function(){return e},e}function g(){var e=Object(c.a)(["\n        min-height: ","vh;\n      "]);return g=function(){return e},e}function v(){var e=Object(c.a)(["\n        max-height: ","vh;\n      "]);return v=function(){return e},e}function j(){var e=Object(c.a)(["\n        max-width: ","px;\n      "]);return j=function(){return e},e}function y(){var e=Object(c.a)(["\n  overflow-y: ",";\n\n  &[data-reach-dialog-content] {\n    margin: 0 0 2rem 0;\n    background-color: ",";\n    box-shadow: 0 4px 8px 0 ",";\n    padding: 0;\n    width: 50vw;\n    overflow-y: ",";\n    overflow-x: hidden;\n\n    align-self: ",";\n\n    ","\n    ","\n    ","\n    display: flex;\n    border-radius: 18px\n    ;\n    ","\n    ","\n  }\n"]);return y=function(){return e},e}function w(){var e=Object(c.a)(["\n  &[data-reach-dialog-overlay] {\n    z-index: 1100;\n    overflow: hidden;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: ",";\n  }\n"]);return w=function(){return e},e}var O=Object(l.a)(d.b),k=Object(u.default)(O)(w(),(function(e){return e.theme.backdrop})),S=Object(l.a)(d.a),B=Object(u.default)((function(e){e.minHeight,e.maxHeight,e.mobile,e.isOpen,e.maxWidth;var t=Object(o.a)(e,["minHeight","maxHeight","mobile","isOpen","maxWidth"]);return Object(r.jsx)(S,Object(i.a)({},t))})).attrs({"aria-label":"dialog"})(y(),(function(e){return e.mobile?"scroll":"hidden"}),(function(e){return e.theme.modalBG}),(function(e){var t=e.theme;return Object(f.c)(.95,t.shadow1)}),(function(e){return e.mobile?"scroll":"hidden"}),(function(e){return e.mobile?"flex-end":"center"}),(function(e){var t=e.maxWidth;return t&&Object(u.css)(j(),t)}),(function(e){var t=e.maxHeight;return t&&Object(u.css)(v(),t)}),(function(e){var t=e.minHeight;return t&&Object(u.css)(g(),t)}),(function(e){return e.theme.mediaWidth.upToMedium(x())}),(function(e){var t=e.theme,n=e.mobile;return t.mediaWidth.upToSmall(m(),n&&Object(u.css)(b()))}));function T(e){var t=e.isOpen,n=e.onDismiss,o=e.minHeight,c=void 0!==o&&o,u=e.maxHeight,d=void 0===u?90:u,f=e.maxWidth,b=void 0===f?420:f,m=e.initialFocusRef,x=e.children,g=Object(l.c)(t,null,{config:{duration:200},from:{opacity:0},enter:{opacity:1},leave:{opacity:0}});Object(s.useEffect)((function(){if(t){var e=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t}();document.body.style.paddingRight="".concat(e,"px")}}),[t]);var v=Object(l.b)((function(){return{y:0,config:{mass:1,tension:210,friction:20}}})),j=Object(a.a)(v,2)[1],y=Object(h.a)({onDrag:function(e){j({y:e.down?e.movement[1]:0}),(e.movement[1]>300||e.velocity>3&&e.direction[1]>0)&&n()}});return Object(r.jsx)(r.Fragment,{children:g.map((function(e){var t=e.item,a=e.key,o=e.props;return t&&Object(r.jsx)(k,{style:o,onDismiss:function(){n(),setTimeout((function(){document.body.style.paddingRight="0"}),200)},initialFocusRef:m,children:Object(r.jsxs)(B,Object(i.a)(Object(i.a)({},p.isMobile?Object(i.a)({},y()):{}),{},{"aria-label":"dialog content",minHeight:c,maxHeight:d,maxWidth:b,mobile:p.isMobile,children:[!m&&p.isMobile?Object(r.jsx)("div",{tabIndex:1}):null,x]}))},a)}))})}},3052:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var o=r.createElement("path",{d:"M0.97168 1L6.20532 6L11.439 1",stroke:"#AEAEAE"});function c(e,t){var n=e.title,c=e.titleId,s=i(e,["title","titleId"]);return r.createElement("svg",a({width:12,height:7,viewBox:"0 0 12 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},s),n?r.createElement("title",{id:c},n):null,o)}var s=r.forwardRef(c);n.p},3998:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(8),i=n(1),o=n.n(i),c=n(20),s=n(15),u=n(17),l=n(46),d=n(25),p=n(26),f=n(21),h=n(0),b=n.n(h),m=n(2935),x=n(2934),g=n(1197),v=n(4010),j=n(47),y=n(22),w=n(12),O=n.n(w),k=n(726),S=n(129),B=n(3531),T=n.n(B),C=n(380),_=n(2940),R=n(2952),N=n(9),A=n(3539),E=n(3614),I=n.n(E),P=n(64),H=n.n(P),z=n(110),M=function(){function e(){Object(s.a)(this,e),this.instance=H.a.create({baseURL:"https://api.1inch.exchange/v2.0/"})}return Object(u.a)(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e){case"tokens":return this.getTokens();case"protocols":return this.getProtocols();case"healthcheck":return this.getHealthcheck();case"quote":return this.getQuote(t);case"swap":return this.getSwap(t);case"spender":return this.getSpender();case"approve":return this.getApprove(t)}}},{key:"getTokens",value:function(){return this.instance.get("tokens")}},{key:"getProtocols",value:function(){return this.instance.get("protocols")}},{key:"getHealthcheck",value:function(){return this.instance.get("healthcheck")}},{key:"getQuote",value:function(e){var t=Object(z.b)(e);return this.instance.get("quote?".concat(t))}},{key:"getSwap",value:function(e){var t=Object(z.b)(Object(a.a)(Object(a.a)({},e),{},{referrerAddress:N.P,fee:N.O}));return this.instance.get("swap?".concat(t))}},{key:"getSpender",value:function(){return this.instance.get("approve/spender")}},{key:"getApprove",value:function(e){var t=Object(z.b)(e);return this.instance.get("approve/calldata?".concat(t))}}]),e}(),D=function(){function e(){Object(s.a)(this,e),this.instance=H.a.create({baseURL:"https://api.godex.io/api/v1/"})}return Object(u.a)(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e){case"tokens":return this.getTokens();case"rate":return this.getRate(t);case"transaction":return this.createTransaction(t);case"getTransaction":return this.getTransaction(t);case"getTransactionStatus":return this.getTransactionStatus(t)}}},{key:"getTokens",value:function(){return this.instance.get("coins")}},{key:"getRate",value:function(e){return this.instance.post("info",e)}},{key:"createTransaction",value:function(e){return this.instance.post("transaction",e)}},{key:"getTransaction",value:function(e){var t=e.id;return this.instance.get("transaction/".concat(t))}},{key:"getTransactionStatus",value:function(e){var t=e.id;return this.instance.get("transaction/".concat(t,"/status"))}}]),e}(),U=function(){function e(){Object(s.a)(this,e),this.instance=H.a.create({baseURL:"https://api-v2.dex.ag/"})}return Object(u.a)(e,[{key:"get",value:function(e){switch(e){case"tokens":return this.getTokens()}}},{key:"getTokens",value:function(){return this.instance.get("token-list-full")}}]),e}(),L=n(385),W=n.n(L),K=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"72b1679b-5979-44d5-85fe-4e3de610d6b9";Object(s.a)(this,e),this.baseURL="https://api.simpleswap.io/v1/",this.instance=H.a.create({baseURL:this.baseURL}),this.apiKey=t,this.instance.interceptors.response.use((function(e){return e.hasOwnProperty("data")?e.data:e}))}return Object(u.a)(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e){case"currencies":return this.fetchAllCurrencies();case"pairs":return this.fetchAllPairs(t);case"currencyInfo":return this.fetchCurrencyInfo(t);case"rate":return this.getRate(t);case"exchange":return this.getExchange(t);case"range":return this.getRange(t);case"markets":return this.getMarkets();default:return new Promise((function(e,t){t("Unresolvable method called")}))}}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e){case"exchange":return this.postNewExchange(t);default:return new Promise((function(e,t){t("Unresolvable method called")}))}}},{key:"injectApiKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(a.a)(Object(a.a)({},e),{},{api_key:this.apiKey});return t?W.a.stringify(n):n}},{key:"fetchAllCurrencies",value:function(){var e=this.injectApiKey({},!0);return this.instance.get("get_all_currencies?".concat(e))}},{key:"fetchAllPairs",value:function(e){var t=this.injectApiKey(e.query||{},!0);return this.instance.get("get_all_pairs?".concat(t))}},{key:"fetchCurrencyInfo",value:function(e){var t=this.injectApiKey(e.query||{},!0);return this.instance.get("get_currency?".concat(t))}},{key:"getRate",value:function(e){var t=this.injectApiKey(e.query?Object(a.a)(Object(a.a)({},e.query),{},{amount:1}):{},!0);return this.instance.get("get_estimated?".concat(t))}},{key:"getExchange",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getRate(t);case 3:return n=e.sent,e.next=6,this.getRange(t);case 6:return r=e.sent,e.abrupt("return",Object(a.a)({rate:n},r));case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{rate:null,min:null,max:null});case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getRange",value:function(e){var t=this.injectApiKey(e.query||{},!0);return this.instance.get("get_ranges?".concat(t))}},{key:"getMarkets",value:function(){var e=this.injectApiKey({},!0);return this.instance.get("get_market_info?".concat(e))}},{key:"postNewExchange",value:function(e){var t=this.injectApiKey({},!0);return this.instance.post("create_exchange?".concat(t),JSON.stringify(e.data),{headers:{"Content-Type":"application/json; charset=utf-8",accept:"application/json"}})}}]),e}(),F=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2423ae13-1ddb-4f77-9a63-8e53255970b6";Object(s.a)(this,e),this.baseURL="/v2",this.instance=H.a.create({baseURL:this.baseURL}),this.apiKey=t,this.instance.interceptors.response.use((function(e){return e.hasOwnProperty("data")?e.data:e}))}return Object(u.a)(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e){case"currencies":return this.fetchAllCurrencies();case"pairs":return this.fetchAllPairs(t);case"currencyInfo":return this.fetchCurrencyInfo(t);case"rate":return this.getRate(t);case"exchange":return this.getExchange(t);case"range":return this.getRange(t);default:return new Promise((function(e,t){t("Unresolvable method called")}))}}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e){case"exchange":return this.postNewExchange(t);default:return new Promise((function(e,t){t("Unresolvable method called")}))}}},{key:"injectApiKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(a.a)(Object(a.a)({},e),{},{api_key:this.apiKey,fixed:"false"});return t?W.a.stringify(n):n}},{key:"fetchAllCurrencies",value:function(){var e=this.injectApiKey({},!0);return this.instance.get("currency?".concat(e))}},{key:"fetchAllPairs",value:function(e){var t=this.injectApiKey(e.query||{},!0);return this.instance.get("pairs?".concat(t))}},{key:"fetchCurrencyInfo",value:function(e){var t=this.injectApiKey(e.query||{},!0);return this.instance.get("currency/".concat(e.symbol,"?").concat(t))}},{key:"getRate",value:function(e){var t=this.injectApiKey(e.query?Object(a.a)(Object(a.a)({},e.query),{},{amount:1}):{},!0);return this.instance.get("estimate/".concat(e.currency_from,"/").concat(e.currency_to,"?").concat(t),{headers:{"Content-Type":"application/json; charset=utf-8",accept:"application/json"}})}},{key:"getExchange",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getRate(t);case 3:return n=e.sent,e.next=6,this.getRange(t);case 6:return r=e.sent,e.abrupt("return",Object(a.a)(Object(a.a)({},n),r));case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{estimated_amount:null,min_amount:null,max_amount:null});case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getRange",value:function(e){var t=this.injectApiKey(e.query||{},!0);return this.instance.get("range/".concat(e.currency_from,"/").concat(e.currency_to,"?").concat(t),{headers:{"Content-Type":"application/json; charset=utf-8",accept:"application/json"}})}},{key:"postNewExchange",value:function(e){var t=this.injectApiKey({},!0);return this.instance.post("exchange?".concat(t),JSON.stringify(e.data),{headers:{"Content-Type":"application/json; charset=utf-8",accept:"application/json"}})}}]),e}(),q={paraswap:new A.ParaSwap,oneInch:new M,godex:new D,dexag:{api:new U,sdk:I.a.fromProvider(window.ethereum)},simpleSwap:new K,stealthex:new F},Q=n(37),G=n(2941),J=n(2968),$=n(3052),Y=n(3003),V=n(2943),X=n(3091),Z=n(3130);function ee(){var e=Object(f.a)(["\n  @media (max-width: 1199px) {\n    font-size: .875rem;\n    font-weight: 400;\n  }\n"]);return ee=function(){return e},e}function te(){var e=Object(f.a)(["\n  white-space: nowrap;\n  overflow: hidden;\n  max-width: 5rem;\n  text-overflow: ellipsis;\n  \n  \n  @media (max-width: 1199px) {\n    font-size: .875rem;\n    font-weight: 400;\n  }\n"]);return te=function(){return e},e}function ne(){var e=Object(f.a)(["\n  width: ",";\n  height: ",";\n  border-radius: ",";\n  border: 2px solid ",";\n  background-color: ",";\n  margin-right: ",";\n  \n  @media (max-width: 1199px) {\n  \n      width: 24px;\n      height: 24px;\n  }\n"]);return ne=function(){return e},e}function re(){var e=Object(f.a)(["\n  padding: 4px 20px;\n  height: 56px;\n  display: grid;\n  grid-template-columns: auto minmax(auto, 1fr) auto ;\n  grid-gap: 16px;\n  cursor: ",";\n  pointer-events: ",";\n  :hover {\n    background-color: ",";\n  }\n  opacity: ",";\n"]);return re=function(){return e},e}var ae=Object(y.default)(G.b)(re(),(function(e){return!e.disabled&&"pointer"}),(function(e){return e.disabled&&"none"}),(function(e){var t=e.theme;return!e.disabled&&t.bg2}),(function(e){var t=e.disabled,n=e.selected;return t||n?.5:1})),ie=y.default.img(ne(),(function(e){var t=e.size;return t?"".concat(t,"px"):"24px"}),(function(e){var t=e.size;return t?"".concat(t,"px"):"24px"}),(function(e){var t=e.size;return t?"".concat(t,"px"):"24px"}),(function(e){return e.theme.text1}),(function(e){return e.theme.text1}),(function(e){return e.margin?"8px":0})),oe=Object(y.default)(k.b)(te()),ce=Object(y.default)(k.b)(ee());function se(e){var t=e.symbol;return Object(r.jsx)(oe,{children:t})}function ue(e){var t=e.currency,n=e.onSelect,a=e.isSelected,i=e.style;return Object(r.jsxs)(ae,{style:i,className:"token-item-".concat(t.symbol),onClick:function(){return a?null:n()},disabled:a,children:[Object(r.jsx)(ie,{src:t.logoURI,size:24,alt:t.symbol}),Object(r.jsx)(V.c,{children:Object(r.jsx)(ce,{title:t.name,fontWeight:500,children:t.symbol})}),Object(r.jsx)(V.c,{style:{justifySelf:"flex-end"},children:Object(r.jsx)(se,{symbol:t.name})})]})}function le(e){var t=e.height,n=e.currencies,a=e.selectedCurrency,i=e.onCurrencySelect,o=e.fixedListRef,c=Object(h.useCallback)((function(e){var t=e.data,n=e.index,o=e.style,c=t[n],s=!!a&&(a.address===c.address&&a.symbol===c.symbol);return Object(r.jsx)(ue,{style:o,currency:c,onSelect:function(){return i(t[n])},isSelected:s})}),[i,a]),s=Object(h.useCallback)((function(e,t){return t[e].address}),[]);return Object(r.jsx)(Z.a,{height:t,ref:o,width:"100%",itemData:n,itemCount:n.length,itemSize:56,itemKey:s,children:c})}var de=n(736),pe=n(384),fe=n(94);function he(){var e=Object(f.a)(["\n  margin-bottom: 51px;\n  \n  @media (max-width: 1199px) {\n  margin-bottom: 14px;\n  }\n"]);return he=function(){return e},e}function be(){var e=Object(f.a)(["\n  padding: 15px;\n  @media (min-width: 991px) {\n  padding: 67px 90px 10px;\n  }\n"]);return be=function(){return e},e}var me=Object(y.default)(V.c)(be()),xe=y.default.div(he());function ge(e){var t=e.isOpen,n=e.onDismiss,i=e.onCurrencySelect,o=e.selectedCurrency,c=e.currencies,s=e.type,u=(Object(h.useContext)(y.ThemeContext),Object(h.useState)("")),l=Object(Q.a)(u,2),d=l[0],p=l[1],f=Object(h.useRef)(),b=Object(h.useRef)(),m=Object(h.useMemo)((function(){return c.filter((function(e){return JSON.stringify(e).toLowerCase().includes(d)||!d}))}),[c,d]);Object(h.useMemo)((function(){return c.map((function(e,t){return Object(a.a)(Object(a.a)({},e),{},{index:t})})).filter((function(e){return"title"===e.type}))}),[c]);Object(h.useEffect)((function(){t&&p("")}),[t]);var x=Object(h.useCallback)((function(e){var t=e.target.value;p(t.toLowerCase()),f.current.scrollTo(0)}),[]),g=Object(h.useCallback)((function(e){i(e,s),n()}),[n,i]);return Object(r.jsx)(Y.a,{isOpen:t,onDismiss:n,maxHeight:80,minHeight:80,maxWidth:530,children:Object(r.jsxs)(me,{style:{width:"100%",flex:"1 1",minHeight:"100px"},children:[Object(r.jsx)(xe,{children:Object(r.jsxs)(pe.b,{className:"w-auto",bg:"darker",children:[Object(r.jsx)(pe.d,{children:Object(r.jsx)(pe.e,{children:Object(r.jsx)(fe.a,{src:de.a})})}),Object(r.jsx)(pe.c,{id:"token-search-input",placeholder:"Search",value:d,ref:b,onChange:x})]})}),Object(r.jsx)("div",{style:{flex:"1"},children:Object(r.jsx)(X.a,{disableWidth:!0,children:function(e){var t=e.height;return Object(r.jsx)(le,{height:t,currencies:m,onCurrencySelect:g,selectedCurrency:o,fixedListRef:f})}})})]})})}var ve=n(13),je=n(42),ye=n(271),we=n(2926);function Oe(){var e=Object(f.a)(["\n  align-items: center;\n  height: 56px;\n  font-size: 0.875rem;\n  font-weight: 500;\n  background-color: ",";\n  color: ",";\n  border-bottom-left-radius: 18px;\n  border-top-left-radius: 18px;\n  box-shadow: none;\n  outline: none;\n  cursor: pointer;\n  user-select: none;\n  border: none;\n  padding: 0.875rem 0.625rem;\n  min-width: 116px;\n  width: 116px;\n  \n  \n  @media (min-width: 768px) {\n  min-width: 178px;\n  width: 178px;\n  padding: .625rem 1.5rem;\n  font-size: 1rem;\n  font-weight: 700;\n  }\n\n  :focus,\n  :hover {\n    background-color: ",";\n    outline: none;\n  }\n"]);return Oe=function(){return e},e}function ke(){var e=Object(f.a)(["\n  margin-right: auto;\n  padding-left: ",";\n  font-size:  1rem;\n  \n  \n  @media (min-width: 768px) {\n  padding-left: ",";\n  }\n\n"]);return ke=function(){return e},e}function Se(){var e=Object(f.a)(["\n  ",";\n  position: relative;\n  border-radius: 0.42rem;\n"]);return Se=function(){return e},e}function Be(){var e=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]);return Be=function(){return e},e}function Te(){var e=Object(f.a)(["\n  margin: 0 0.25rem 0 0.5rem;\n  height: 35%;\n\n  path {\n    stroke: ",";\n    stroke-width: 1.5px;\n  }\n"]);return Te=function(){return e},e}function Ce(){var e=Object(f.a)(["\n  ",";\n  align-items: center;\n  color: ",";\n  font-size: 0.75rem;\n  line-height: 1rem;\n  padding: 0;\n"]);return Ce=function(){return e},e}function _e(){var e=Object(f.a)(["\n  width: ",";\n  height: ",";\n  border-radius: ",";\n  border: 2px solid ",";\n  color: ",";\n  margin-right: ",";\n"]);return _e=function(){return e},e}function Re(){var e=Object(f.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  flex-wrap: nowrap;\n  flex: 1;\n  \n"]);return Re=function(){return e},e}function Ne(){var e=Object(f.a)(["\n  color: ",";\n  font-weight: 400;\n  font-size: .75rem;\n  padding: 0 ;\n  margin-bottom: -6px;\n  \n  \n  @media (min-width: 768px) {\n  font-size: .875rem;\n  font-weight: 500;\n  margin-bottom: 0;\n  }\n  \n"]);return Ne=function(){return e},e}function Ae(){var e=Object(f.a)(["\n  color: ",";\n  font-weight: 400;\n  font-size: .875rem;\n  padding: 0 ;\n  \n  @media (min-width: 768px) {\n    padding: 0 1.5rem;\n  }\n"]);return Ae=function(){return e},e}function Ee(){var e=Object(f.a)(["\n  ",";\n  align-items: center;\n  \n  padding: 1rem 0 1.25rem;\n  \n  \n  @media (min-width: 768px) {\n    padding-top: 0.75rem;\n  }\n"]);return Ee=function(){return e},e}var Ie=y.default.div(Ee(),(function(e){return e.theme.flexRowNoWrap})),Pe=y.default.span(Ae(),(function(e){return e.theme.text1})),He=y.default.span(Ne(),(function(e){return e.theme.text1})),ze=y.default.div(Re()),Me=y.default.img(_e(),(function(e){return e.size||"100%"}),(function(e){return e.size||"100%"}),(function(e){return e.size||"100%"}),(function(e){return e.theme.text1}),(function(e){return e.theme.text1}),(function(e){return e.margin?"8px":0})),De=y.default.div(Ce(),(function(e){return e.theme.flexRowNoWrap}),(function(e){return e.theme.text1})),Ue=Object(y.default)($.a)(Te(),(function(e){e.selected;return e.theme.text1})),Le=y.default.span(Be()),We=y.default.div(Se(),(function(e){return e.theme.flexColumnNoWrap})),Ke=y.default.span(ke(),(function(e){return e.active?"0.625rem":"0"}),(function(e){return e.active?"0.75rem":"0"})),Fe=y.default.button(Oe(),(function(e){return e.theme.bg3}),(function(e){return e.theme.text1}),(function(e){return e.theme.bg4}));function qe(e){var t=e.value,n=e.onUserInput,a=e.label,i=void 0===a?"Input":a,o=e.onSelect,c=e.disable,s=void 0!==c&&c,u=e.selected,l=e.hideInput,d=void 0!==l&&l,p=e.id,f=e.currencies,b=e.type,m=e.disableCurrencySelect,x=void 0!==m&&m,g=e.onChangeBalance,v=void 0===g?function(e){return e}:g,j=void 0,y=Object(we.a)().t;u&&(j=new ve.k(u.chainId,u.address,u.decimals,u.symbol,u.name));var w=Object(h.useState)(!1),O=Object(Q.a)(w,2),k=O[0],S=O[1],B=Object(je.a)().account,T=Object(ye.b)(null!==B&&void 0!==B?B:void 0,u&&"ETH"===u.symbol?ve.d:j);Object(h.useEffect)((function(){v(T)}),[u]);var C=Object(h.useCallback)((function(){S(!1)}),[S]);return Object(r.jsxs)(We,{id:p,children:[Object(r.jsxs)("div",{children:[!d&&Object(r.jsx)(De,{children:Object(r.jsxs)(G.b,{children:[Object(r.jsx)(Pe,{children:i}),B&&Object(r.jsx)(He,{children:j&&T?y("balance",{balanceInput:null===T||void 0===T?void 0:T.toSignificant(6)}):" -"})]})}),Object(r.jsxs)(Ie,{style:d?{padding:"0",borderRadius:"0.42rem"}:{},selected:s,children:[Object(r.jsx)(Fe,{selected:!!u,className:"open-currency-select-button",onClick:function(){x||S(!0)},children:Object(r.jsxs)(Le,{children:[u?Object(r.jsx)(Me,{src:u.logoURI,size:"24px",alt:u.symbol}):null,Object(r.jsx)(Ke,{className:"token-symbol-container",active:Boolean(u&&(null===u||void 0===u?void 0:u.symbol)),children:(u&&(null===u||void 0===u?void 0:u.symbol)&&(null===u||void 0===u?void 0:u.symbol.length)>20?(null===u||void 0===u?void 0:u.symbol.slice(0,4))+"..."+(null===u||void 0===u?void 0:u.symbol.slice((null===u||void 0===u?void 0:u.symbol.length)-5,null===u||void 0===u?void 0:u.symbol.length)):null===u||void 0===u?void 0:u.symbol)||y("selectToken")}),!x&&Object(r.jsx)(Ue,{selected:!!u})]})}),!d&&Object(r.jsx)(ze,{children:Object(r.jsx)(J.a,{className:"token-amount-input",value:t,onUserInput:function(e){n(e,b,T)}})})]})]}),!x&&o&&Object(r.jsx)(ge,{isOpen:k,onDismiss:C,onCurrencySelect:o,selectedCurrency:u,currencies:f,type:b})]})}var Qe=n(512),Ge=n(390),Je=n(63),$e=n(727),Ye=n(53),Ve=n.n(Ye),Xe=n(202),Ze=n(273),et=n(28),tt=n.n(et),nt=n(71),rt=n(38),at=n(3025);function it(){var e=Object(f.a)(["\n  padding: 8px 8px 8px 20px;\n  border-radius: 18px;\n  background-color: ",";\n  margin-bottom: 10px;\n  min-height: 56px;\n  border: 1px solid ",";\n  transition: all ease 0.4s;\n  cursor: pointer;\n  \n  \n  &:hover {\n    background-color: ",";\n    border-color: ",";\n  }\n  \n  @media (max-width: 767px) {\n    padding: 8px 8px 8px 10px;\n  }\n"]);return it=function(){return e},e}function ot(){var e=Object(f.a)(["\n  background: rgba(135, 220, 225, 0.15);\n  border-radius: 18px;\n  padding: 26px 20px;\n  margin-top: 10px;\n  \n  .progress {\n    height: 5px;\n    background-color: rgba(135, 220, 225, 0.15);\n    border-radius: 15px;\n    \n    &-bar {\n      border-radius: 15px;\n    }\n  }\n"]);return ot=function(){return e},e}function ct(){var e=Object(f.a)(["\n  width: ",";\n  height: ",";\n  border-radius: ",";\n  background-color: ",";\n  border: 2px solid ",";\n  margin-right: 15px;\n"]);return ct=function(){return e},e}function st(){var e=Object(f.a)(["\n  color: ",";\n  \n  @media (max-width: 767px) {\n    font-size: 12px;\n  }\n"]);return st=function(){return e},e}function ut(){var e=Object(f.a)(["\n  margin-top: 70px;\n  \n  & .card-body {\n  \n    @media (min-width: 768px) {\n    \n      padding: 42px 50px 32px;\n    }\n  }\n"]);return ut=function(){return e},e}function lt(){var e=Object(f.a)(["\n  margin-top: 86px;\n  \n  @media (max-width: 767px) {\n    margin-top: 20px;\n  }\n"]);return lt=function(){return e},e}function dt(){var e=Object(f.a)(["\n  height: 56px;\n  min-width: 250px;\n  align-self: center;\n  \n  \n  @media (max-width: 767px) {\n    width: 100%;\n  }\n"]);return dt=function(){return e},e}var pt=/^0x[0-9A-F]*$/i,ft=Object(y.default)(m.a)(dt()),ht=Object(y.default)(x.a)(lt()),bt=Object(y.default)(_.a)(ut()),mt=Object(y.default)(k.b)(st(),(function(e){return e.theme.text1})),xt=y.default.img(ct(),(function(e){var t=e.size;return t?"".concat(t,"px"):"24px"}),(function(e){var t=e.size;return t?"".concat(t,"px"):"24px"}),(function(e){var t=e.size;return t?"".concat(t,"px"):"24px"}),(function(e){return e.theme.text1}),(function(e){return e.theme.text1})),gt=y.default.div(ot()),vt=y.default.div(it(),(function(e){var t=e.selected,n=e.theme;return t?n.bg2:"rgba(135, 220, 225, 0.15)"}),(function(e){var t=e.theme;return e.selected?t.primary:"transparent"}),(function(e){return e.theme.bg2}),(function(e){return e.theme.primary})),jt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).getBuyStates=function(){var e=r.props.t;return{not_started:e("instantSwap.not_started"),initializing:e("instantSwap.initializing"),allowance:e("instantSwap.allowance"),approving:e("instantSwap.approving"),validation:e("instantSwap.validation"),create_tx:e("instantSwap.create_tx"),send_tx:e("instantSwap.send_tx"),submitted:e("instantSwap.submitted"),pending:e("instantSwap.pending"),failed:e("instantSwap.failed")}},r.onChangeBalance=function(e){r.setState({max:e})},r.promiseHandler=function(e){return new Promise((function(t){e().then((function(e){return t(e)})).catch((function(e){return t(void 0)}))}))},r.getParaswapSortedRates=function(e){return O.a.orderBy(e.others,["rate"],["desc"])},r.getDexagSortedRates=function(e){return O.a.orderBy(e,["price"],["desc"])},r.getSortedRates=function(e,t){if(!e)return[];switch(t){case"paraswap":return r.getParaswapSortedRates(e);case"dexag":return r.getDexagSortedRates(e);default:return e.hasOwnProperty("data")?e.data:e}},r.transformRates=function(e){var t=[];for(var n in e){var a=e[n][0],i=e[n][1];switch(a){case"1inch":i&&"string"===typeof i.toTokenAmount&&t.push({rate:i.toTokenAmount/Math.pow(10,r.state.pair.destination.token.decimals),platform:"oneInch",source:"1inch"});break;case"paraswap":i&&i.forEach((function(e){N.Hb.paraswap.includes(e.exchange)&&t.push({rate:e.unit/Math.pow(10,r.state.pair.destination.token.decimals),platform:e.exchange,source:"paraswap"})}));break;case"dexag":i&&i.forEach((function(e){N.Hb.dexag.includes(e.dex)&&t.push({rate:Number(e.price),platform:e.dex,source:"dexag"})}));break;case"simpleSwap":null!==i.rate&&t.push({rate:Number(i.rate),min:Number(i.min||0),max:Number(i.max||0),platform:"simpleSwap",source:"simpleSwap"});break;case"stealthex":null!==i.estimated_amount&&t.push({rate:Number(i.estimated_amount),min:Number(i.min_amount||0),max:Number(i.max_amount||0),platform:"stealthex",source:"stealthex"})}}return t},r.getSortedResult=function(e){var t=Object.keys(e).map((function(t){return[t,r.getSortedRates(e[t],t)]})),n=r.transformRates(t);return O.a.sortBy(n,(function(e){return-e.rate}))},r.fetchPrices=function(){var e=Object(c.a)(o.a.mark((function e(t){var n,a,i,c,s,u,l,d,p,f,h,b,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.props.t,a=t.deposit,i=t.destination,null===a.token||null===i.token){e.next=36;break}return r.setState({loading:!0,loadingState:{all:36,loaded:0}}),c=Math.pow(10,a.token.decimals),s={to:i.token.symbol,from:a.token.symbol,dex:"all",fromAmount:1},e.next=8,r.promiseHandler((function(){return r.api.oneInch.get("quote",{fromTokenAddress:a.token.address,toTokenAddress:i.token.address,amount:c})}));case 8:return u=e.sent,r.setState({loadingState:{all:36,loaded:14}}),e.next=12,r.promiseHandler((function(){return r.api.paraswap.getRate(a.token.address,i.token.address,c)}));case 12:return l=e.sent,r.setState({loadingState:{all:36,loaded:20}}),e.next=16,r.promiseHandler((function(){return r.api.dexag.sdk.getPrice(s)}));case 16:return d=e.sent,r.setState({loadingState:{all:36,loaded:28}}),e.next=20,r.promiseHandler((function(){return r.api.godex.get("rate",{to:i.token.symbol,from:a.token.symbol,amount:1})}));case 20:return p=e.sent,r.setState({loadingState:{all:36,loaded:30}}),e.next=24,r.promiseHandler((function(){return r.api.simpleSwap.get("exchange",{query:{fixed:N.cb,currency_from:a.token.symbol.toLowerCase(),currency_to:i.token.symbol.toLowerCase()}})}));case 24:return f=e.sent,r.setState({loadingState:{all:36,loaded:32}}),e.next=28,r.promiseHandler((function(){return r.api.stealthex.get("exchange",{query:{},currency_from:a.token.symbol.toLowerCase(),currency_to:i.token.symbol.toLowerCase()})}));case 28:h=e.sent,r.setState({loadingState:{all:36,loaded:36}}),b={"1inch":u,paraswap:l,dexag:d,godex:p,simpleSwap:f,stealthex:h},(m=r.getSortedResult(b)).length>0?a.value?t.destination.value=(a.value*m[0].rate).toFixed(6):i.value&&(t.deposit.value=(i.value/m[0].rate).toFixed(6)):Ze.c.error(n("errors.unavailablePair")),r.setState({pair:t,rates:m,rate:m.length>0?m[0]:void 0,loading:!1,showMore:!1,hasEnoughBalance:!r.state.max||Number(t.deposit.value)<=Number(r.state.max.toSignificant(6))}),e.next=37;break;case 36:r.setState({pair:t,showMore:!1});case 37:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onSelect=function(){var e=Object(c.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=r.state.pair)[n].token=t,r.setState({pair:a},r.fetchPrices.bind(Object(l.a)(r),r.state.pair));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.onSwapTokens=function(){var e;r.setState((function(t){return{pair:e={deposit:Object(a.a)({},t.pair.destination),destination:Object(a.a)({},t.pair.deposit)}}}),(function(){return r.fetchPrices(e)}))},r.onUserInputHandler=function(e,t,n){r.setState((function(r){var a=r.pair;return a[t].value=e,r.rate&&("deposit"===t?a.destination.value=(e*r.rate.rate).toFixed(6):"destination"===t&&(a.deposit.value=(e/r.rate.rate).toFixed(6))),{pair:a,hasEnoughBalance:!n||Number(e)<=Number(n.toSignificant(6))}}))},r.selectRate=function(e){r.setState((function(t){var n=Object(a.a)({},t.pair);return n.deposit.value?n.destination.value=(n.deposit.value*e.rate).toFixed(6):n.destination.value&&(n.deposit.value=(n.destination.value/e.rate).toFixed(6)),{pair:n,rate:e}}))},r.setBuyState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not_started";r.setState({buyState:e})},r.setDefaultBuyState=function(){setTimeout(r.setBuyState,4e3)},r.oneInchBuyHandler=function(){var e=Object(c.a)(o.a.mark((function e(t,n){var a,i,s,u,l,d,p,f,h,b,m,x,g,v;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.props.t,e.prev=1,i=!1,r.setBuyState("initializing"),s=t.deposit,u=t.destination,l=N.zb,e.next=8,r.api.oneInch.get("spender");case 8:if(d=e.sent,p=d.data.address,f=new tt.a(s.value).times(Math.pow(10,s.token.decimals)),"ETH"===s.token.symbol.toUpperCase()){e.next=40;break}return r.setBuyState("allowance"),h=Object(Je.e)(s.token.address,Ge,r.props.web3.library,r.props.web3.account),e.next=16,h.functions.allowance(r.props.web3.account,p);case 16:if(l=e.sent,l=new tt.a(l),!f.isGreaterThan(l)){e.next=37;break}return r.setBuyState("approving"),b=new tt.a(2).pow(256).minus(1),e.next=23,h.functions.approve(p,b.toFixed(0));case 23:if(!(m=e.sent)){e.next=35;break}return e.prev=25,e.next=28,r.awaitTransactionSuccessAsync(m.hash);case 28:x=e.sent,e.next=34;break;case 31:e.prev=31,e.t0=e.catch(25),i=!0;case 34:x&&(i=!0);case 35:e.next=38;break;case 37:i=!0;case 38:e.next=41;break;case 40:i=!0;case 41:if(!i){e.next=51;break}return r.setBuyState("create_tx"),e.next=45,r.api.oneInch.get("swap",{fromTokenAddress:s.token.address,toTokenAddress:u.token.address,amount:f.toFixed(0),fromAddress:r.props.web3.account,slippage:r.props.slippage/100});case 45:g=e.sent,v=g.data.tx,r.setBuyState("send_tx"),r.web3.eth.sendTransaction(v,function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return r.setBuyState("failed"),r.setDefaultBuyState(),4001===t.code?Ze.c.error(a("errors.canceled")):Ze.c.error(a("errors.default")),r.isExchangeInProgress=!1,e.abrupt("return",!1);case 6:r.setBuyState("submitted"),r.setDefaultBuyState(),r.isExchangeInProgress=!1,Ze.c.success(a("instantSwap.orderSubmitted")),window.open("https://etherscan.io/tx/".concat(n),"_blank");case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=52;break;case 51:Ze.c.error(a("errors.approvalPending"));case 52:r.isExchangeInProgress=!1,e.next=61;break;case 55:e.prev=55,e.t1=e.catch(1),r.setBuyState("failed"),r.setDefaultBuyState(),r.isExchangeInProgress=!1,e.t1.hasOwnProperty("code")?4001===e.t1.code?Ze.c.error(a("errors.canceled")):Ze.c.error(a("errors.default")):e.t1.hasOwnProperty("response")&&500===e.t1.response.status?Ze.c.error(a("errors.unavailablePair")):Ze.c.error(a("errors.default"));case 61:case"end":return e.stop()}}),e,null,[[1,55],[25,31]])})));return function(t,n){return e.apply(this,arguments)}}(),r.paraSwapBuyHandler=function(){var e=Object(c.a)(o.a.mark((function e(t,n){var i,s,u,l,d,p,f,h,b,m,x,g,v,j,y;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.props.t,e.prev=1,r.setBuyState("initializing"),s=t.deposit,u=t.destination,l=!1,d=r.api.paraswap.setWeb3Provider(window.ethereum),p=new tt.a(s.value).times(Math.pow(10,s.token.decimals)),f=new tt.a(u.value).times(Math.pow(10,u.token.decimals)),r.setBuyState("allowance"),e.next=11,d.getAllowance(r.props.web3.account,s.token.address);case 11:if(h=e.sent,b=new tt.a(h.allowance),"ETH"===s.token.symbol||!p.isGreaterThan(b)){e.next=30;break}return r.setBuyState("approving"),e.next=17,d.approveToken(p.toFixed(),r.props.web3.account,s.token.address);case 17:return m=e.sent,e.prev=18,e.next=21,r.awaitTransactionSuccessAsync(m);case 21:x=e.sent,e.next=27;break;case 24:e.prev=24,e.t0=e.catch(18),l=!0;case 27:x&&(window.open("https://etherscan.io/tx/".concat(m),"_blank"),l=!0),e.next=31;break;case 30:l=!0;case 31:if(!l){e.next=51;break}return r.setBuyState("create_tx"),e.next=35,d.getRate(s.token.address,u.token.address,p.toFixed(0));case 35:return g=e.sent,v=g.others.find((function(e){return e.exchange===n.platform})),j=[Object(a.a)(Object(a.a)({},g.bestRoute[0]),v)],g.bestRoute=j,e.next=41,d.buildTx(s.token.address,u.token.address,p.toFixed(0),f.toFixed(0),g,r.props.web3.account,N.R,"");case 41:if(y=e.sent,r.setBuyState("send_tx"),!(null===y||void 0===y?void 0:y.message)){e.next=48;break}return Ze.c.error(y.message),r.setBuyState("failed"),r.setDefaultBuyState(),e.abrupt("return",!1);case 48:r.web3.eth.sendTransaction(y,function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return r.setBuyState("failed"),r.setDefaultBuyState(),4001===t.code?Ze.c.error(i("errors.canceled")):Ze.c.error(i("errors.default")),r.isExchangeInProgress=!1,e.abrupt("return",!1);case 6:r.setBuyState("submitted"),r.setDefaultBuyState(),r.isExchangeInProgress=!1,Ze.c.success(i("instantSwap.orderSubmitted")),window.open("https://etherscan.io/tx/".concat(n),"_blank");case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=53;break;case 51:r.setBuyState("pending"),r.setDefaultBuyState();case 53:e.next=61;break;case 55:e.prev=55,e.t1=e.catch(1),r.setBuyState("failed"),r.setDefaultBuyState(),e.t1.hasOwnProperty("code")&&4001===e.t1.code?Ze.c.error(i("errors.canceled")):Ze.c.error(i("errors.default")),r.isExchangeInProgress=!1;case 61:case"end":return e.stop()}}),e,null,[[1,55],[18,24]])})));return function(t,n){return e.apply(this,arguments)}}(),r.dexagBuyHandler=function(){var e=Object(c.a)(o.a.mark((function e(t,n){var a,i,c,s,u,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,i=r.props.t,e.prev=2,r.setBuyState("initializing"),c=t.deposit,s=t.destination,(u=r.api.dexag.sdk).registerStatusHandler((function(e,t){switch(e){case"rejected":r.setBuyState("failed"),r.setDefaultBuyState(),Ze.c.error(i("errors.failedTxn"));break;case"network":Ze.c.error(i("errors.wrongNetwork"));break;case"send_trade":r.setBuyState("submitted"),r.setDefaultBuyState(),window.open("https://etherscan.io/tx/".concat(t),"_blank");break;case"failed":r.setBuyState("failed"),r.setDefaultBuyState(),Ze.c.error(i("errors.failedTxn")),window.open("https://etherscan.io/tx/".concat(t),"_blank");break;case"bad_tx":r.setBuyState("failed"),r.setDefaultBuyState(),Ze.c.error(i("errors.insufficientGas"))}})),r.setBuyState("create_tx"),e.next=10,u.getTrade({to:s.token.symbol,from:c.token.symbol,fromAmount:c.value,dex:n.platform});case 10:return l=e.sent,r.setBuyState("validation"),e.next=14,u.validate(l);case 14:(a=e.sent)&&u.trade(l),e.next=24;break;case 18:e.prev=18,e.t0=e.catch(2),r.setBuyState("failed"),r.setDefaultBuyState(),e.t0.hasOwnProperty("code")?(4001!==e.t0.code&&Ze.c.error(i("errors.default")),a||Ze.c.error(i("errors.instantSwapInvalidTxn"))):(a||Ze.c.error(i("errors.instantSwapInvalidTxn")),Ze.c.error(i("errors.default"))),r.isExchangeInProgress=!1;case 24:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(t,n){return e.apply(this,arguments)}}(),r.simpleSwapBuyHandler=function(){var e=Object(c.a)(o.a.mark((function e(t,n){var a,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r.setBuyState("initializing"),a=t.deposit,i=t.destination,r.setBuyState("validation"),!(a.value<n.min||n.max>0&&a.value>=n.max)){e.next=9;break}return Ze.c.error(a.value<n.min?"The minimum value for this transaction is ".concat(n.min):"The maximum value for this transaction is ".concat(n.max)),r.setBuyState("failed"),r.setDefaultBuyState(),e.abrupt("return");case 9:return r.setBuyState("create_tx"),e.next=12,r.api.simpleSwap.set("exchange",{data:{fixed:N.cb,currency_from:a.token.symbol.toLowerCase(),currency_to:i.token.symbol.toLowerCase(),amount:a.value,address_to:r.props.web3.account}});case 12:(c=e.sent)&&(c.code&&200!==c.code?Ze.c.error(c.message):(Ze.c.success("Your order submitted successfully!"),r.setBuyState("submitted"),r.setState({showQrModal:!0,orderType:"simpleSwap",order:c}),r.setDefaultBuyState())),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(0),Ze.c.error("An Error was occurred"),r.setBuyState("failed"),r.setDefaultBuyState();case 21:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}(),r.stealthexBuyHandler=function(){var e=Object(c.a)(o.a.mark((function e(t,n){var a,i,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.props.t,e.prev=1,r.setBuyState("initializing"),i=t.deposit,c=t.destination,r.setBuyState("validation"),!(i.value<n.min||n.max>0&&i.value>=n.max)){e.next=10;break}return Ze.c.error(i.value<n.min?"".concat(a("errors.min")," ").concat(n.min):"".concat(a("errors.max")," ").concat(n.max)),r.setBuyState("failed"),r.setDefaultBuyState(),e.abrupt("return");case 10:return r.setBuyState("create_tx"),e.next=13,r.api.stealthex.set("exchange",{data:{currency_from:i.token.symbol.toLowerCase(),currency_to:c.token.symbol.toLowerCase(),amount_from:i.value,address_to:r.props.web3.account}});case 13:(s=e.sent)&&((null===s||void 0===s?void 0:s.code)&&200!==(null===s||void 0===s?void 0:s.code)?Ze.c.error((null===s||void 0===s?void 0:s.message)||a("errors.default")):(Ze.c.success(a("instantSwap.orderSubmitted")),r.setBuyState("submitted"),r.setState({showQrModal:!0,orderType:"stealthex",order:s}),r.setDefaultBuyState())),e.next=23;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0),Ze.c.error("An Error was occurred"),r.setBuyState("failed"),r.setDefaultBuyState();case 23:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t,n){return e.apply(this,arguments)}}(),r.buyHandler=Object(c.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.props.web3.account){e.next=4;break}r.props.toggleWalletModal(),e.next=35;break;case 4:if(r.isExchangeInProgress){e.next=35;break}r.isExchangeInProgress=!0,t=r.state,n=t.pair,a=t.rate,e.t0=a.source,e.next="1inch"===e.t0?10:"paraswap"===e.t0?14:"dexag"===e.t0?18:"simpleSwap"===e.t0?22:"stealthex"===e.t0?26:"godex"===e.t0?30:34;break;case 10:return e.next=12,r.oneInchBuyHandler(n,a);case 12:return e.sent,e.abrupt("break",34);case 14:return e.next=16,r.paraSwapBuyHandler(n,a);case 16:return e.sent,e.abrupt("break",34);case 18:return e.next=20,r.dexagBuyHandler(n,a);case 20:return e.sent,e.abrupt("break",34);case 22:return e.next=24,r.simpleSwapBuyHandler(n,a);case 24:return e.sent,e.abrupt("break",34);case 26:return e.next=28,r.stealthexBuyHandler(n,a);case 28:return e.sent,e.abrupt("break",34);case 30:return e.next=32,r.godexBuyHandler(n,a);case 32:return e.sent,e.abrupt("break",34);case 34:r.isExchangeInProgress=!1;case 35:case"end":return e.stop()}}),e)}))),r.toggleShowMore=function(){r.setState((function(e){return{showMore:!e.showMore}}))},r.web3=new Ve.a(Ve.a.givenProvider||"wss://mainnet.infura.io/ws/v3/98a247f0d3354d96b04183b03a807dec"),r.api=q,r.typeTimeout=void 0,r.isExchangeInProgress=!1,r.abiDecoder=new rt.AbiDecoder([]),r.state={loading:!1,loadingState:{all:36,loaded:0},tokens:[],pair:{deposit:{token:null,value:""},destination:{token:null,value:""}},hasEnoughBalance:!0,rates:[],rate:void 0,showMore:!1,buyState:"not_started",max:0,showQrModal:!1,orderType:null,order:{}},r}return Object(u.a)(n,[{key:"isHexString",value:function(e){if(pt.test(e))return!0;throw new Error("Entered value isn't hex string")}},{key:"awaitTransactionMinedAsync",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var n,r,i,s,u,l,d,p,f=this,h=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h.length>1&&void 0!==h[1]?h[1]:1e3,r=h.length>2&&void 0!==h[2]?h[2]:3e4,this.isHexString(t),nt.assert.isNumber("pollingIntervalMs",n),void 0!==r&&nt.assert.isNumber("timeoutMs",r),e.next=7,this.props.web3.library.getTransactionReceipt(t);case 7:if(void 0===(i=e.sent)){e.next=12;break}return s=O.a.map(i.logs,this.abiDecoder.tryToDecodeLogOrNoop.bind(this.abiDecoder)),u=Object(a.a)(Object(a.a)({},i),{},{logs:s}),e.abrupt("return",u);case 12:return l=!1,r&&setTimeout((function(){return l=!0}),r),d=new Promise((function(e,r){var s=rt.intervalUtils.setAsyncExcludingInterval(Object(c.a)(o.a.mark((function n(){var c,u;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!l){n.next=3;break}return rt.intervalUtils.clearAsyncExcludingInterval(s),n.abrupt("return",r({code:"timeout",message:"Timeout"}));case 3:return n.next=5,f.props.web3.library.getTransactionReceipt(t);case 5:void 0!==(i=n.sent)&&(rt.intervalUtils.clearAsyncExcludingInterval(s),c=O.a.map(i.logs,f.abiDecoder.tryToDecodeLogOrNoop.bind(f.abiDecoder)),u=Object(a.a)(Object(a.a)({},i),{},{logs:c}),e(u));case 7:case"end":return n.stop()}}),n)}))),n,(function(e){rt.intervalUtils.clearAsyncExcludingInterval(s),r(e)}))})),e.next=17,d;case 17:return p=e.sent,e.abrupt("return",p);case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"awaitTransactionSuccessAsync",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var n,r,a,i=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:1e3,r=i.length>2?i[2]:void 0,e.next=4,this.awaitTransactionMinedAsync(t,n,r);case 4:if(1===(a=e.sent).status){e.next=7;break}throw new Error(this.props.t("errors.invalidHexString"));case 7:return e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,n,a,i,o,c=this,s=this.state,u=s.pair,l=s.rate,d=s.hasEnoughBalance,p=s.rates,f=s.loading,h=s.loadingState,b=s.buyState,m=this.props.t;return Object(r.jsxs)($e.a,{children:[Object(r.jsx)(ht,{children:Object(r.jsx)(g.a,{xs:12,md:{offset:3,span:6},children:Object(r.jsx)(bt,{children:Object(r.jsxs)(x.a,{children:[Object(r.jsx)(g.a,{xs:12,style:{marginBottom:20},children:Object(r.jsx)(qe,{value:u.deposit.value,onUserInput:this.onUserInputHandler,label:m("instantSwap.fromLabel"),onSelect:this.onSelect,selected:u.deposit.token,currencies:Qe.walletTokens,type:"deposit",id:"deposit",onChangeBalance:this.onChangeBalance})}),Object(r.jsx)(g.a,{xs:12,className:"gutter-b",style:{marginBottom:l?"0":"40px"},children:Object(r.jsx)(qe,{value:u.destination.value,onUserInput:this.onUserInputHandler,label:m("instantSwap.toLabel")+" "+m("estimated"),onSelect:this.onSelect,selected:u.destination.token,currencies:Qe.walletTokens,type:"destination",id:"destination"})}),l?Object(r.jsxs)(g.a,{xs:12,className:"d-flex justify-content-between align-items-center gutter-b",style:{marginBottom:60},children:[Object(r.jsx)(mt,{fontWeight:400,fontSize:S.isMobile?12:14,children:"Exchange Rate"}),Object(r.jsx)(mt,{fontWeight:S.isMobile?400:500,fontSize:S.isMobile?12:16,children:u.deposit.token&&u.destination.token?"1 ".concat(u.deposit.token.symbol||u.deposit.token.code," = ").concat(l.rate.toFixed(4)," ").concat(u.destination.token.symbol||u.destination.token.code):null})]}):"",Object(r.jsx)(g.a,{xs:12,className:"d-flex flex-column align-items-stretch align-items-md-center justify-content-center",children:f?Object(r.jsxs)("div",{className:"d-flex flex-column align-items-stretch justify-content-center align-self-stretch",children:[Object(r.jsx)(mt,{fontWeight:400,fontSize:S.isMobile?12:16,children:m("instantSwap.exchangeSearch",{loaded:h.loaded,all:h.all})}),Object(r.jsx)(gt,{children:Object(r.jsx)(v.a,{now:(h.loaded/h.all*100).toFixed(0),variant:h.loaded===h.all?"success":"primary",className:"align-self-stretch w-100 progress-xs"})})]}):Object(r.jsx)(ft,{onClick:this.buyHandler,className:"py-3",disabled:this.props.web3.account&&(!(u.deposit.token&&u.destination.token&&u.deposit.value&&u.destination.value&&d&&Number(u.deposit.value)>0&&l)||"godex"===l.platform),variant:u.deposit.token&&u.destination.token&&u.deposit.value&&u.destination.value&&d&&Number(u.deposit.value)>0&&l?"primary":"outline-primary",children:this.props.web3.account?u.deposit.token&&u.destination.token?d?u.deposit.value&&u.destination.value?l||f?"godex"===l.platform?m("errors.unavailablePair"):Number(u.deposit.value)>0?this.getBuyStates()[b]:m("exchange.enterAmount"):m("errors.unavailablePair"):m("exchange.enterAmount"):m("insufficientBalance"):m("exchange.selectPair"):m("wallet.connect")})}),p.length>0&&!f&&Object(r.jsx)(g.a,{xs:12,className:"d-flex flex-column",style:{marginTop:36},children:p.map((function(e,t){return Object(r.jsxs)(vt,{selected:(null===e||void 0===e?void 0:e.platform)===(null===l||void 0===l?void 0:l.platform),onClick:c.selectRate.bind(c,e),className:"d-flex align-items-center justify-content-between",children:[Object(r.jsxs)("div",{className:"d-flex align-items-center",style:{flex:1},children:[Object(r.jsx)(xt,{src:Object(z.e)("/media/dex/".concat(N.u[e.platform])),size:30,alt:e.platform}),Object(r.jsx)(mt,{fontSize:S.isMobile?12:16,fontWeight:S.isMobile?400:500,style:{flex:1},children:N.v[e.platform]})]}),Object(r.jsxs)("div",{className:"d-flex flex-row align-items-center justify-content-center",style:{flex:1},children:[Object(r.jsxs)(mt,{fontWeight:500,fontSize:S.isMobile?12:16,className:S.isMobile?"mr-2":"mr-3",children:[e.rate.toFixed(6)," ",u.destination.token.symbol,"/",u.deposit.token.symbol]}),0===t?Object(r.jsx)("span",{className:"label label-inline label-lg label-light-primary",children:m("best")}):Object(r.jsx)("span",{style:{display:"block",flexBasis:55,minWidth:55}})]})]},"show-all-".concat(e.platform))}))})]})})})}),Object(r.jsx)(C.a,{show:this.state.showQrModal,centered:!0,onHide:function(){c.setState({showQrModal:!1})},size:"lg",children:Object(r.jsxs)(C.a.Body,{className:"d-flex flex-column",style:{minHeight:480,padding:"30px 60px"},children:[Object(r.jsxs)(G.b,{style:{padding:"8px 0 24px"},children:[Object(r.jsx)("div",{}),Object(r.jsx)(Xe.b,{onClick:function(){c.setState({showQrModal:!1})}})]}),null!==this.state.orderType&&Object(r.jsxs)("div",{className:"d-flex flex-column flex-grow-1 justify-content-start align-items-center",children:[Object(r.jsx)("h4",{className:"font-weight-bold mt-0 mb-0",style:{paddingTop:30},children:m("instantSwap.submitted")}),Object(r.jsx)("div",{style:{paddingTop:40,paddingBottom:45,marginBottom:"auto"},children:Object(r.jsx)(T.a,{value:(null===(e=this.state.order)||void 0===e?void 0:e.address_from)||"",fgColor:this.props.darkMode?"#fff":"#202020",bgColor:"transparent"})}),Object(r.jsxs)("div",{className:"d-flex flex-column align-items-stretch align-self-stretch mb-4",children:[Object(r.jsx)("span",{className:"font-size-large mb-2 d-block",children:m("instantSwap.sendCrypto",{amount:null===(t=this.state.order)||void 0===t?void 0:t.amount_from,crypto:null===(n=this.state.order)||void 0===n||null===(a=n.currency_from)||void 0===a?void 0:a.toUpperCase()})}),Object(r.jsx)("span",{className:"opacity-50 font-size-sm",children:m("instantSwap.exchangeDescription")})]}),Object(r.jsxs)("div",{className:"align-self-stretch d-flex flex-column mb-3",children:[Object(r.jsx)("span",{className:"opacity-50 mb-2",children:"ADDRESS"}),Object(r.jsx)("span",{className:" font-weight-bold",children:null===(i=this.state.order)||void 0===i?void 0:i.address_from})]}),Object(r.jsxs)("div",{className:"align-self-stretch d-flex flex-column",children:[Object(r.jsx)("span",{className:"opacity-50 mb-2",children:"Order ID"}),Object(r.jsx)("span",{children:null===(o=this.state.order)||void 0===o?void 0:o.id})]})]})]})})]})}}]),n}(b.a.Component);jt.contextType=y.ThemeContext;t.default=Object(j.b)((function(e){return{slippage:e.user.userSlippageTolerance,darkMode:e.user.userDarkMode}}))(Object(at.a)()(Object(R.a)(jt)))}}]);
//# sourceMappingURL=27.1bea7d0e.chunk.js.map