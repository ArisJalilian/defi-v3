{"version":3,"sources":["components/NumericalInput/index.tsx","components/hoc/withWeb3Account.tsx","components/UI/Dropdown/index.js","assets/images/global/dropdown.svg","hooks/useTokenToBalance.js","components/hoc/withBalance.js","pages/Borrow/ModalProvider/modals/UnlockToken.js","pages/Spot/components/MarketStats/index.js","pages/Spot/components/MarketDetails/index.js","components/BookOption/index.js","pages/Spot/components/Orderbook/index.js","utils/spot/numberUtils.js","pages/Spot/components/Provider/index.js","pages/Spot/components/MarketFills/index.js","pages/Spot/components/OrderHistory/index.js","components/SpotInputPanel/index.js","components/OrderDetailsContainer/index.js","pages/Spot/components/BuySell/index.js","pages/Spot/components/BuySell/modals/SignOrderStepContainer.js","pages/Spot/components/BuySell/modals/BuySellTokenMatchingStepContainer.js","pages/Spot/components/BuySell/modals/BuySellTokenStepContainer.js","pages/Spot/components/BuySell/ModalProvider.js","pages/Spot/index.js"],"names":["StyledInput","styled","input","error","theme","red1","text1","bg3","align","size","reverse","noBorder","modalBG","text3","inputRegex","RegExp","Input","React","memo","value","onUserInput","placeholder","rest","onChange","event","nextUserInput","target","replace","test","escapeRegExp","inputMode","title","autoComplete","autoCorrect","type","pattern","minLength","maxLength","spellCheck","withWeb3Account","Component","props","context","useActiveWeb3React","toggleWalletModal","useWalletModalToggle","web3","Wrapper","div","Button","button","variant","secondary2","primary","darken","ButtonText","span","DropdownList","isOpen","DropdownItem","Dropdown","useState","items","active","setActive","open","setOpen","toggleModal","useCallback","changeActiveHandler","item","hasOwnProperty","onClick","src","require","default","map","i","bind","useSpotBalances","account","library","baseToken","useSelector","getBaseToken","quoteToken","getQuoteToken","knownTokens","useMemo","getKnownTokens","tokens","getTokens","wethToken","getWethToken","allBalances","address","balances","setBalances","fetchBalances","a","tokensToTokenBalances","res","useEffect","length","useTokenToBalance","window","ethereum","ethBalance","useETHBalances","wethBalance","find","b","token","symbol","tokensBalance","filter","ethereumBalance","ETH","toExact","bn","BigNumber","currency","undefined","balance","totalEthBalance","total","plus","baseTokenBalance","searchToken","tokenBalances","wethTokenBalance","tokenToFind","quoteTokenBalance","withBalance","UnlockToken","unlocking","setUnlocking","currentStep","getStepsModalCurrentStep","dispatch","useDispatch","unlockToken","getContractWrappers","getProvider","contractWrappers","approveAddress","contractAddresses","erc20Proxy","erc20Token","ERC20TokenContract","amount","UNLIMITED_ALLOWANCE_IN_BASE_UNITS","approve","sendTransactionAsync","from","tx","awaitTransactionSuccessAsync","stepsModalAdvanceStep","onDismiss","pendingText","Card","ResponsiveCard","EmptyText","CustomInputGroup","InputGroup","TokenFiltersTabs","success","danger","TokenFiltersTab","Text","AutoHeight","lighten","withRouter","connect","state","spot","currencyPair","markets","marketsStats","marketsStatsState","relayer","changeMarket","t","useTranslation","query","setQuery","getMarketFilters","selectedFilter","setSelectedFilter","_setTokensFilterTab","changeQueryHandler","e","columns","dataField","text","formatter","cellContent","row","rowIndex","baseSymbol","formatTokenSymbol","base","toUpperCase","quoteSymbol","quote","_getLastPrice","marketStats","m","pair","marketToString","formatExtraData","market","marketStat","last_price","toFixed","config","pricePrecision","rowEvents","newSearch","queryString","stringify","history","push","match","path","callback","_setSelectedMarket","ServerState","NotLoaded","className","SearchIcon","Form","id","index","filteredMarkets","filterMarketsByTokenSymbol","searchedMarkets","filterMarketsByString","bordered","classes","bootstrap4","keyField","remote","data","_getMarkets","Loading","width","height","isMobile","StyledCard","Logo","Img","highPrice","getCurrentMarketTodayHighPrice","lowerPrice","getCurrentMarketTodayLowerPrice","volume","getCurrentMarketTodayQuoteVolume","closedOrders","getCurrentMarketTodayClosedOrders","lastPrice","getCurrentMarketLastPrice","toAbsoluteUrl","icon","USE_RELAYER_MARKET_UPDATES","displayDecimals","tokenAmountInUnits","decimals","toString","wrapperClasses","ResponsiveTable","breakpoint","direction","withoutBorder","Cell","BookOption","isSell","isBuy","Container","BookOptionType","StyledBookOption","HeaderRow","TitleRow","TableRow","Title","Result","TR","CustomHead","InnerTR","TH","SpreadTitle","SpreadTR","TD","TBody","depthItems","OrderToRow","_setOrderPriceSelected","order","orders","totalSize","ZERO","side","OrderSide","Buy","reduce","sumSize","sizeItem","price","lte","gte","onSetOrderBuyPriceSelected","onSetOrderSellPriceSelected","onSetOrderPriceSelected","onSetMakerAmountSelected","this","priceColor","mySizeOrders","basePrecision","mySize","mySizeItem","eq","mySizeConverted","isMySizeEmpty","numSplitted","numBg","UI_DECIMALS_DISPLAYED_ORDER_SIZE","numBgToFixed","numBgToString","decimalPlaces","split","diff","num","isZero","padRightSplitted","parseFloat","OrderToRowContainer","orderPriceSelected","setOrderPriceSelected","setOrderBuyPriceSelected","setOrderSellPriceSelected","makerAmountSelected","setMakerAmountSelected","Orderbook","depth","defaultDepth","bookOption","_spreadRowScrollable","createRef","_spreadRowFixed","_itemsScroll","content","orderBook","absoluteSpread","percentageSpread","totalQuoteBuyOrders","totalBaseSellOrders","serverState","sellOrders","buyOrders","mySizeSellArray","Sell","mySizeBuyArray","getColor","spreadAbsFixed","spreadPercentFixed","UI_DECIMALS_DISPLAYED_SPREAD_PERCENT","totalBase","totalQuote","bookOptionState","handleBookOption","option","setState","Number","slice","count","userOrders","orderBookState","getOrderBook","getSpread","getSpreadInPercentage","getTotalQuoteBuyOrders","getTotalBaseSellOrders","getOrderbookState","withTranslation","Web3","givenProvider","providers","HttpProvider","process","Provider","_deactivatePollingUpdates","_updateStoreInterval","clearInterval","_updatePriceEtherInterval","_updatePriceTokensInterval","_updateERC20MarketsInterval","_activatePollingUpdates","onUpdateERC20Markets","onUpdateMarketPriceTokens","onUpdateMarketPriceEther","onUpdateMarketPriceQuote","onUpdateERC20Store","currentProvider","UI_UPDATE_CHECK_INTERVAL","setInterval","isActiveCheckUpdates","UPDATE_ETHER_PRICE_INTERVAL","UPDATE_TOKENS_PRICE_INTERVAL","UPDATE_ERC20_MARKETS","componentWillUnmount","render","children","updateMarketPriceEther","updateMarketPriceQuote","updateMarketPriceTokens","updateERC20Markets","updateERC20Store","TableContainer","marketFills","spotUI","marketFillsState","Object","keys","marketToStringFromTokens","tokenQuoteSymbol","isWeth","marketFill","fill","amountBase","tokenBase","displayAmountBase","getCurrencyPairByTokensSymbol","tokenQuote","timestamp","toISOString","fillToRow","CardTitle","h4","Content","InnerContent","Close","CloseIcon","onCancelOrder","cancelOrder","ordersToShow","status","OrderStatus","Fillable","tokenBaseSymbol","sideLabel","filled","getCurrencyPairFromTokens","orderToRow","InputRow","flexRowNoWrap","Label","InputContainer","LabelRow","Aligner","InputPanel","flexColumnNoWrap","StyledTokenName","CurrencySelect","bg1","BalanceRow","SpotInputPanel","valueStr","valueFixedDecimals","_updateValue","newValue","unitsInTokenAmount","min","isLessThan","label","disable","selected","hideInput","showBalance","balanceText","style","padding","borderRadius","Boolean","NumericalInput","getDerivedStateFromProps","Row","OrderType","OrderDetails","makerFeeAmount","takerFeeAmount","makerFeeAssetData","NULL_BYTES","takerFeeAssetData","quoteTokenAmount","canOrderBeFilled","componentDidUpdate","prevProps","newProps","tokenPrice","orderType","tokenAmount","orderSide","_updateOrderDetailsState","onFetchTakerAndMakerFee","getTokenBySymbol","priceInQuoteBaseUnits","baseTokenAmountInUnits","toUnitAmount","multipliedBy","makerFee","takerFee","openSellOrders","openBuyOrders","buildMarketOrders","ordersToFill","amountToPayForEachOrder","firstOrderWithFees","o","sum","sumTakerAssetFillableOrders","_getCostStringForRender","costAmount","_getMedianPriceStringForRender","quoteTokenAmountUnits","baseTokenAmountUnits","priceDisplay","toFormat","_getCostLabelStringForRender","qouteInUSD","componentDidMount","cost","costText","priceMedianText","getOpenSellOrders","getOpenBuyOrders","getQuoteInUsd","fetchTakerAndMakerFee","QuoteContainer","TabsContainer","TabWrapper","Tab","DetailsContainer","MarketType","MarketButton","BuySell","makerAmount","tab","btnMsg","cardMsg","changeTab","updateMakerAmount","getAmountAvailableLabel","tokenBalanceAmount","baseBalanceString","quoteBalanceString","updatePrice","submit","minAmount","minAmountUnits","String","orderFeeData","IS_ORDER_LIMIT_MATCHING","onSubmitLimitOrderMatching","onSubmitLimitOrder","onSubmitMarketOrder","message","setTimeout","_reset","_switchToMarket","_switchToLimit","buySellInnerTabs","quoteDecimals","isWethQuote","isWethBase","quoteUnits","tokenAmountInUnitsToBigNumber","baseBalance","makerAmountUnits","isMakerAmountEmpty","isMakerAmountMin","isPriceEmpty","isPriceMin","pow","isOrderTypeLimitIsEmpty","isOrderTypeLimitOverflow","gt","isOrderTypeMarketIsEmpty","btnPrefix","btnText","disabled","OrderDetailsContainer","minWidth","marginTop","fontSize","fontWeight","getCurrencyPair","getOrderPriceSelected","getMakerAmountSelected","startBuySellLimitSteps","startBuySellLimitMatchingSteps","startBuySellMarketSteps","step","submitLimitOrder","signedOrder","createSignedOrder","submitOrder","onDone","onSubmitLimitMatchingOrder","submitLimitMatchingOrder","refreshOrders","getOrderbookAndUserOrders","txHash","amountInReturn","submitMarketOrder","ModalProvider","submitted","setSubmitted","setTxHash","hideModal","setStepsModalCurrentStep","show","centered","onHide","Body","chainId","CHAIN_ID","hash","kind","StepKind","ToggleTokenLock","BuySellLimit","BuySellLimitMatching","BuySellMarket","BuySellTokenStepContainer","justMobile","justDesktop","Col","ContainerCard","Spot","setPair","toLowerCase","updateGasInfo","Page","morePadding","isTradingGraphic","Themes","DARK","allow_symbol_change"],"mappings":"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","file":"static/js/22.06b72ccf.chunk.js","sourcesContent":["import React from \"react\";\nimport styled from \"styled-components\";\nimport { escapeRegExp } from \"../../utils\";\n\nconst StyledInput = styled.input<{\n\terror?: boolean;\n\tfontSize?: string;\n\talign?: string;\n\tnoBorder?: boolean;\n\treverse?: boolean;\n\tsize?: string;\n}>`\n\tcolor: ${({ error, theme }) => (error ? theme.red1 : theme.text1)};\n\twidth: 0;\n\tposition: relative;\n\tfont-weight: 500;\n\tfont-family: inherit;\n\toutline: none;\n\tborder: none;\n\tflex: 1 1 auto;\n\tbackground-color: ${({ theme }) => theme.bg3};\n\tfont-size: 1rem;\n\ttext-align: ${({ align }) => align && align};\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\theight: ${({ size }) => (size === \"sm\" ? \"48px\" : \"56px\")};\n\tborder-bottom-right-radius: ${({ reverse }) => (reverse ? \"0\" : `1.125rem`)};\n\tborder-top-right-radius: ${({ reverse }) => (reverse ? \"0\" : `1.125rem`)};\n\tborder-bottom-left-radius: ${({ reverse }) => (reverse ? \"1.125rem\" : `0`)};\n\tborder-top-left-radius: ${({ reverse }) => (reverse ? \"1.125rem\" : `0`)};\n\tpadding-right: 0.625rem;\n\tpadding-left: ${({ noBorder, reverse }) => (reverse ? \"1.375rem\" : noBorder ? \"0.625rem\" : `1.5rem`)};\n\t-webkit-appearance: textfield;\n\tborder-left: ${({ theme, noBorder }) => (noBorder ? \"none\" : `3px solid ${theme.modalBG}`)};\n\n\t@media (min-width: 768px) {\n\t\tpadding-right: 4.5625rem;\n\t}\n\n\t::-webkit-search-decoration {\n\t\t-webkit-appearance: none;\n\t}\n\n\t[type=\"number\"] {\n\t\t-moz-appearance: textfield;\n\t}\n\n\t::-webkit-outer-spin-button,\n\t::-webkit-inner-spin-button {\n\t\t-webkit-appearance: none;\n\t}\n\n\t::placeholder {\n\t\tcolor: ${({ theme }) => theme.text3};\n\t}\n`;\n\nconst inputRegex = RegExp(`^\\\\d*(?:\\\\\\\\[.])?\\\\d*$`); // match escaped \".\" characters via in a non-capturing group\n\nexport const Input = React.memo(function InnerInput({\n\tvalue,\n\tonUserInput,\n\tplaceholder,\n\tsize,\n\t...rest\n}: {\n\tvalue: string | number;\n\tonUserInput: (input: string) => void;\n\terror?: boolean;\n\tfontSize?: string;\n\tsize?: string;\n\talign?: \"right\" | \"left\";\n} & Omit<React.HTMLProps<HTMLInputElement>, \"ref\" | \"onChange\" | \"as\">) {\n\tconst enforcer = (nextUserInput: string) => {\n\t\tif (nextUserInput === \"\" || inputRegex.test(escapeRegExp(nextUserInput))) {\n\t\t\tonUserInput(nextUserInput);\n\t\t}\n\t};\n\n\treturn (\n\t\t<StyledInput\n\t\t\t{...rest}\n\t\t\tvalue={value}\n\t\t\tonChange={(event) => {\n\t\t\t\t// replace commas with periods, because uniswap exclusively uses period as the decimal separator\n\t\t\t\tenforcer(event.target.value.replace(/,/g, \".\"));\n\t\t\t}}\n\t\t\t// universal input options\n\t\t\tinputMode=\"decimal\"\n\t\t\ttitle=\"Token Amount\"\n\t\t\tautoComplete=\"off\"\n\t\t\tautoCorrect=\"off\"\n\t\t\tsize={size}\n\t\t\t// text-specific options\n\t\t\ttype=\"text\"\n\t\t\tpattern=\"^[0-9]*[.,]?[0-9]*$\"\n\t\t\tplaceholder={placeholder || \"0.0\"}\n\t\t\tminLength={1}\n\t\t\tmaxLength={79}\n\t\t\tspellCheck=\"false\"\n\t\t/>\n\t);\n});\n\nexport default Input;\n\n// const inputRegex = RegExp(`^\\\\d*(?:\\\\\\\\[.])?\\\\d*$`) // match escaped \".\" characters via in a non-capturing group\n","import { useActiveWeb3React } from \"../../hooks\";\nimport { useWalletModalToggle } from \"../../state/application/hooks\";\n\nconst withWeb3Account = (Component: any) => {\n\treturn (props: any) => {\n\t\tconst context = useActiveWeb3React();\n\t\tconst toggleWalletModal = useWalletModalToggle();\n\t\treturn <Component web3={context} toggleWalletModal={toggleWalletModal} {...props} />;\n\t};\n};\n\nexport default withWeb3Account;\n","import styled from \"styled-components\";\nimport { useState, useCallback } from \"react\";\nimport SVG from \"react-inlinesvg\";\nimport { darken } from \"polished\";\n\nconst Wrapper = styled.div`\n\tposition: relative;\n\tz-index: 2;\n\tperspective: 800px;\n`;\n\nconst Button = styled.button`\n\theight: ${({ size }) => (size === \"sm\" ? \"32px\" : \"56px\")};\n\tpadding-left: ${({ size }) => (size === \"sm\" ? \"16px\" : \"20px\")};\n\tpadding-right: ${({ size }) => (size === \"sm\" ? \"22px\" : \"24px\")};\n\tborder-radius: ${({ size }) => (size === \"sm\" ? \"12px\" : \"18px\")};\n\tbackground-color: ${({ variant }) =>\n\t\tvariant === \"secondary\" ? \"rgba(121, 133, 246, 0.15)\" : \"rgba(135, 220, 225, 0.15)\"};\n\ttransition: 0.4s ease all;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tcolor: ${({ variant, theme }) => (variant === \"secondary\" ? theme.secondary2 : theme.primary)};\n\tborder: none;\n\n\t&:hover {\n\t\tbackground-color: ${({ variant, theme }) => (variant === \"secondary\" ? theme.secondary2 : theme.primary)};\n\t\tcolor: ${({ theme }) => theme.text1};\n\t}\n\n\t&:focus,\n\t&:active {\n\t\toutline: none;\n\t\tbackground-color: ${({ variant, theme }) =>\n\t\t\tvariant === \"secondary\" ? darken(0.1, theme.secondary2) : darken(0.1, theme.primary)};\n\t\tbox-shadow: 0 0 0 5px\n\t\t\t${({ variant }) => (variant === \"secondary\" ? \"rgba(121, 133, 246, 0.15)\" : \"rgba(135, 220, 225, 0.15)\")};\n\t\tcolor: ${({ theme }) => theme.text1};\n\t}\n\n\t@media (max-width: 991px) {\n\t\theight: 32px;\n\t\tfont-size: 0.875rem;\n\t\tborder-radius: 12px;\n\t\tpadding-left: 15px;\n\t\tpadding-right: 21px;\n\t}\n`;\n\nconst ButtonText = styled.span`\n\tcolor: currentColor;\n\tfont-weight: 500;\n\tfont-size: 1rem;\n\tpadding-right: 1rem;\n\n\t@media (max-width: 991px) {\n\t\tpadding-right: 0.5rem;\n\t}\n`;\n\nconst DropdownList = styled.div`\n\tbackground-image: linear-gradient(346.84deg, #9aa7d0 1.12%, #b7c2e4 78.56%);\n\tbox-shadow: -1px 11px 43px rgba(0, 0, 0, 0.12);\n\tborder-radius: 12px;\n\tposition: absolute;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: flex-start;\n\tright: 0;\n\ttop: ${({ size }) => (size === \"sm\" ? `42px` : `66px`)};\n\tmin-width: 100%;\n\tpadding: ${({ size }) => (size === \"sm\" ? `14px` : `20px`)};\n\ttransition: 0.5s ease all;\n\ttransform-style: preserve-3d;\n\ttransform-origin: top center;\n\ttransform: ${({ isOpen }) => (isOpen ? `translateY(0) scale(1)` : `translateY(20px) scale(0.8)`)};\n\topacity: ${({ isOpen }) => (isOpen ? `1` : `0`)};\n\tvisibility: ${({ isOpen }) => (isOpen ? `visible` : `hidden`)};\n\n\t@media (max-width: 991px) {\n\t\ttop: 42px;\n\t}\n`;\n\nconst DropdownItem = styled.button`\n\tborder: none;\n\tbackground-color: transparent;\n\tfont-weight: 500;\n\tfont-size: 1rem;\n\tcolor: #232429;\n\twhite-space: nowrap;\n\tpadding: 0;\n\n\t@media (max-width: 991px) {\n\t\tfont-size: 0.875rem;\n\t}\n\n\t&:hover,\n\t&:focus,\n\t&:active {\n\t\toutline: none;\n\t\ttext-decoration: none;\n\t\tbox-shadow: none;\n\t}\n\n\t&:not(:last-child) {\n\t\tmargin-bottom: ${({ size }) => (size === \"sm\" ? `14px` : `20px`)};\n\t}\n`;\n\nconst Dropdown = (props) => {\n\tconst [active, setActive] = useState(props.items[props.active] || null);\n\tconst [open, setOpen] = useState(false);\n\n\tconst toggleModal = useCallback(() => {\n\t\tsetOpen((open) => !open);\n\t}, []);\n\n\tconst changeActiveHandler = useCallback(\n\t\t(item) => {\n\t\t\tsetActive(item);\n\t\t\tsetOpen(false);\n\t\t\tif (props.hasOwnProperty(\"onChange\")) {\n\t\t\t\tprops.onChange(item.value);\n\t\t\t}\n\t\t},\n\t\t[props.onChange]\n\t);\n\n\treturn (\n\t\t<Wrapper>\n\t\t\t<Button variant={props.variant} onClick={toggleModal} isOpen={open} size={props.size || \"md\"}>\n\t\t\t\t<ButtonText>{active ? active.title : props.placeholder || \"Select\"}</ButtonText>\n\t\t\t\t<SVG src={require(\"../../../assets/images/global/dropdown.svg\").default} />\n\t\t\t</Button>\n\t\t\t<DropdownList isOpen={open} size={props.size || \"md\"}>\n\t\t\t\t{props.items.map((item, i) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<DropdownItem size={\"sm\"} onClick={changeActiveHandler.bind(this, item)} key={`dropdown-${i}`}>\n\t\t\t\t\t\t\t{item.title}\n\t\t\t\t\t\t</DropdownItem>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</DropdownList>\n\t\t</Wrapper>\n\t);\n};\n\nexport default Dropdown;\n","export default __webpack_public_path__ + \"static/media/dropdown.4a406929.svg\";","import { useMemo, useState, useEffect } from \"react\";\nimport { tokensToTokenBalances } from \"../utils/spot/tokens\";\nimport { useActiveWeb3React } from \"./index\";\nimport { useSelector } from \"react-redux\";\nimport { getBaseToken, getQuoteToken, searchToken } from \"../state/selectors\";\nimport { getKnownTokens } from \"../utils/known_tokens\";\nimport { useETHBalances } from \"../state/wallet/hooks\";\nimport { BigNumber } from \"@0x/utils\";\n\nexport const useTokenToBalance = (tokens, address, library) => {\n\tconst [balances, setBalances] = useState([]);\n\n\tconst fetchBalances = async () => {\n\t\tif (address) {\n\t\t\tconst res = await tokensToTokenBalances(tokens, address, library);\n\t\t\tsetBalances(res);\n\t\t}\n\t};\n\tuseEffect(() => {\n\t\tfetchBalances();\n\t}, [address, tokens]);\n\n\treturn useMemo(() => {\n\t\tif (balances.length > 0) {\n\t\t\treturn balances;\n\t\t} else {\n\t\t\treturn [];\n\t\t}\n\t}, [address, balances, tokens]);\n};\n\nexport const useSpotBalances = () => {\n\tconst { account, library } = useActiveWeb3React();\n\n\tconst baseToken = useSelector(getBaseToken);\n\tconst quoteToken = useSelector(getQuoteToken);\n\n\tconst knownTokens = useMemo(() => {\n\t\treturn getKnownTokens();\n\t}, []);\n\tconst tokens = useMemo(() => {\n\t\treturn knownTokens.getTokens();\n\t}, []);\n\n\tconst wethToken = useMemo(() => {\n\t\treturn knownTokens.getWethToken();\n\t}, []);\n\n\tconst t = useMemo(() => {\n\t\treturn [...tokens, wethToken];\n\t}, [wethToken, tokens]);\n\tconst allBalances = useTokenToBalance(t, account, window.ethereum || library);\n\n\tconst ethBalance = useETHBalances([account]);\n\n\tconst wethBalance = useMemo(() => {\n\t\treturn allBalances.find((b) => b.token.symbol === wethToken.symbol);\n\t}, [allBalances]);\n\n\tconst tokensBalance = useMemo(() => {\n\t\treturn allBalances.filter((b) => b.token.symbol !== wethToken.symbol);\n\t}, [allBalances]);\n\n\tconst ethereumBalance = useMemo(() => {\n\t\tconst ETH = ethBalance[account] ? ethBalance[account].toExact() : null;\n\t\tconst bn = new BigNumber(ETH * 10 ** 18);\n\n\t\treturn {\n\t\t\ttoken: ethBalance[account] ? ethBalance[account].currency : undefined,\n\t\t\tbalance: bn,\n\t\t};\n\t}, [ethBalance]);\n\n\tconst totalEthBalance = useMemo(() => {\n\t\tif (wethBalance && ethereumBalance) {\n\t\t\tlet total = wethBalance.balance;\n\t\t\tif (ethereumBalance.token !== undefined) {\n\t\t\t\ttotal = ethereumBalance.balance.plus(wethBalance.balance);\n\t\t\t}\n\n\t\t\treturn total;\n\t\t} else {\n\t\t\treturn undefined;\n\t\t}\n\t}, [ethereumBalance, wethBalance]);\n\n\tconst baseTokenBalance = useMemo(() => {\n\t\treturn searchToken({ tokenBalances: tokensBalance, wethTokenBalance: wethBalance, tokenToFind: baseToken });\n\t}, [baseToken, tokensBalance, wethBalance]);\n\n\tconst quoteTokenBalance = useMemo(() => {\n\t\treturn searchToken({ tokenBalances: tokensBalance, wethTokenBalance: wethBalance, tokenToFind: quoteToken });\n\t}, [quoteToken, tokensBalance, wethBalance]);\n\n\treturn useMemo(() => {\n\t\treturn {\n\t\t\tquoteTokenBalance,\n\t\t\tbaseTokenBalance,\n\t\t\ttotalEthBalance,\n\t\t\tethBalance: ethereumBalance,\n\t\t\twethBalance,\n\t\t\ttokensBalance,\n\t\t};\n\t}, [account, baseToken, quoteToken, allBalances, baseTokenBalance, quoteTokenBalance]);\n};\n","import { useSpotBalances } from \"../../hooks/useTokenToBalance\";\n\nconst withBalance = (Component) => {\n\treturn (props) => {\n\t\tconst balances = useSpotBalances();\n\t\treturn <Component {...props} {...balances} />;\n\t};\n};\n\nexport default withBalance;\n","import { ConfirmationPendingContent } from \"../../../../components/TransactionConfirmationModal\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { getStepsModalCurrentStep } from \"../../../../state/selectors\";\nimport { UNLIMITED_ALLOWANCE_IN_BASE_UNITS } from \"../../../../constants\";\nimport { useActiveWeb3React } from \"../../../../hooks\";\nimport { getContractWrappers } from \"../../../../utils/spot/contractWrapper\";\nimport { ERC20TokenContract } from \"@0x/contract-wrappers\";\nimport { stepsModalAdvanceStep } from \"../../../../state/spotUI/actions\";\n\nconst UnlockToken = (props) => {\n\tconst [unlocking, setUnlocking] = useState(false);\n\tconst { account, library } = useActiveWeb3React();\n\tconst currentStep = useSelector(getStepsModalCurrentStep);\n\tconst { address, token } = currentStep;\n\tconst web3 = props.web3;\n\tconst dispatch = useDispatch();\n\n\tconst unlockToken = async () => {\n\t\ttry {\n\t\t\tconst contractWrappers = await getContractWrappers(web3.getProvider());\n\t\t\tconst approveAddress = address ? address : contractWrappers.contractAddresses.erc20Proxy;\n\n\t\t\tconst erc20Token = new ERC20TokenContract(token.address, contractWrappers.getProvider());\n\t\t\tconst amount = UNLIMITED_ALLOWANCE_IN_BASE_UNITS;\n\n\t\t\tconst tx = await erc20Token.approve(approveAddress, amount).sendTransactionAsync({\n\t\t\t\tfrom: account,\n\t\t\t});\n\t\t\tsetUnlocking(true);\n\t\t\tawait web3.awaitTransactionSuccessAsync(tx);\n\n\t\t\tif (tx) {\n\t\t\t\tsetUnlocking(false);\n\t\t\t\tdispatch(stepsModalAdvanceStep());\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tsetUnlocking(false);\n\t\t\tprops.onDismiss();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tunlockToken();\n\t}, [currentStep]);\n\n\treturn (\n\t\t<ConfirmationPendingContent\n\t\t\tonDismiss={unlocking ? () => null : props.onDismiss}\n\t\t\tpendingText={unlocking ? \"Unlocking\" : \"Waiting for confirmation\"}\n\t\t/>\n\t);\n};\n\nexport default UnlockToken;\n","import React, { useCallback, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { BigNumber } from \"@0x/utils\";\nimport styled from \"styled-components\";\nimport { lighten } from \"polished\";\nimport { withRouter } from \"react-router-dom\";\nimport queryString from \"query-string\";\n\nimport { ServerState } from \"../../../../constants\";\nimport { getMarketFilters } from \"../../../../common/markets\";\nimport { changeMarket } from \"../../../../state/spot/actions\";\nimport { formatTokenSymbol } from \"../../../../utils/spot/tokens\";\nimport { filterMarketsByString, filterMarketsByTokenSymbol, marketToString } from \"../../../../utils/spot/market\";\n\nimport { ResponsiveCard } from \"../../../../components/Card\";\nimport { useActiveWeb3React } from \"../../../../hooks\";\nimport Loading from \"../../../../components/Loading\";\nimport SearchIcon from \"../../../../assets/images/search.svg\";\nimport \"./styles.scss\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport { useTranslation } from \"react-i18next\";\nimport SVG from \"react-inlinesvg\";\nimport {\n\tInputGroupFormControl as FormControl,\n\tInputGroupPrepend,\n\tInputGroupText,\n\tInputGroup,\n} from \"../../../../components/Form\";\n\nconst Card = styled(ResponsiveCard)`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: stretch;\n\tmargin-bottom: 20px;\n\n\t& .card-body {\n\t\tpadding: 30px;\n\t}\n\n\t@media (min-width: 1400px) {\n\t\twidth: 228px;\n\t\theight: 486px;\n\t\tmargin-bottom: 10px;\n\n\t\t& .card-body {\n\t\t\tpadding: 10px;\n\t\t}\n\t}\n`;\n\nconst EmptyText = styled.span`\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tcolor: ${({ theme }) => theme.text1};\n`;\n\nconst CustomInputGroup = styled(InputGroup)`\n\tfont-size: 0.75rem;\n\n\t.input-group-text {\n\t\tpadding-left: 1.25rem;\n\t\tpadding-right: 0.625rem;\n\t}\n\n\t& input {\n\t\tfont-size: 0.75rem !important;\n\t\tpadding-left: 0;\n\t}\n\n\t& img {\n\t\twidth: 1rem;\n\t\theight: 1rem;\n\t}\n`;\n\nconst PriceChange = styled.span`\n\tcolor: ${(props) =>\n\t\tprops.value > 0 ? props.theme.success : props.value < 0 ? props.theme.danger : props.theme.text3};\n\tdisplay: block;\n`;\n\nconst TokenFiltersTabs = styled.div`\n\twidth: 100%;\n\tflex-wrap: nowrap;\n\tpadding: 15px 0;\n`;\n\nconst TokenFiltersTab = styled.button`\n\tbackground-color: transparent;\n\tborder: none;\n\tcolor: ${({ active, theme }) => (active ? theme.primary : theme.text1)};\n\tfont-size: 12px;\n\tfont-weight: 400;\n\n\t&:active,\n\t&:focus {\n\t\toutline: none;\n\t\tbox-shadow: none;\n\t\ttext-decoration: none;\n\t}\n`;\n\nconst Text = styled.span`\n\tcolor: ${({ theme, variant }) => (variant ? theme[variant] : theme.text1)};\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n\tcursor: pointer;\n`;\n\nconst AutoHeight = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex: 1;\n\toverflow-y: auto;\n\toverflow-x: hidden;\n\tmax-height: 360px;\n\n\t@media (max-width: 1400px) {\n\t\tmax-height: initial;\n\t}\n\n\t/* width */\n\t::-webkit-scrollbar {\n\t\twidth: 3px;\n\t}\n\n\t/* Track */\n\t::-webkit-scrollbar-track {\n\t\tbox-shadow: none;\n\t\tbackground-color: transparent;\n\t\tborder-radius: 10px;\n\t\tpadding: 0 6px;\n\t\tmargin: 0 6px;\n\t\tborder-right: 1px solid ${({ theme }) => theme.text1};\n\t}\n\n\t/* Handle */\n\t::-webkit-scrollbar-thumb {\n\t\tbackground: ${({ theme }) => theme.text1};\n\t\tborder-radius: 10px;\n\t\twidth: 4px !important;\n\t}\n\n\t/* Handle on hover */\n\t::-webkit-scrollbar-thumb:hover {\n\t\tbackground: ${({ theme }) => lighten(0.08, theme.text1)};\n\t}\n`;\n\nconst MarketStats = (props) => {\n\tconst { account, library } = useActiveWeb3React();\n\tconst { t } = useTranslation();\n\tconst [query, setQuery] = useState(\"\");\n\tconst [selectedFilter, setSelectedFilter] = useState(getMarketFilters()[0]);\n\tconst { baseToken, quoteToken, markets, marketsStats, marketsStatsState } = props;\n\n\tconst _getLastPrice = (market, marketStat) => {\n\t\tif (marketStat && marketStat.last_price) {\n\t\t\treturn new BigNumber(marketStat.last_price).toFixed(market.currencyPair.config.pricePrecision);\n\t\t}\n\n\t\treturn \"-\";\n\t};\n\n\tconst _getLastPriceChange = (marketStat) => {\n\t\tif (marketStat && marketStat.last_price_change_24) {\n\t\t\treturn (\n\t\t\t\t<PriceChange value={marketStat.last_price_change_24}>{`${new BigNumber(marketStat.last_price_change_24)\n\t\t\t\t\t.times(100)\n\t\t\t\t\t.toFixed(2)} %`}</PriceChange>\n\t\t\t);\n\t\t}\n\n\t\treturn <PriceChange value={0}>{`${new BigNumber(0).toFixed(2)} %`}</PriceChange>;\n\t};\n\n\tconst _setTokensFilterTab = (filter) => {\n\t\tsetSelectedFilter(filter);\n\t};\n\n\tconst _setSelectedMarket = (currencyPair, account, library) => {\n\t\tconst callback = (currencyPair) => {\n\t\t\tconst newSearch = queryString.stringify({\n\t\t\t\tbase: currencyPair.base,\n\t\t\t\tquote: currencyPair.quote,\n\t\t\t});\n\t\t\tprops.history.push(`${props.match.path}?${newSearch}`);\n\t\t};\n\t\tcallback(currencyPair);\n\t\tprops.changeMarket(currencyPair, account, library);\n\t};\n\n\tconst changeQueryHandler = useCallback((e) => {\n\t\tsetQuery(e.target.value);\n\t}, []);\n\n\tconst columns = [\n\t\t{\n\t\t\tdataField: \"market\",\n\t\t\ttext: t(\"market\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\tconst baseSymbol = formatTokenSymbol(row.currencyPair.base).toUpperCase();\n\t\t\t\tconst quoteSymbol = formatTokenSymbol(row.currencyPair.quote).toUpperCase();\n\t\t\t\treturn (\n\t\t\t\t\t<Text>\n\t\t\t\t\t\t{baseSymbol} / {quoteSymbol}\n\t\t\t\t\t</Text>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdataField: \"price\",\n\t\t\ttext: t(\"table.price\"),\n\t\t\tformatter: (cellContent, row, rowIndex, { _getLastPrice, marketsStats }) => {\n\t\t\t\tconst marketStats =\n\t\t\t\t\tmarketsStats && marketsStats.find((m) => m.pair.toUpperCase() === marketToString(row.currencyPair));\n\t\t\t\treturn <Text>{_getLastPrice(row, marketStats)}</Text>;\n\t\t\t},\n\t\t\tformatExtraData: {\n\t\t\t\t_getLastPrice,\n\t\t\t\tmarketsStats,\n\t\t\t},\n\t\t},\n\t];\n\n\tconst rowEvents = {\n\t\tonClick: (e, row) => {\n\t\t\t_setSelectedMarket(row.currencyPair, account, library);\n\t\t},\n\t};\n\n\tconst _getMarkets = () => {\n\t\tconst { baseToken, markets } = props;\n\n\t\tif (!baseToken || !markets) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst filteredMarkets =\n\t\t\tselectedFilter == null || selectedFilter.value === null\n\t\t\t\t? markets\n\t\t\t\t: filterMarketsByTokenSymbol(markets, selectedFilter.value);\n\t\tconst searchedMarkets = filterMarketsByString(filteredMarkets, query);\n\n\t\treturn (\n\t\t\t<AutoHeight>\n\t\t\t\t<BootstrapTable\n\t\t\t\t\tbordered={false}\n\t\t\t\t\tclasses=\"table table-head-custom table-borderless table-vertical-center overflow-hidden market-stats__table\"\n\t\t\t\t\tbootstrap4\n\t\t\t\t\tkeyField={\"id\"}\n\t\t\t\t\tremote\n\t\t\t\t\trowEvents={rowEvents}\n\t\t\t\t\tdata={searchedMarkets === null ? [] : searchedMarkets}\n\t\t\t\t\tcolumns={columns}\n\t\t\t\t/>\n\t\t\t</AutoHeight>\n\t\t);\n\t};\n\n\tif (!baseToken || !quoteToken || marketsStatsState === ServerState.NotLoaded) {\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n\t\t\t\t\t<Loading width={40} height={40} id={`spots-${props.isMobile ? \"mobile\" : \"desktop\"}`} active />\n\t\t\t\t</div>\n\t\t\t</Card>\n\t\t);\n\t} else if (!baseToken || !quoteToken) {\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n\t\t\t\t\t<EmptyText>{t(\"errors.noMarket\")}</EmptyText>\n\t\t\t\t</div>\n\t\t\t</Card>\n\t\t);\n\t} else if (!markets && !marketsStats) {\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n\t\t\t\t\t<Loading\n\t\t\t\t\t\twidth={40}\n\t\t\t\t\t\theight={40}\n\t\t\t\t\t\tid={`spots-markets-loading-${props.isMobile ? \"mobile\" : \"desktop\"}`}\n\t\t\t\t\t\tactive\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Card>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Card>\n\t\t\t<CustomInputGroup className={\"w-auto\"}>\n\t\t\t\t<InputGroupPrepend>\n\t\t\t\t\t<InputGroupText>\n\t\t\t\t\t\t<SVG src={SearchIcon} />\n\t\t\t\t\t</InputGroupText>\n\t\t\t\t</InputGroupPrepend>\n\t\t\t\t<FormControl id=\"PoolsSearch\" placeholder={t(\"search\")} onChange={changeQueryHandler} />\n\t\t\t</CustomInputGroup>\n\n\t\t\t<TokenFiltersTabs className={\"d-flex align-items-center justify-content-between\"}>\n\t\t\t\t{getMarketFilters().map((filter, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<TokenFiltersTab\n\t\t\t\t\t\t\tactive={filter === selectedFilter}\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tonClick={_setTokensFilterTab.bind(this, filter)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{filter.text}\n\t\t\t\t\t\t</TokenFiltersTab>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</TokenFiltersTabs>\n\t\t\t{_getMarkets()}\n\t\t</Card>\n\t);\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tbaseToken: state.spot.baseToken,\n\t\tcurrencyPair: state.spot.currencyPair,\n\t\tmarkets: state.spot.markets,\n\t\tquoteToken: state.spot.quoteToken,\n\t\tmarketsStats: state.spot.marketsStats,\n\t\tmarketsStatsState: state.relayer.marketsStatsState,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tchangeMarket: (currencyPair) => dispatch(changeMarket(currencyPair)),\n\t};\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(MarketStats));\n","import { connect } from \"react-redux\";\nimport { BigNumber } from \"@0x/utils\";\nimport styled from \"styled-components\";\n\nimport { USE_RELAYER_MARKET_UPDATES } from \"../../../../constants\";\nimport { changeMarket } from \"../../../../state/spot/actions\";\nimport {\n\tformatTokenName,\n\tformatTokenSymbol,\n\tgetEtherscanLinkForToken,\n\ttokenAmountInUnits,\n} from \"../../../../utils/spot/tokens\";\nimport {\n\tgetCurrentMarketLastPrice,\n\tgetCurrentMarketTodayClosedOrders,\n\tgetCurrentMarketTodayHighPrice,\n\tgetCurrentMarketTodayLowerPrice,\n\tgetCurrentMarketTodayQuoteVolume,\n} from \"../../../../state/selectors\";\nimport StyledCard from \"../../../../components/Card\";\nimport { useActiveWeb3React } from \"../../../../hooks\";\nimport Loading from \"../../../../components/Loading\";\nimport React from \"react\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport Img from \"../../../../components/UI/Img\";\nimport { toAbsoluteUrl } from \"../../../../lib/helper\";\nimport \"./styles.scss\";\nimport ResponsiveTable from \"../../../../components/ResponsiveTable\";\nimport { useTranslation } from \"react-i18next\";\n\nconst Card = styled(StyledCard)`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: stretch;\n\tmargin-bottom: 20px;\n\n\t& .card-body {\n\t\tpadding: 24px 20px 20px;\n\t}\n\n\t@media (min-width: 1400px) {\n\t\twidth: 570px;\n\t\theight: 103px;\n\t\tmargin-bottom: 10px;\n\n\t\t& .card-body {\n\t\t\tpadding: 24px;\n\t\t}\n\t}\n`;\n\nconst Logo = styled(Img)`\n\twidth: 24px;\n\tmin-width: 24px;\n\theight: 24px;\n\tborder-radius: 24px;\n\tborder: 1px solid ${({ theme }) => theme.text1};\n\tdisplay: block;\n\tmargin-right: 5px;\n\n\t@media (max-width: 1400px) {\n\t\tmargin-right: 10px;\n\t}\n`;\n\nconst Text = styled.span`\n\tcolor: ${({ theme, variant }) => (variant ? theme[variant] : theme.text1)};\n\tfont-size: 0.875rem;\n\tfont-weight: 500;\n`;\n\nconst MarketDetails = (props) => {\n\tconst { t } = useTranslation();\n\tconst { baseToken, quoteToken, currencyPair } = props;\n\n\tconst { highPrice, lowerPrice, volume, closedOrders, lastPrice } = props;\n\n\tconst marketStats = {\n\t\thighPrice,\n\t\tlowerPrice,\n\t\tvolume,\n\t\tclosedOrders,\n\t\tlastPrice,\n\t};\n\n\tconst columns = [\n\t\t{\n\t\t\tdataField: \"project\",\n\t\t\ttext: t(\"project\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"d-flex align-items-center\">\n\t\t\t\t\t\t<Logo src={toAbsoluteUrl(`/${row.baseToken.icon}`)} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdataField: \"last_price\",\n\t\t\ttext: t(\"table.price\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\tconst lastPrice = row.marketStats.lastPrice\n\t\t\t\t\t? new BigNumber(row.marketStats.lastPrice).toFixed(row.currencyPair.config.pricePrecision)\n\t\t\t\t\t: \"-\";\n\t\t\t\treturn <Text>{lastPrice}</Text>;\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdataField: \"max_price\",\n\t\t\ttext: t(\"table.24_high\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Text>\n\t\t\t\t\t\t{(row.marketStats.highPrice &&\n\t\t\t\t\t\t\trow.marketStats.highPrice.toFixed(row.currencyPair.config.pricePrecision)) ||\n\t\t\t\t\t\t\t\"-\"}\n\t\t\t\t\t</Text>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdataField: \"min_price\",\n\t\t\ttext: t(\"table.24_low\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\treturn <Text>{(row.marketStats.lowerPrice && row.marketStats.lowerPrice.toFixed(4)) || \"-\"}</Text>;\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdataField: \"volume\",\n\t\t\ttext: t(\"table.24_volume\"),\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\tlet volume;\n\t\t\t\tif (USE_RELAYER_MARKET_UPDATES) {\n\t\t\t\t\tvolume =\n\t\t\t\t\t\t(row.marketStats.volume &&\n\t\t\t\t\t\t\t`${row.marketStats.volume.toFixed(row.quoteToken.displayDecimals)} ${formatTokenSymbol(\n\t\t\t\t\t\t\t\trow.quoteToken.symbol\n\t\t\t\t\t\t\t)}`) ||\n\t\t\t\t\t\t\"- \";\n\t\t\t\t} else {\n\t\t\t\t\tvolume =\n\t\t\t\t\t\t(row.marketStats.volume &&\n\t\t\t\t\t\t\t`${tokenAmountInUnits(\n\t\t\t\t\t\t\t\trow.marketStats.volume,\n\t\t\t\t\t\t\t\trow.quoteToken.decimals,\n\t\t\t\t\t\t\t\trow.quoteToken.displayDecimals\n\t\t\t\t\t\t\t).toString()} ${formatTokenSymbol(row.quoteToken.symbol)}`) ||\n\t\t\t\t\t\t\"- \";\n\t\t\t\t}\n\t\t\t\treturn <Text>{volume}</Text>;\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdataField: \"closed_orders\",\n\t\t\ttext: \"Orders Closed\",\n\t\t\tformatter: (cellContent, row, rowIndex) => {\n\t\t\t\treturn <Text>{row.marketStats.closedOrders || \"-\"}</Text>;\n\t\t\t},\n\t\t},\n\t];\n\n\tif (!baseToken || !quoteToken) {\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n\t\t\t\t\t<Loading\n\t\t\t\t\t\twidth={40}\n\t\t\t\t\t\theight={40}\n\t\t\t\t\t\tid={`spots-markets-details-${props.isMobile ? \"mobile\" : \"desktop\"}`}\n\t\t\t\t\t\tactive\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Card>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Card>\n\t\t\t<BootstrapTable\n\t\t\t\twrapperClasses=\"d-none d-lg-block\"\n\t\t\t\tbordered={false}\n\t\t\t\tclasses=\"table table-head-custom table-borderless table-vertical-center overflow-hidden market-details__table\"\n\t\t\t\tbootstrap4\n\t\t\t\tkeyField={\"id\"}\n\t\t\t\tremote\n\t\t\t\tdata={[{ marketStats, baseToken, quoteToken, currencyPair }]}\n\t\t\t\tcolumns={columns}\n\t\t\t/>\n\t\t\t<ResponsiveTable\n\t\t\t\tbreakpoint={\"lg\"}\n\t\t\t\tcolumns={columns}\n\t\t\t\tdata={[{ marketStats, baseToken, quoteToken, currencyPair }]}\n\t\t\t\tdirection={\"rtl\"}\n\t\t\t\twithoutBorder\n\t\t\t/>\n\t\t</Card>\n\t);\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tbaseToken: state.spot.baseToken,\n\t\tcurrencyPair: state.spot.currencyPair,\n\t\tquoteToken: state.spot.quoteToken,\n\t\thighPrice: getCurrentMarketTodayHighPrice(state),\n\t\tlowerPrice: getCurrentMarketTodayLowerPrice(state),\n\t\tvolume: getCurrentMarketTodayQuoteVolume(state),\n\t\tclosedOrders: getCurrentMarketTodayClosedOrders(state),\n\t\tlastPrice: getCurrentMarketLastPrice(state),\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tchangeMarket: (currencyPair) => dispatch(changeMarket(currencyPair)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MarketDetails);\n","import styled from \"styled-components\";\n\nconst Wrapper = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: flex-start;\n\tjustify-content: space-between;\n\twidth: 30px;\n\theight: 30px;\n\tmin-width: 30px;\n\tmin-height: 30px;\n\tpadding: 10px 6px;\n\tbackground-color: ${({ theme }) => theme.bg3};\n\tborder-radius: 30px;\n\topacity: ${({ active }) => (active ? \"1\" : \"0.5\")};\n\tcursor: pointer;\n`;\n\nconst Cell = styled.div`\n\theight: 2px;\n\tborder-radius: 9px;\n\twidth: 13px;\n\tbackground-color: ${({ theme, variant }) => (variant ? theme[variant] : \"#D3D6E8\")};\n\n\t&:not(:last-child) {\n\t\twidth: 17px;\n\t}\n`;\n\nconst BookOption = (props) => {\n\treturn (\n\t\t<Wrapper active={props.active} onClick={props.onChange} {...props}>\n\t\t\t<Cell variant={props.isSell && \"danger\"} />\n\t\t\t<Cell />\n\t\t\t<Cell variant={props.isBuy && \"success\"} />\n\t\t</Wrapper>\n\t);\n};\n\nexport default BookOption;\n","import { connect } from \"react-redux\";\nimport styled from \"styled-components\";\nimport { lighten } from \"polished\";\nimport { BigNumber } from \"@0x/utils\";\n\nimport {\n\tgetOrderBook,\n\tgetOrderbookState,\n\tgetSpread,\n\tgetSpreadInPercentage,\n\tgetTotalBaseSellOrders,\n\tgetTotalQuoteBuyOrders,\n} from \"../../../../state/selectors\";\nimport { ZERO, UI_DECIMALS_DISPLAYED_SPREAD_PERCENT, OrderSide, ServerState } from \"../../../../constants\";\nimport { formatTokenSymbol, tokenAmountInUnits } from \"../../../../utils/spot/tokens\";\nimport {\n\tsetMakerAmountSelected,\n\tsetOrderBuyPriceSelected,\n\tsetOrderPriceSelected,\n\tsetOrderSellPriceSelected,\n} from \"../../../../state/spotUI/actions\";\nimport React, { Component } from \"react\";\nimport Loading from \"../../../../components/Loading\";\nimport BookOption from \"../../../../components/BookOption\";\nimport Dropdown from \"../../../../components/UI/Dropdown\";\nimport { padRightSplitted } from \"../../../../utils/spot/numberUtils\";\nimport { withTranslation } from \"react-i18next\";\n\nconst Container = styled.div`\n\twidth: 260px;\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t@media (max-width: 1400px) {\n\t\twidth: 100%;\n\t}\n`;\n\nconst EmptyText = styled.span`\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tcolor: ${({ theme }) => theme.text1};\n`;\nconst BookOptionType = {\n\tBuySellBook: 0,\n\tSellBook: 1,\n\tBuyBook: 2,\n};\n\nconst StyledBookOption = styled(BookOption)`\n\t&:not(:last-child) {\n\t\tmargin-right: 10px;\n\t}\n`;\n\nconst HeaderRow = styled.div`\n\tmargin-bottom: 12px;\n\n\t@media (max-width: 1400px) {\n\t\tmargin-bottom: 34px;\n\t}\n`;\nconst TitleRow = styled.div`\n\tmargin-bottom: 15px;\n\n\t@media (max-width: 1400px) {\n\t\tmargin-bottom: 10px;\n\t\talign-items: flex-end;\n\t}\n`;\nconst TableRow = styled.div`\n\tdisplay: flex;\n\tflex: 1;\n\tmax-height: 382px;\n\tflex-direction: column;\n\n\t@media (max-width: 1400px) {\n\t\tmargin-bottom: 0;\n\t\tmax-height: initial;\n\t}\n`;\n\nconst Title = styled.span`\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-weight: bold;\n\tfont-size: 1rem;\n\tline-height: 1;\n\n\t@media (max-width: 1400px) {\n\t\tmargin-bottom: 10px;\n\t}\n`;\n\nconst Result = styled.span`\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-weight: 500;\n\tfont-size: 0.75rem;\n`;\n\nconst TR = styled.div`\n\tpadding: 6px 16px;\n\tborder-radius: 12px;\n\tmargin-bottom: 12px;\n\tmax-height: 32px;\n\theight: 32px;\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 1fr 1fr;\n\n\t@media (max-width: 1400px) {\n\t\tmax-height: 56px;\n\t\tpadding: 18px 20px;\n\t\tborder-radius: 18px;\n\t\theight: 56px;\n\t}\n`;\nconst CustomHead = styled(TR)`\n\tbackground-color: ${({ theme }) => theme.text1}10;\n`;\n\nconst InnerTR = styled(TR)`\n\tbackground-color: transparent;\n\tcursor: pointer;\n\ttransition: all ease 0.3s;\n\tmargin-bottom: 2px;\n\tmax-height: 24px;\n\tpadding: 4px 16px;\n\n\t@media (max-width: 1400px) {\n\t\tmax-height: 56px;\n\t\tpadding: 18px 20px;\n\t\tborder-radius: 18px;\n\t\theight: 56px;\n\t}\n\n\t&:hover {\n\t\tbackground-color: ${({ theme }) => theme.text1}06;\n\t}\n`;\n\nconst TH = styled.span`\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n\twhite-space: nowrap;\n`;\n\nconst SpreadTitle = styled.span`\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-size: 0.75rem;\n\tfont-weight: 500;\n\twhite-space: nowrap;\n`;\n\nconst SpreadTR = styled(CustomHead)`\n\tmargin-bottom: 8px;\n\tmargin-top: 4px;\n`;\n\nconst TD = styled.span`\n\tcolor: ${({ theme, variant }) => (variant ? theme[variant] : theme.text1)};\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n\tpadding-right: 5px;\n`;\n\nconst TBody = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex: 1;\n\tmax-height: 306px;\n\tmin-height: 306px;\n\toverflow-x: hidden;\n\toverflow-y: auto;\n\n\t@media (max-width: 1400px) {\n\t\tmax-height: initial;\n\t}\n\n\t/* width */\n\t::-webkit-scrollbar {\n\t\twidth: 3px;\n\t}\n\n\t/* Track */\n\t::-webkit-scrollbar-track {\n\t\tbox-shadow: none;\n\t\tbackground-color: transparent;\n\t\tborder-radius: 10px;\n\t\tpadding: 0 6px;\n\t\tmargin: 0 6px;\n\t\tborder-right: 1px solid ${({ theme }) => theme.text1};\n\t}\n\n\t/* Handle */\n\t::-webkit-scrollbar-thumb {\n\t\tbackground: ${({ theme }) => theme.text1};\n\t\tborder-radius: 10px;\n\t\twidth: 4px !important;\n\t}\n\n\t/* Handle on hover */\n\t::-webkit-scrollbar-thumb:hover {\n\t\tbackground: ${({ theme }) => lighten(0.08, theme.text1)};\n\t}\n`;\n\nconst depthItems = [\n\t{\n\t\tvalue: 5,\n\t\ttitle: \"5\",\n\t},\n\t{\n\t\tvalue: 10,\n\t\ttitle: \"10\",\n\t},\n\t{\n\t\tvalue: 20,\n\t\ttitle: \"20\",\n\t},\n\t{\n\t\tvalue: 50,\n\t\ttitle: \"50\",\n\t},\n];\n\nclass OrderToRow extends Component {\n\trender() {\n\t\tconst { order, index, baseToken, priceColor, mySizeOrders = [], currencyPair } = this.props;\n\t\tconst basePrecision = currencyPair.config.basePrecision;\n\t\tconst pricePrecision = currencyPair.config.pricePrecision;\n\n\t\tconst size = tokenAmountInUnits(order.size, baseToken.decimals, basePrecision);\n\t\tconst price = order.price.toString();\n\n\t\tconst mySize = mySizeOrders.reduce((sumSize, mySizeItem) => {\n\t\t\tif (mySizeItem.price.eq(order.price)) {\n\t\t\t\treturn sumSize.plus(mySizeItem.size);\n\t\t\t}\n\t\t\treturn sumSize;\n\t\t}, ZERO);\n\n\t\tconst mySizeConverted = tokenAmountInUnits(mySize, baseToken.decimals, basePrecision);\n\t\tconst isMySizeEmpty = mySize.eq(new BigNumber(0));\n\t\tconst numSplitted = padRightSplitted(new BigNumber(size), basePrecision);\n\n\t\treturn (\n\t\t\t<InnerTR onClick={() => this._setOrderPriceSelected(order.price)}>\n\t\t\t\t<TD>{numSplitted.num}</TD>\n\t\t\t\t<TD variant={priceColor}>{parseFloat(price).toFixed(pricePrecision)}</TD>\n\t\t\t\t<TD>{isMySizeEmpty ? \"-\" : mySizeConverted}</TD>\n\t\t\t</InnerTR>\n\t\t);\n\t}\n\n\t_setOrderPriceSelected = async (size) => {\n\t\tconst { order, orders } = this.props;\n\t\tlet totalSize = ZERO;\n\t\tif (order.side === OrderSide.Buy) {\n\t\t\ttotalSize = orders.reduce((sumSize, sizeItem) => {\n\t\t\t\tif (order.price.lte(sizeItem.price)) {\n\t\t\t\t\treturn sumSize.plus(sizeItem.size);\n\t\t\t\t}\n\t\t\t\treturn sumSize;\n\t\t\t}, ZERO);\n\t\t} else {\n\t\t\ttotalSize = orders.reduce((sumSize, sizeItem) => {\n\t\t\t\tif (order.price.gte(sizeItem.price)) {\n\t\t\t\t\treturn sumSize.plus(sizeItem.size);\n\t\t\t\t}\n\t\t\t\treturn sumSize;\n\t\t\t}, ZERO);\n\t\t}\n\t\tif (order.side === OrderSide.Buy) {\n\t\t\tawait this.props.onSetOrderBuyPriceSelected(size);\n\t\t} else {\n\t\t\tawait this.props.onSetOrderSellPriceSelected(size);\n\t\t}\n\n\t\tawait this.props.onSetOrderPriceSelected(size);\n\t\tawait this.props.onSetMakerAmountSelected(totalSize);\n\t};\n}\n\nconst mapOrderToRowDispatchToProps = (dispatch) => {\n\treturn {\n\t\tonSetOrderPriceSelected: (orderPriceSelected) => dispatch(setOrderPriceSelected(orderPriceSelected)),\n\t\tonSetOrderBuyPriceSelected: (orderPriceSelected) => dispatch(setOrderBuyPriceSelected(orderPriceSelected)),\n\t\tonSetOrderSellPriceSelected: (orderPriceSelected) => dispatch(setOrderSellPriceSelected(orderPriceSelected)),\n\t\tonSetMakerAmountSelected: (makerAmountSelected) => dispatch(setMakerAmountSelected(makerAmountSelected)),\n\t};\n};\n\nconst OrderToRowContainer = connect(null, mapOrderToRowDispatchToProps)(OrderToRow);\n\nclass Orderbook extends Component {\n\tstate = {\n\t\tdepth: { value: this.props.defaultDepth || 5 },\n\t\tbookOption: BookOptionType.BuySellBook,\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis._spreadRowScrollable = React.createRef();\n\t\tthis._spreadRowFixed = React.createRef();\n\t\tthis._itemsScroll = React.createRef();\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\torderBook,\n\t\t\tbaseToken,\n\t\t\tquoteToken,\n\t\t\tabsoluteSpread,\n\t\t\tpercentageSpread,\n\t\t\tcurrencyPair,\n\t\t\ttotalQuoteBuyOrders,\n\t\t\ttotalBaseSellOrders,\n\t\t\tserverState,\n\t\t\tt,\n\t\t} = this.props;\n\t\tconst { sellOrders, buyOrders, mySizeOrders } = orderBook;\n\n\t\tconst mySizeSellArray = mySizeOrders.filter((order) => {\n\t\t\treturn order.side === OrderSide.Sell;\n\t\t});\n\t\tconst mySizeBuyArray = mySizeOrders.filter((order) => {\n\t\t\treturn order.side === OrderSide.Buy;\n\t\t});\n\t\tconst getColor = (order) => {\n\t\t\treturn order.side === OrderSide.Buy ? \"success\" : \"danger\";\n\t\t};\n\t\tlet content;\n\n\t\tif (!baseToken || !quoteToken || serverState === ServerState.NotLoaded) {\n\t\t\tcontent = (\n\t\t\t\t<div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n\t\t\t\t\t<Loading\n\t\t\t\t\t\twidth={40}\n\t\t\t\t\t\theight={40}\n\t\t\t\t\t\tid={`orderbooks-${this.props.isMobile ? \"mobile\" : \"desktop\"}`}\n\t\t\t\t\t\tactive\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else if ((!buyOrders.length && !sellOrders.length) || !baseToken || !quoteToken) {\n\t\t\tcontent = (\n\t\t\t\t<div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n\t\t\t\t\t<EmptyText>{t(\"errors.noTrade\")}</EmptyText>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\tconst spreadAbsFixed = absoluteSpread.toFixed(currencyPair.config.pricePrecision);\n\t\t\tconst spreadPercentFixed = percentageSpread.toFixed(UI_DECIMALS_DISPLAYED_SPREAD_PERCENT);\n\t\t\tconst basePrecision = currencyPair.config.basePrecision;\n\n\t\t\tconst totalBase = tokenAmountInUnits(totalBaseSellOrders, baseToken.decimals, basePrecision);\n\n\t\t\tconst totalQuote = tokenAmountInUnits(totalQuoteBuyOrders, quoteToken.decimals, 2);\n\n\t\t\tconst baseSymbol = formatTokenSymbol(baseToken.symbol);\n\t\t\tconst quoteSymbol = formatTokenSymbol(quoteToken.symbol);\n\n\t\t\tconst handleDepth = (value) => {\n\t\t\t\tthis.setState({ depth: { value: Number(value) } });\n\t\t\t};\n\n\t\t\tconst bookOptionState = this.state.bookOption;\n\t\t\tconst handleBookOption = (option) => {\n\t\t\t\tthis.setState({ bookOption: option });\n\t\t\t};\n\n\t\t\tcontent = (\n\t\t\t\t<>\n\t\t\t\t\t<HeaderRow className=\"d-flex align-items-center justify-content-between\">\n\t\t\t\t\t\t<div className={\"d-flex align-items-center\"}>\n\t\t\t\t\t\t\t<StyledBookOption\n\t\t\t\t\t\t\t\tactive={bookOptionState === BookOptionType.BuySellBook}\n\t\t\t\t\t\t\t\tonChange={() => handleBookOption(BookOptionType.BuySellBook)}\n\t\t\t\t\t\t\t\tisSell={true}\n\t\t\t\t\t\t\t\tisBuy\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<StyledBookOption\n\t\t\t\t\t\t\t\tactive={bookOptionState === BookOptionType.BuyBook}\n\t\t\t\t\t\t\t\tonChange={() => handleBookOption(BookOptionType.BuyBook)}\n\t\t\t\t\t\t\t\tisBuy\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<StyledBookOption\n\t\t\t\t\t\t\t\tactive={bookOptionState === BookOptionType.SellBook}\n\t\t\t\t\t\t\t\tonChange={() => handleBookOption(BookOptionType.SellBook)}\n\t\t\t\t\t\t\t\tisSell\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\n\t\t\t\t\t\t\t<Dropdown size={\"sm\"} items={depthItems} placeholder={t(\"depth\")} onChange={handleDepth} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</HeaderRow>\n\t\t\t\t\t<TitleRow className=\"d-flex align-items-xl-center justify-content-between\">\n\t\t\t\t\t\t<Title>{t(\"asks\")}</Title>\n\t\t\t\t\t\t<Result>{`${t(\"total\")}: ${totalBase} ${baseSymbol}`}</Result>\n\t\t\t\t\t</TitleRow>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<CustomHead>\n\t\t\t\t\t\t\t<TH>{t(\"tradeSize\")}</TH>\n\t\t\t\t\t\t\t<TH>\n\t\t\t\t\t\t\t\t{t(\"price\")} ({formatTokenSymbol(quoteToken.symbol)})\n\t\t\t\t\t\t\t</TH>\n\t\t\t\t\t\t\t<TH>{t(\"mySize\")}</TH>\n\t\t\t\t\t\t</CustomHead>\n\t\t\t\t\t\t<TBody>\n\t\t\t\t\t\t\t{(bookOptionState === BookOptionType.BuySellBook ||\n\t\t\t\t\t\t\t\tbookOptionState === BookOptionType.SellBook) &&\n\t\t\t\t\t\t\t\tsellOrders\n\t\t\t\t\t\t\t\t\t.slice(sellOrders.length - this.state.depth.value, sellOrders.length)\n\t\t\t\t\t\t\t\t\t.map((order, index) => (\n\t\t\t\t\t\t\t\t\t\t<OrderToRowContainer\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\torder={order}\n\t\t\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\t\t\tcount={sellOrders.length}\n\t\t\t\t\t\t\t\t\t\t\torders={sellOrders}\n\t\t\t\t\t\t\t\t\t\t\tbaseToken={baseToken}\n\t\t\t\t\t\t\t\t\t\t\tpriceColor={getColor(order)}\n\t\t\t\t\t\t\t\t\t\t\tmySizeOrders={mySizeSellArray}\n\t\t\t\t\t\t\t\t\t\t\tcurrencyPair={currencyPair}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t))}\n\n\t\t\t\t\t\t\t<SpreadTR>\n\t\t\t\t\t\t\t\t<SpreadTitle>{t(\"spread\")}</SpreadTitle>\n\t\t\t\t\t\t\t\t<SpreadTitle>{spreadAbsFixed}</SpreadTitle>\n\t\t\t\t\t\t\t\t<SpreadTitle>{spreadPercentFixed}%</SpreadTitle>\n\t\t\t\t\t\t\t</SpreadTR>\n\n\t\t\t\t\t\t\t{(bookOptionState === BookOptionType.BuyBook ||\n\t\t\t\t\t\t\t\tbookOptionState === BookOptionType.BuySellBook) &&\n\t\t\t\t\t\t\t\tbuyOrders\n\t\t\t\t\t\t\t\t\t.slice(0, this.state.depth.value)\n\t\t\t\t\t\t\t\t\t.map((order, index) => (\n\t\t\t\t\t\t\t\t\t\t<OrderToRowContainer\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\torder={order}\n\t\t\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\t\t\tcount={buyOrders.length}\n\t\t\t\t\t\t\t\t\t\t\torders={buyOrders}\n\t\t\t\t\t\t\t\t\t\t\tbaseToken={baseToken}\n\t\t\t\t\t\t\t\t\t\t\tpriceColor={getColor(order)}\n\t\t\t\t\t\t\t\t\t\t\tmySizeOrders={mySizeBuyArray}\n\t\t\t\t\t\t\t\t\t\t\tcurrencyPair={currencyPair}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TBody>\n\n\t\t\t\t\t\t<CustomHead>\n\t\t\t\t\t\t\t<SpreadTitle>{t(\"bids\")}</SpreadTitle>\n\t\t\t\t\t\t\t<SpreadTitle>{`${totalQuote} ${quoteSymbol}`}</SpreadTitle>\n\t\t\t\t\t\t\t<SpreadTitle> </SpreadTitle>\n\t\t\t\t\t\t</CustomHead>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\n\t\treturn <Container>{content}</Container>;\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tbaseToken: state.spot.baseToken,\n\t\tcurrencyPair: state.spot.currencyPair,\n\t\tquoteToken: state.spot.quoteToken,\n\t\tuserOrders: state.relayer.userOrders,\n\t\torderBookState: state.relayer.orderBookState,\n\t\torderBook: getOrderBook(state),\n\t\tabsoluteSpread: getSpread(state),\n\t\tpercentageSpread: getSpreadInPercentage(state),\n\t\ttotalQuoteBuyOrders: getTotalQuoteBuyOrders(state),\n\t\ttotalBaseSellOrders: getTotalBaseSellOrders(state),\n\t\tserverState: getOrderbookState(state),\n\t};\n};\n\nexport default connect(mapStateToProps)(withTranslation()(Orderbook));\n","import { UI_DECIMALS_DISPLAYED_ORDER_SIZE } from \"../../constants\";\n\nexport const padRightSplitted = (numBg, decimals = UI_DECIMALS_DISPLAYED_ORDER_SIZE) => {\n\tconst numBgToFixed = numBg.toFixed(decimals);\n\tconst numBgToString = numBg.toString();\n\n\tconst decimalPlaces = (numBgToString.split(\".\")[1] || []).length;\n\n\tlet diff = \"\";\n\tlet num = numBgToFixed;\n\tif (!numBg.isZero() && decimalPlaces < decimals) {\n\t\tdiff = numBgToFixed.replace(numBgToString, \"\");\n\t\tnum = numBgToString;\n\t}\n\n\treturn {\n\t\tnum,\n\t\tdiff,\n\t};\n};\n\nexport const truncateAddress = (address) => {\n\treturn `${address.slice(0, 7)}...${address.slice(address.length - 5)}`;\n};\n","import { withRouter } from \"react-router-dom\";\nimport { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n\tupdateERC20Markets,\n\tupdateERC20Store,\n\tupdateMarketPriceEther,\n\tupdateMarketPriceQuote,\n\tupdateMarketPriceTokens,\n} from \"../../../../state/spot/actions\";\nimport withWeb3Account from \"../../../../components/hoc/withWeb3Account\";\nimport {\n\tUI_UPDATE_CHECK_INTERVAL,\n\tUPDATE_ERC20_MARKETS,\n\tUPDATE_ETHER_PRICE_INTERVAL,\n\tUPDATE_TOKENS_PRICE_INTERVAL,\n} from \"../../../../constants\";\nimport Web3 from \"web3\";\n\nconst web3 = new Web3(Web3.givenProvider || new Web3.providers.HttpProvider(process.env.REACT_APP_NETWORK_URL));\n\nclass Provider extends Component {\n\t_deactivatePollingUpdates = () => {\n\t\tif (this._updateStoreInterval) {\n\t\t\tclearInterval(this._updateStoreInterval);\n\t\t\tthis._updateStoreInterval = undefined;\n\t\t}\n\n\t\tif (this._updatePriceEtherInterval) {\n\t\t\tclearInterval(this._updatePriceEtherInterval);\n\t\t\tthis._updatePriceEtherInterval = undefined;\n\t\t}\n\t\tif (this._updatePriceTokensInterval) {\n\t\t\tclearInterval(this._updatePriceTokensInterval);\n\t\t\tthis._updatePriceTokensInterval = undefined;\n\t\t}\n\t\tif (this._updateERC20MarketsInterval) {\n\t\t\tclearInterval(this._updateERC20MarketsInterval);\n\t\t\tthis._updateERC20MarketsInterval = undefined;\n\t\t}\n\t};\n\n\t_activatePollingUpdates = () => {\n\t\tthis.props.onUpdateERC20Markets();\n\t\tthis.props.onUpdateMarketPriceTokens();\n\t\tthis.props.onUpdateMarketPriceEther();\n\t\tthis.props.onUpdateMarketPriceQuote();\n\t\tif (this.props.web3.account) {\n\t\t\tthis.props.onUpdateERC20Store(this.props.web3.account, web3.currentProvider || window.ethereum);\n\t\t}\n\t\t// Enables realtime updates of the store using polling\n\t\tif (UI_UPDATE_CHECK_INTERVAL !== 0 && !this._updateStoreInterval) {\n\t\t\tthis._updateStoreInterval = window.setInterval(async () => {\n\t\t\t\tif (this.props.web3.account) {\n\t\t\t\t\tthis.props.onUpdateERC20Store(this.props.web3.account, web3.currentProvider || window.ethereum);\n\t\t\t\t\tthis.props.onUpdateMarketPriceQuote();\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tisActiveCheckUpdates: true,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}, UI_UPDATE_CHECK_INTERVAL);\n\t\t}\n\n\t\t// Enables realtime updates of the price ether and quote token using polling\n\t\tif (!this._updatePriceEtherInterval && UPDATE_ETHER_PRICE_INTERVAL !== 0) {\n\t\t\tthis._updatePriceEtherInterval = window.setInterval(async () => {\n\t\t\t\tthis.props.onUpdateMarketPriceEther();\n\t\t\t\tthis.props.onUpdateMarketPriceQuote();\n\t\t\t}, UPDATE_ETHER_PRICE_INTERVAL);\n\t\t}\n\t\t// Enables realtime updates of token prices\n\t\tif (!this._updatePriceTokensInterval && UPDATE_TOKENS_PRICE_INTERVAL !== 0) {\n\t\t\tthis._updatePriceTokensInterval = window.setInterval(async () => {\n\t\t\t\tthis.props.onUpdateMarketPriceTokens();\n\t\t\t}, UPDATE_TOKENS_PRICE_INTERVAL);\n\t\t}\n\t\t// Enables realtime updates of the token markets\n\t\tif (!this._updateERC20MarketsInterval && UPDATE_ERC20_MARKETS !== 0) {\n\t\t\tthis._updateERC20MarketsInterval = window.setInterval(async () => {\n\t\t\t\tthis.props.onUpdateERC20Markets();\n\t\t\t}, UPDATE_ERC20_MARKETS);\n\t\t}\n\t};\n\n\tcomponentDidMount() {\n\t\tif (this.props.web3.account) {\n\t\t\tthis._activatePollingUpdates();\n\t\t} else {\n\t\t\tthis.props.onUpdateERC20Markets();\n\t\t\tthis.props.onUpdateMarketPriceTokens();\n\t\t\tthis.props.onUpdateMarketPriceEther();\n\t\t\tthis.props.onUpdateMarketPriceQuote();\n\t\t\tthis.props.onUpdateERC20Store(\"\", undefined);\n\t\t\tthis._deactivatePollingUpdates();\n\t\t}\n\t}\n\n\tcomponentWillUnmount = () => {\n\t\tclearInterval(this._updateStoreInterval);\n\t\tclearInterval(this._updatePriceEtherInterval);\n\t\tclearInterval(this._updatePriceTokensInterval);\n\t\tclearInterval(this._updateERC20MarketsInterval);\n\t};\n\n\trender = () => this.props.children;\n}\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tonUpdateMarketPriceEther: () => dispatch(updateMarketPriceEther()),\n\t\tonUpdateMarketPriceQuote: () => dispatch(updateMarketPriceQuote()),\n\t\tonUpdateMarketPriceTokens: () => dispatch(updateMarketPriceTokens()),\n\t\tonUpdateERC20Markets: () => dispatch(updateERC20Markets()),\n\t\tonUpdateERC20Store: (account, library) => dispatch(updateERC20Store(account, library)),\n\t};\n};\n\nexport default withRouter(connect(null, mapDispatchToProps)(withWeb3Account(Provider)));\n","import { connect } from \"react-redux\";\n\nimport { OrderSide, ServerState, USE_RELAYER_MARKET_UPDATES } from \"../../../../constants\";\nimport { changeMarket } from \"../../../../state/spot/actions\";\nimport { isWeth } from \"../../../../utils/known_tokens\";\nimport { getCurrencyPairByTokensSymbol } from \"../../../../utils/spot/knownCurrencyPair\";\nimport { marketToStringFromTokens } from \"../../../../utils/spot/market\";\nimport { formatTokenSymbol, tokenAmountInUnits } from \"../../../../utils/spot/tokens\";\nimport Loading from \"../../../../components/Loading\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { lighten } from \"polished\";\nimport { useTranslation } from \"react-i18next\";\n\nconst EmptyText = styled.span`\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tcolor: ${({ theme }) => theme.text1};\n`;\nconst Container = styled.div`\n\twidth: 280px;\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t@media (max-width: 1400px) {\n\t\twidth: 100%;\n\t}\n`;\n\nconst TR = styled.div`\n\tpadding: 4px 16px;\n\tborder-radius: 12px;\n\tmargin-bottom: 4px;\n\tmax-height: 24px;\n\theight: 24px;\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 1fr 1fr;\n\n\t@media (max-width: 1400px) {\n\t\tmax-height: 56px;\n\t\tpadding: 18px 20px;\n\t\tborder-radius: 18px;\n\t\theight: 56px;\n\t}\n`;\nconst CustomHead = styled(TR)`\n\tbackground-color: ${({ theme }) => theme.text1}10;\n\tmax-height: 32px;\n\theight: 32px;\n\tmargin-bottom: 12px;\n\tpadding: 8px 16px;\n`;\n\nconst TH = styled.span`\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n`;\n\nconst TD = styled.span`\n\tcolor: ${({ theme, variant }) => (variant ? theme[variant] : theme.text1)};\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n\tpadding-right: 5px;\n`;\n\nconst TBody = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex: 1;\n\tmax-height: 338px;\n\tmin-height: 338px;\n\toverflow-x: hidden;\n\toverflow-y: auto;\n\n\t@media (max-width: 1400px) {\n\t\tmax-height: initial;\n\t}\n\n\t/* width */\n\t::-webkit-scrollbar {\n\t\twidth: 3px;\n\t}\n\n\t/* Track */\n\t::-webkit-scrollbar-track {\n\t\tbox-shadow: none;\n\t\tbackground-color: transparent;\n\t\tborder-radius: 10px;\n\t\tpadding: 0 6px;\n\t\tmargin: 0 6px;\n\t\tborder-right: 1px solid ${({ theme }) => theme.text1};\n\t}\n\n\t/* Handle */\n\t::-webkit-scrollbar-thumb {\n\t\tbackground: ${({ theme }) => theme.text1};\n\t\tborder-radius: 10px;\n\t\twidth: 4px !important;\n\t}\n\n\t/* Handle on hover */\n\t::-webkit-scrollbar-thumb:hover {\n\t\tbackground: ${({ theme }) => lighten(0.08, theme.text1)};\n\t}\n`;\n\nconst TableContainer = styled.div`\n\tpadding-top: 77px;\n\tpadding-left: 8px;\n\n\t@media (max-width: 1400px) {\n\t\tpadding: 0;\n\t}\n`;\n\nconst fillToRow = (fill, index) => {\n\tlet amountBase;\n\tUSE_RELAYER_MARKET_UPDATES\n\t\t? (amountBase = fill.amountBase.toFixed(fill.tokenBase.displayDecimals))\n\t\t: (amountBase = tokenAmountInUnits(fill.amountBase, fill.tokenBase.decimals, fill.tokenBase.displayDecimals));\n\n\tconst displayAmountBase = `${amountBase}`;\n\tlet currencyPair;\n\ttry {\n\t\tcurrencyPair = getCurrencyPairByTokensSymbol(fill.tokenBase.symbol, fill.tokenQuote.symbol);\n\t} catch {\n\t\treturn null;\n\t}\n\tconst price = parseFloat(fill.price.toString()).toFixed(currencyPair.config.pricePrecision);\n\n\treturn (\n\t\t<TR key={index}>\n\t\t\t<TD variant={fill.side === OrderSide.Buy ? \"success\" : \"danger\"}>{price}</TD>\n\t\t\t<TD>{displayAmountBase}</TD>\n\t\t\t<TD>{fill.timestamp.toISOString().slice(-13, -5)}</TD>\n\t\t</TR>\n\t);\n};\nconst MarketFills = (props) => {\n\tlet content;\n\tconst { t } = useTranslation();\n\tconst { marketFills, baseToken, quoteToken, marketFillsState } = props;\n\n\tif (!baseToken || !quoteToken || marketFillsState === ServerState.NotLoaded) {\n\t\tcontent = (\n\t\t\t<div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n\t\t\t\t<Loading width={40} height={40} id={`market-fills-${props.isMobile ? \"mobile\" : \"desktop\"}`} active />\n\t\t\t</div>\n\t\t);\n\t} else if (\n\t\t!Object.keys(marketFills).length ||\n\t\t!baseToken ||\n\t\t!quoteToken ||\n\t\t!marketFills[marketToStringFromTokens(baseToken, quoteToken)]\n\t) {\n\t\tcontent = (\n\t\t\t<div className={\"d-flex flex-column\"}>\n\t\t\t\t<div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n\t\t\t\t\t<EmptyText>{t(\"errors.noTrade\")}</EmptyText>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t} else {\n\t\tconst market = marketToStringFromTokens(baseToken, quoteToken);\n\t\tconst tokenQuoteSymbol = isWeth(quoteToken.symbol) ? \"ETH\" : quoteToken.symbol.toUpperCase();\n\t\tconst tokenBaseSymbol = isWeth(baseToken.symbol) ? \"ETH\" : baseToken.symbol.toUpperCase();\n\n\t\tcontent = (\n\t\t\t<TableContainer className=\"d-flex flex-column\">\n\t\t\t\t<CustomHead>\n\t\t\t\t\t<TH>\n\t\t\t\t\t\t{t(\"price\")} ({tokenQuoteSymbol})\n\t\t\t\t\t</TH>\n\t\t\t\t\t<TH>{t(\"amount\")}</TH>\n\t\t\t\t\t<TH>{t(\"time\")}</TH>\n\t\t\t\t</CustomHead>\n\t\t\t\t<TBody>{marketFills[market].map((marketFill, index) => fillToRow(marketFill, index))}</TBody>\n\t\t\t</TableContainer>\n\t\t);\n\t}\n\treturn <Container>{content}</Container>;\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tbaseToken: state.spot.baseToken,\n\t\tmarketFills: state.spotUI.marketFills,\n\t\tquoteToken: state.spot.quoteToken,\n\t\tmarketFillsState: state.relayer.marketFillsState,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tchangeMarket: (currencyPair) => dispatch(changeMarket(currencyPair)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MarketFills);\n","import { connect } from \"react-redux\";\nimport styled from \"styled-components\";\nimport React from \"react\";\nimport { OrderStatus } from \"@0x/types\";\nimport { lighten } from \"polished\";\n\nimport { isWeth } from \"../../../../utils/known_tokens\";\nimport { tokenAmountInUnits } from \"../../../../utils/spot/tokens\";\nimport { OrderSide } from \"../../../../constants\";\nimport { getCurrencyPairFromTokens } from \"../../../../utils/spot/knownCurrencyPair\";\nimport Loading from \"../../../../components/Loading\";\nimport { ResponsiveCard } from \"../../../../components/Card\";\nimport { cancelOrder } from \"../../../../state/relayer/actions\";\nimport { CloseIcon } from \"../../../../theme\";\nimport { RowBetween } from \"../../../../components/Row\";\nimport { useActiveWeb3React } from \"../../../../hooks\";\nimport { useTranslation } from \"react-i18next\";\n\nconst Card = styled(ResponsiveCard)`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: stretch;\n\tmargin-bottom: 10px;\n\tmin-height: 385px;\n\n\t& .card-body {\n\t\tpadding: 20px 30px 30px;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t@media (min-width: 1400px) {\n\t\twidth: 570px;\n\t\theight: 385px;\n\n\t\t& .card-body {\n\t\t\tpadding: 15px;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t}\n\t}\n`;\n\nconst CardTitle = styled.h4`\n\tmargin-top: 5px;\n\tpadding: 0;\n\tmargin-bottom: 10px;\n\tfont-size: 0.875rem;\n\tfont-weight: 700;\n\tcolor: ${({ theme }) => theme.text1};\n`;\n\nconst Content = styled.div`\n\tbackground-color: ${({ theme }) => theme.bg3};\n\tborder-radius: 18px;\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex: 1;\n\tmax-height: 323px;\n\toverflow: hidden;\n`;\n\nconst InnerContent = styled.div`\n\twidth: 100%;\n\theight: 100%;\n\tmax-height: 100%;\n\toverflow-x: hidden;\n\toverflow-y: auto;\n\tflex: 1;\n\tpadding: 12px;\n\n\t@media (max-width: 1400px) {\n\t\tpadding: 20px;\n\t}\n\n\t/* width */\n\t::-webkit-scrollbar {\n\t\twidth: 3px;\n\t}\n\n\t/* Track */\n\t::-webkit-scrollbar-track {\n\t\tbox-shadow: none;\n\t\tbackground-color: transparent;\n\t\tborder-radius: 10px;\n\t\tpadding: 0 6px;\n\t\tmargin: 0 6px;\n\t\tborder-right: 1px solid ${({ theme }) => theme.text1};\n\t}\n\n\t/* Handle */\n\t::-webkit-scrollbar-thumb {\n\t\tbackground: ${({ theme }) => theme.text1};\n\t\tborder-radius: 10px;\n\t\twidth: 4px !important;\n\t}\n\n\t/* Handle on hover */\n\t::-webkit-scrollbar-thumb:hover {\n\t\tbackground: ${({ theme }) => lighten(0.08, theme.text1)};\n\t}\n`;\n\nconst EmptyText = styled.span`\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tcolor: ${({ theme }) => theme.text1};\n`;\n\nconst TR = styled.div`\n\tpadding: 4px 16px;\n\tborder-radius: 12px;\n\tmargin-bottom: 10px;\n\tmax-height: 24px;\n\theight: 24px;\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 1fr 1fr 1fr 1fr;\n`;\nconst CustomHead = styled(TR)`\n\tbackground-color: ${({ theme }) => theme.text1}10;\n\tmax-height: 40px;\n\theight: 40px;\n\tpadding: 12px 16px;\n\tmargin-bottom: 12px;\n`;\n\nconst TH = styled.span`\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n`;\n\nconst TD = styled.span`\n\tcolor: ${({ theme, variant }) => (variant ? theme[variant] : theme.text1)};\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tpadding-right: 5px;\n`;\n\nconst TBody = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex: 1;\n\n\t/* width */\n\t::-webkit-scrollbar {\n\t\twidth: 3px;\n\t}\n\n\t/* Track */\n\t::-webkit-scrollbar-track {\n\t\tbox-shadow: none;\n\t\tbackground-color: transparent;\n\t\tborder-radius: 10px;\n\t\tpadding: 0 6px;\n\t\tmargin: 0 6px;\n\t\tborder-right: 1px solid ${({ theme }) => theme.text1};\n\t}\n\n\t/* Handle */\n\t::-webkit-scrollbar-thumb {\n\t\tbackground: ${({ theme }) => theme.text1};\n\t\tborder-radius: 10px;\n\t\twidth: 4px !important;\n\t}\n\n\t/* Handle on hover */\n\t::-webkit-scrollbar-thumb:hover {\n\t\tbackground: ${({ theme }) => lighten(0.08, theme.text1)};\n\t}\n`;\n\nconst Close = styled(CloseIcon)`\n\twidth: 16px;\n\theight: 16px;\n`;\n\nconst orderToRow = (order, index, baseToken, quoteToken, cancelOrder) => {\n\tconst sideLabel = order.side === OrderSide.Sell ? \"Sell\" : \"Buy\";\n\tconst size = tokenAmountInUnits(order.size, baseToken.decimals, baseToken.displayDecimals);\n\tlet status = \"--\";\n\tlet isOrderFillable = false;\n\n\tconst filled = order.filled\n\t\t? tokenAmountInUnits(order.filled, baseToken.decimals, baseToken.displayDecimals)\n\t\t: null;\n\tif (order.status) {\n\t\tisOrderFillable = order.status === OrderStatus.Fillable;\n\t\tstatus = isOrderFillable ? \"Open\" : \"Filled\";\n\t}\n\tconst currencyPair = getCurrencyPairFromTokens(baseToken, quoteToken);\n\tconst price = parseFloat(order.price.toString()).toFixed(currencyPair.config.pricePrecision);\n\n\treturn (\n\t\t<TR key={index}>\n\t\t\t<TD variant={order.side === OrderSide.Buy ? \"success\" : \"danger\"}>{sideLabel}</TD>\n\t\t\t<TD>{size}</TD>\n\t\t\t<TD>{filled}</TD>\n\t\t\t<TD>{price}</TD>\n\t\t\t<TD>\n\t\t\t\t<div className=\"d-flex align-items-center justify-content-between\">\n\t\t\t\t\t<span>{status}</span>\n\n\t\t\t\t\t<Close onClick={cancelOrder.bind(this, order)} />\n\t\t\t\t</div>\n\t\t\t</TD>\n\t\t</TR>\n\t);\n};\n\nconst OrderHistory = (props) => {\n\tconst { account } = useActiveWeb3React();\n\tconst { t } = useTranslation();\n\tconst { orders, baseToken, quoteToken } = props;\n\tconst ordersToShow = orders.filter((order) => order.status === OrderStatus.Fillable);\n\n\tlet content;\n\n\tif (!baseToken || !quoteToken) {\n\t\tcontent = (\n\t\t\t<div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n\t\t\t\t<Loading width={40} height={40} id={`order-history-${props.isMobile ? \"mobile\" : \"desktop\"}`} active />\n\t\t\t</div>\n\t\t);\n\t} else if (!ordersToShow.length || !baseToken || !quoteToken || !account) {\n\t\tcontent = (\n\t\t\t<div className=\"w-100 h-100 d-flex align-items-center justify-content-xl-center\">\n\t\t\t\t<EmptyText>{t(\"errors.noTrade\")}</EmptyText>\n\t\t\t</div>\n\t\t);\n\t} else {\n\t\tconst tokenQuoteSymbol = isWeth(quoteToken.symbol) ? \"ETH\" : quoteToken.symbol.toUpperCase();\n\t\tconst tokenBaseSymbol = isWeth(baseToken.symbol) ? \"ETH\" : baseToken.symbol.toUpperCase();\n\n\t\tcontent = (\n\t\t\t<div className=\"d-flex flex-column\">\n\t\t\t\t<CustomHead>\n\t\t\t\t\t<TH>{t(\"side\")}</TH>\n\t\t\t\t\t<TH>\n\t\t\t\t\t\t{t(\"size\")} ({tokenBaseSymbol})\n\t\t\t\t\t</TH>\n\t\t\t\t\t<TH>\n\t\t\t\t\t\t{t(\"filled\")} ({tokenBaseSymbol})\n\t\t\t\t\t</TH>\n\t\t\t\t\t<TH>\n\t\t\t\t\t\t{t(\"price\")} ({tokenQuoteSymbol})\n\t\t\t\t\t</TH>\n\t\t\t\t\t<TH>{t(\"status\")}</TH>\n\t\t\t\t</CustomHead>\n\t\t\t\t<TBody>\n\t\t\t\t\t{ordersToShow.map((order, index) =>\n\t\t\t\t\t\torderToRow(order, index, baseToken, quoteToken, props.onCancelOrder)\n\t\t\t\t\t)}\n\t\t\t\t</TBody>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Card>\n\t\t\t<CardTitle>{t(\"openOrders\")}</CardTitle>\n\t\t\t<Content>\n\t\t\t\t<InnerContent>{content}</InnerContent>\n\t\t\t</Content>\n\t\t</Card>\n\t);\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tbaseToken: state.spot.baseToken,\n\t\torders: state.relayer.userOrders,\n\t\tquoteToken: state.spot.quoteToken,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tonCancelOrder: (order) => dispatch(cancelOrder(order)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(OrderHistory);\n","import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\n\nimport { RowBetween } from \"../Row\";\nimport { Input as NumericalInput } from \"../NumericalInput\";\nimport { tokenAmountInUnits, unitsInTokenAmount } from \"../../utils/spot/tokens\";\nimport { ZERO } from \"../../constants\";\nimport { ETHER, Token } from \"@uniswap/sdk\";\nimport { useCurrencyBalance } from \"../../state/wallet/hooks\";\nimport { useActiveWeb3React } from \"../../hooks\";\n\nconst InputRow = styled.div`\n\t${({ theme }) => theme.flexRowNoWrap};\n\talign-items: center;\n\n\tpadding: 0.625rem 0 0;\n\n\t@media (min-width: 768px) {\n\t\tpadding-top: 0.75rem;\n\t}\n`;\n\nconst Container = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin-bottom: 34px;\n\n\t@media (min-width: 768px) {\n\t\tmargin-bottom: 15px;\n\t}\n`;\n\nconst Label = styled.span`\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tpadding: 0;\n\n\t@media (min-width: 768px) {\n\t\tpadding: 0 1rem;\n\t\tfont-weight: 700;\n\t}\n`;\n\nconst InputContainer = styled.div`\n\tposition: relative;\n\tdisplay: flex;\n\talign-items: center;\n\tflex-wrap: nowrap;\n\tflex: 1;\n`;\n\nconst LabelRow = styled.div`\n\t${({ theme }) => theme.flexRowNoWrap};\n\talign-items: center;\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-size: 0.75rem;\n\tline-height: 1rem;\n\tpadding: 0;\n`;\n\nconst Aligner = styled.span`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\t@media (min-width: 768px) {\n\t\tjustify-content: space-between;\n\t}\n`;\n\nconst InputPanel = styled.div`\n\t${({ theme }) => theme.flexColumnNoWrap};\n\tposition: relative;\n\tborder-radius: 0.42rem;\n`;\n\nconst StyledTokenName = styled.span`\n\tfont-size: 0.875rem;\n\tfont-weight: 500;\n\n\t@media (min-width: 768px) {\n\t\tfont-size: 1rem;\n\t\tmargin-right: auto;\n\t}\n`;\n\nconst CurrencySelect = styled.button`\n\talign-items: center;\n\theight: 48px;\n\tfont-size: 0.875rem;\n\tfont-weight: 500;\n\tbackground-color: ${({ theme }) => theme.bg3};\n\tcolor: ${({ theme }) => theme.text1};\n\tborder-bottom-left-radius: 18px;\n\tborder-top-left-radius: 18px;\n\tbox-shadow: none;\n\toutline: none;\n\tcursor: pointer;\n\tuser-select: none;\n\tborder: none;\n\tpadding: 0.875rem 0.625rem;\n\tmin-width: 116px;\n\twidth: 116px;\n\ttext-align: center;\n\n\t@media (min-width: 768px) {\n\t\tmin-width: 90px;\n\t\twidth: 90px;\n\t\tpadding: 0.625rem 1rem;\n\t\tfont-size: 1rem;\n\t\tfont-weight: 700;\n\t\ttext-align: left;\n\t}\n\n\t:focus,\n\t:hover {\n\t\tbackground-color: ${({ theme }) => theme.bg1};\n\t\toutline: none;\n\t}\n`;\n\nlet BalanceRow = styled.div`\n\t${({ theme }) => theme.flexRowNoWrap};\n\talign-items: center;\n\tmargin-top: 10px;\n\tcolor: ${({ theme }) => theme.text1};\n\topacity: 0.5;\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n\tline-height: 1rem;\n\tpadding: 0;\n\n\t@media (min-width: 768px) {\n\t\tpadding: 0 1rem;\n\t}\n`;\n\nexport default class SpotInputPanel extends React.Component {\n\tstate = {\n\t\tvalueStr: this.props.value\n\t\t\t? tokenAmountInUnits(this.props.value, this.props.decimals, this.props.valueFixedDecimals)\n\t\t\t: \"\",\n\t};\n\n\t_updateValue = (value) => {\n\t\tconst newValue = unitsInTokenAmount(value || \"0\", this.props.decimals);\n\t\tconst invalidValue = this.props.min && newValue.isLessThan(this.props.min);\n\t\tif (invalidValue) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.props.onUserInput(newValue);\n\t\tthis.setState({\n\t\t\tvalueStr: value,\n\t\t});\n\t};\n\n\tstatic getDerivedStateFromProps = (props, state) => {\n\t\tconst { decimals, value, valueFixedDecimals } = props;\n\t\tconst { valueStr } = state;\n\n\t\tif (!value) {\n\t\t\treturn {\n\t\t\t\tvalueStr: \"\",\n\t\t\t};\n\t\t} else if (value && !unitsInTokenAmount(valueStr || \"0\", decimals).eq(value)) {\n\t\t\treturn {\n\t\t\t\tvalueStr: tokenAmountInUnits(value, decimals, valueFixedDecimals),\n\t\t\t};\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tlabel = \"Input\",\n\t\t\tdisable = false,\n\t\t\tselected,\n\t\t\thideInput = false,\n\t\t\tid,\n\t\t\tshowBalance = true,\n\t\t\tbalanceText,\n\t\t} = this.props;\n\t\tconst { valueStr } = this.state;\n\n\t\treturn (\n\t\t\t<InputPanel id={id}>\n\t\t\t\t<Container>\n\t\t\t\t\t{!hideInput && (\n\t\t\t\t\t\t<LabelRow>\n\t\t\t\t\t\t\t<RowBetween>\n\t\t\t\t\t\t\t\t<Label>{label}</Label>\n\t\t\t\t\t\t\t</RowBetween>\n\t\t\t\t\t\t</LabelRow>\n\t\t\t\t\t)}\n\t\t\t\t\t<InputRow style={hideInput ? { padding: \"0\", borderRadius: \"0.42rem\" } : {}} selected={disable}>\n\t\t\t\t\t\t<CurrencySelect selected={!!selected} className=\"open-currency-select-button\">\n\t\t\t\t\t\t\t<Aligner>\n\t\t\t\t\t\t\t\t<StyledTokenName className=\"token-symbol-container\" active={Boolean(selected)}>\n\t\t\t\t\t\t\t\t\t{(selected && selected?.length > 20\n\t\t\t\t\t\t\t\t\t\t? (\n\t\t\t\t\t\t\t\t\t\t\t\tselected?.slice(0, 4) +\n\t\t\t\t\t\t\t\t\t\t\t\t\"...\" +\n\t\t\t\t\t\t\t\t\t\t\t\tselected?.slice(selected?.length - 5, selected?.length)\n\t\t\t\t\t\t\t\t\t\t  ).toUpperCase()\n\t\t\t\t\t\t\t\t\t\t: selected.toUpperCase()) || `Select`}\n\t\t\t\t\t\t\t\t</StyledTokenName>\n\t\t\t\t\t\t\t</Aligner>\n\t\t\t\t\t\t</CurrencySelect>\n\n\t\t\t\t\t\t{!hideInput && (\n\t\t\t\t\t\t\t<InputContainer>\n\t\t\t\t\t\t\t\t<NumericalInput\n\t\t\t\t\t\t\t\t\tsize={\"sm\"}\n\t\t\t\t\t\t\t\t\tclassName=\"token-amount-input pl-3 \"\n\t\t\t\t\t\t\t\t\tvalue={valueStr}\n\t\t\t\t\t\t\t\t\tonUserInput={this._updateValue}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</InputContainer>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</InputRow>\n\t\t\t\t\t{selected && showBalance && <BalanceRow>{balanceText()}</BalanceRow>}\n\t\t\t\t</Container>\n\t\t\t</InputPanel>\n\t\t);\n\t}\n}\n","import { BigNumber, NULL_BYTES } from \"@0x/utils\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport styled from \"styled-components\";\n\nimport { OrderSide, ZERO } from \"../../constants\";\nimport { fetchTakerAndMakerFee } from \"../../state/relayer/actions\";\nimport { getOpenBuyOrders, getOpenSellOrders, getQuoteInUsd } from \"../../state/selectors\";\nimport { getKnownTokens } from \"../../utils/known_tokens\";\nimport { formatTokenSymbol, tokenAmountInUnits, unitsInTokenAmount } from \"../../utils/spot/tokens\";\nimport { toUnitAmount } from \"../../lib/helper\";\nimport { buildMarketOrders, sumTakerAssetFillableOrders } from \"../../utils/spot/orders\";\nimport withWeb3Account from \"../hoc/withWeb3Account\";\nimport { withTranslation } from \"react-i18next\";\n\nconst Row = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\n\t&:not(:last-child) {\n\t\tmargin-bottom: 30px;\n\t}\n`;\n\nconst Text = styled.span`\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n\tcolor: ${({ theme }) => theme.text1};\n\n\t@media (min-width: 768px) {\n\t\tpadding-left: 1rem;\n\t\tfont-size: 0.875rem;\n\t\tfont-weight: 700;\n\t}\n`;\n\nconst OrderType = {\n\tLimit: \"Limit\",\n\tMarket: \"Market\",\n};\n\nclass OrderDetails extends React.Component {\n\tstate = {\n\t\tmakerFeeAmount: ZERO,\n\t\ttakerFeeAmount: ZERO,\n\t\tmakerFeeAssetData: NULL_BYTES,\n\t\ttakerFeeAssetData: NULL_BYTES,\n\t\tquoteTokenAmount: ZERO,\n\t\tcanOrderBeFilled: true,\n\t};\n\n\tcomponentDidUpdate = async (prevProps) => {\n\t\tconst newProps = this.props;\n\t\tif (\n\t\t\tnewProps.tokenPrice !== prevProps.tokenPrice ||\n\t\t\tnewProps.orderType !== prevProps.orderType ||\n\t\t\tnewProps.tokenAmount !== prevProps.tokenAmount ||\n\t\t\tnewProps.currencyPair !== prevProps.currencyPair ||\n\t\t\tnewProps.orderSide !== prevProps.orderSide\n\t\t) {\n\t\t\tawait this._updateOrderDetailsState();\n\t\t}\n\t};\n\n\t_updateOrderDetailsState = async () => {\n\t\tconst { currencyPair, orderType, orderSide } = this.props;\n\t\tif (!currencyPair) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (orderType === OrderType.Limit) {\n\t\t\tconst { tokenAmount, tokenPrice, onFetchTakerAndMakerFee, web3 } = this.props;\n\t\t\tconst { quote, base } = currencyPair;\n\t\t\tconst quoteToken = getKnownTokens().getTokenBySymbol(quote);\n\t\t\tconst baseToken = getKnownTokens().getTokenBySymbol(base);\n\t\t\t// TODO: Check if this precision is enough, price was giving error on precision\n\t\t\tconst priceInQuoteBaseUnits = unitsInTokenAmount(tokenPrice.toString(), quoteToken.decimals);\n\t\t\tconst baseTokenAmountInUnits = toUnitAmount(tokenAmount, baseToken.decimals);\n\t\t\tconst quoteTokenAmount = baseTokenAmountInUnits.multipliedBy(priceInQuoteBaseUnits);\n\t\t\tconst { makerFee, makerFeeAssetData, takerFee, takerFeeAssetData } = await onFetchTakerAndMakerFee(\n\t\t\t\ttokenAmount,\n\t\t\t\ttokenPrice,\n\t\t\t\torderSide,\n\t\t\t\tweb3.account,\n\t\t\t\twindow.ethereum || web3.library\n\t\t\t);\n\t\t\tthis.setState({\n\t\t\t\tmakerFeeAmount: makerFee,\n\t\t\t\tmakerFeeAssetData,\n\t\t\t\ttakerFeeAmount: takerFee,\n\t\t\t\ttakerFeeAssetData,\n\t\t\t\tquoteTokenAmount,\n\t\t\t});\n\t\t} else {\n\t\t\tconst { tokenAmount, openSellOrders, openBuyOrders } = this.props;\n\t\t\tconst isSell = orderSide === OrderSide.Sell;\n\t\t\tconst [ordersToFill, amountToPayForEachOrder, canOrderBeFilled] = buildMarketOrders(\n\t\t\t\t{\n\t\t\t\t\tamount: tokenAmount,\n\t\t\t\t\torders: isSell ? openBuyOrders : openSellOrders,\n\t\t\t\t},\n\t\t\t\torderSide\n\t\t\t);\n\t\t\t// HACK(dekz): we assume takerFeeAssetData is either empty or is consistent through all orders\n\t\t\tconst firstOrderWithFees = ordersToFill.find((o) => o.takerFeeAssetData !== NULL_BYTES);\n\t\t\tconst takerFeeAssetData = firstOrderWithFees ? firstOrderWithFees.takerFeeAssetData : NULL_BYTES;\n\t\t\tconst takerFeeAmount = ordersToFill.reduce((sum, order) => sum.plus(order.takerFee), ZERO);\n\t\t\tconst quoteTokenAmount = sumTakerAssetFillableOrders(orderSide, ordersToFill, amountToPayForEachOrder);\n\n\t\t\tthis.setState({\n\t\t\t\ttakerFeeAmount,\n\t\t\t\ttakerFeeAssetData,\n\t\t\t\tquoteTokenAmount,\n\t\t\t\tcanOrderBeFilled,\n\t\t\t});\n\t\t}\n\t};\n\n\t_getCostStringForRender = () => {\n\t\tconst { canOrderBeFilled } = this.state;\n\t\tconst { orderType } = this.props;\n\t\tif (orderType === OrderType.Market && !canOrderBeFilled) {\n\t\t\treturn `---`;\n\t\t}\n\n\t\tconst { quote } = this.props.currencyPair;\n\t\tconst quoteToken = getKnownTokens().getTokenBySymbol(quote);\n\t\tconst { quoteTokenAmount } = this.state;\n\t\t//  const quoteTokenAmountUnits = tokenAmountInUnits(quoteTokenAmount, quoteToken.decimals);\n\t\tconst costAmount = tokenAmountInUnits(quoteTokenAmount, quoteToken.decimals, quoteToken.displayDecimals);\n\t\treturn `${costAmount} ${formatTokenSymbol(quote)}`;\n\t};\n\n\t_getMedianPriceStringForRender = () => {\n\t\tconst { canOrderBeFilled } = this.state;\n\t\tconst { orderType } = this.props;\n\t\tconst { tokenAmount } = this.props;\n\t\tif (orderType === OrderType.Market && !canOrderBeFilled) {\n\t\t\treturn `---`;\n\t\t}\n\t\tif (tokenAmount.eq(0)) {\n\t\t\treturn `---`;\n\t\t}\n\t\tconst { quote, base, config } = this.props.currencyPair;\n\t\tconst { quoteTokenAmount } = this.state;\n\t\tconst quoteToken = getKnownTokens().getTokenBySymbol(quote);\n\t\tconst baseToken = getKnownTokens().getTokenBySymbol(base);\n\t\tconst quoteTokenAmountUnits = new BigNumber(tokenAmountInUnits(quoteTokenAmount, quoteToken.decimals, 18));\n\t\tconst baseTokenAmountUnits = new BigNumber(tokenAmountInUnits(tokenAmount, baseToken.decimals, 18));\n\t\tconst priceDisplay = quoteTokenAmountUnits.div(baseTokenAmountUnits).toFormat(config.pricePrecision + 1);\n\t\treturn `${priceDisplay} ${formatTokenSymbol(quote)}`;\n\t};\n\n\t_getCostLabelStringForRender = () => {\n\t\tconst { qouteInUSD, orderSide, t } = this.props;\n\t\tif (qouteInUSD) {\n\t\t\treturn orderSide === OrderSide.Sell ? t(\"total\") : t(\"cost\");\n\t\t} else {\n\t\t\treturn orderSide === OrderSide.Sell ? t(\"total\") : t(\"cost\");\n\t\t}\n\t};\n\n\tcomponentDidMount = async () => {\n\t\tawait this._updateOrderDetailsState();\n\t};\n\n\trender = () => {\n\t\t// const fee = this._getFeeStringForRender();\n\t\tconst cost = this._getCostStringForRender();\n\t\tconst costText = this._getCostLabelStringForRender();\n\t\tconst priceMedianText = this._getMedianPriceStringForRender();\n\t\tconst { orderType, t } = this.props;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Row>\n\t\t\t\t\t<Text>{costText}</Text>\n\t\t\t\t\t<Text>{cost}</Text>\n\t\t\t\t</Row>\n\t\t\t\t{orderType === OrderType.Market && (\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Text>{t(\"medianPrice\")}:</Text>\n\t\t\t\t\t\t<Text>{priceMedianText}</Text>\n\t\t\t\t\t</Row>\n\t\t\t\t)}\n\t\t\t</>\n\t\t);\n\t};\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\topenSellOrders: getOpenSellOrders(state),\n\t\topenBuyOrders: getOpenBuyOrders(state),\n\t\tqouteInUSD: getQuoteInUsd(state),\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tonFetchTakerAndMakerFee: (amount, price, side, account, library) =>\n\t\t\tdispatch(fetchTakerAndMakerFee(amount, price, side, account, library)),\n\t};\n};\nexport default withWeb3Account(connect(mapStateToProps, mapDispatchToProps)(withTranslation(OrderDetails)));\n","import { connect } from \"react-redux\";\nimport { BigNumber } from \"@0x/utils\";\nimport { Component } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport styled from \"styled-components\";\n\nimport { ZERO, IS_ORDER_LIMIT_MATCHING, OrderSide } from \"../../../../constants\";\nimport {\n\tstartBuySellLimitMatchingSteps,\n\tstartBuySellLimitSteps,\n\tstartBuySellMarketSteps,\n} from \"../../../../state/spotUI/actions\";\nimport { fetchTakerAndMakerFee } from \"../../../../state/relayer/actions\";\nimport { isWeth, getKnownTokens } from \"../../../../utils/known_tokens\";\nimport {\n\tformatTokenSymbol,\n\ttokenAmountInUnits,\n\ttokenAmountInUnitsToBigNumber,\n\tunitsInTokenAmount,\n} from \"../../../../utils/spot/tokens\";\nimport {\n\tgetCurrencyPair,\n\tgetMakerAmountSelected,\n\tgetOpenBuyOrders,\n\tgetOpenSellOrders,\n\tgetOrderPriceSelected,\n} from \"../../../../state/selectors\";\nimport { ResponsiveCard } from \"../../../../components/Card\";\nimport SpotInputPanel from \"../../../../components/SpotInputPanel\";\nimport OrderDetailsContainer from \"../../../../components/OrderDetailsContainer\";\nimport withBalance from \"../../../../components/hoc/withBalance\";\nimport withWeb3Account from \"../../../../components/hoc/withWeb3Account\";\nimport { withTranslation } from \"react-i18next\";\n\nconst Card = styled(ResponsiveCard)`\n\tmargin-bottom: 20px;\n\n\t& .card-body {\n\t\tpadding: 30px;\n\t}\n\n\t@media (min-width: 1400px) {\n\t\twidth: 580px;\n\t\theight: 385px;\n\t\tmargin-bottom: 10px;\n\n\t\t& .card-body {\n\t\t\tpadding: 20px;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t}\n\t}\n`;\n\nconst QuoteContainer = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin-bottom: -5px;\n\n\t@media (max-width: 1400px) {\n\t\tpadding-top: 0;\n\t\tmargin-bottom: -24px;\n\t}\n`;\n\nconst TabsContainer = styled.div`\n\tmargin-left: -20px;\n\tmargin-right: -20px;\n\tmargin-bottom: 10px;\n\n\t@media (max-width: 1400px) {\n\t\tflex-direction: column-reverse;\n\t\talign-items: stretch !important;\n\t\tmargin-bottom: 45px;\n\t}\n`;\n\nconst TabWrapper = styled.div`\n\tpadding: 0 20px;\n\tflex: 1;\n\n\t@media (max-width: 1400px) {\n\t\t&:not(:first-child) {\n\t\t\tmargin-bottom: 10px;\n\t\t}\n\t}\n`;\n\nconst Tab = styled(Button)`\n\theight: 48px;\n\tfont-size: 1rem;\n\tfont-weight: 500;\n\twidth: 100%;\n`;\n\nconst Content = styled.div`\n\tflex: 1;\n\tposition: relative;\n`;\n\nconst DetailsContainer = styled.div`\n\tmargin-bottom: auto;\n`;\n\nconst MarketType = styled.div`\n\tposition: absolute;\n\ttop: -14px;\n\tright: 0;\n\tz-index: 2;\n`;\n\nconst MarketButton = styled.button`\n\t:disabled {\n\t\tcolor: ${({ theme }) => theme.text1};\n\t\topacity: 1;\n\t}\n`;\n\nconst OrderType = {\n\tLimit: \"Limit\",\n\tMarket: \"Market\",\n};\n\nconst TIMEOUT_BTN_ERROR = 2000;\nconst TIMEOUT_CARD_ERROR = 4000;\n\nclass BuySell extends Component {\n\tstate = {\n\t\tmakerAmount: null,\n\t\tprice: null,\n\t\torderType: OrderType.Limit,\n\t\ttab: OrderSide.Buy,\n\t\terror: {\n\t\t\tbtnMsg: null,\n\t\t\tcardMsg: null,\n\t\t},\n\t};\n\n\tcomponentDidUpdate = async (prevProps) => {\n\t\tconst newProps = this.props;\n\t\tif (newProps.orderPriceSelected !== prevProps.orderPriceSelected && this.state.orderType === OrderType.Limit) {\n\t\t\tthis.setState({\n\t\t\t\tprice: newProps.orderPriceSelected,\n\t\t\t});\n\t\t}\n\n\t\tif (\n\t\t\tnewProps.makerAmountSelected !== prevProps.makerAmountSelected &&\n\t\t\tthis.state.orderType === OrderType.Market\n\t\t) {\n\t\t\tthis.setState({\n\t\t\t\tmakerAmount: newProps.makerAmountSelected,\n\t\t\t});\n\t\t}\n\t};\n\n\tchangeTab = (tab) => () => this.setState({ tab });\n\n\tupdateMakerAmount = (newValue) => {\n\t\tthis.setState({\n\t\t\tmakerAmount: newValue,\n\t\t});\n\t};\n\n\tgetAmountAvailableLabel = () => {\n\t\tconst { baseTokenBalance, quoteTokenBalance, totalEthBalance } = this.props;\n\t\tconst { tab } = this.state;\n\t\tif (tab === OrderSide.Sell) {\n\t\t\tif (baseTokenBalance) {\n\t\t\t\tconst tokenBalanceAmount = isWeth(baseTokenBalance.token.symbol)\n\t\t\t\t\t? totalEthBalance\n\t\t\t\t\t: baseTokenBalance.balance;\n\t\t\t\tconst baseBalanceString = tokenAmountInUnits(\n\t\t\t\t\ttokenBalanceAmount,\n\t\t\t\t\tbaseTokenBalance.token.decimals,\n\t\t\t\t\tbaseTokenBalance.token.displayDecimals\n\t\t\t\t);\n\t\t\t\tconst symbol = formatTokenSymbol(baseTokenBalance.token?.symbol);\n\t\t\t\treturn `Available: ${baseBalanceString}  ${symbol}`;\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t} else {\n\t\t\tif (quoteTokenBalance) {\n\t\t\t\tconst tokenBalanceAmount = isWeth(quoteTokenBalance.token?.symbol)\n\t\t\t\t\t? totalEthBalance\n\t\t\t\t\t: quoteTokenBalance.balance;\n\t\t\t\tconst quoteBalanceString = tokenAmountInUnits(\n\t\t\t\t\ttokenBalanceAmount,\n\t\t\t\t\tquoteTokenBalance.token?.decimals,\n\t\t\t\t\tquoteTokenBalance.token?.displayDecimals\n\t\t\t\t);\n\t\t\t\tconst symbol = formatTokenSymbol(quoteTokenBalance.token?.symbol);\n\t\t\t\treturn `Available: ${quoteBalanceString}  ${symbol}`;\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t};\n\n\tupdatePrice = (price) => {\n\t\tthis.setState({ price });\n\t};\n\n\tsubmit = async () => {\n\t\tif (!this.props.web3.account) {\n\t\t\tthis.props.toggleWalletModal();\n\t\t\treturn false;\n\t\t}\n\t\tconst { currencyPair, tokensBalance, wethBalance, ethBalance, web3 } = this.props;\n\t\tconst minAmount = currencyPair.config.minAmount;\n\t\tconst decimals = getKnownTokens().getTokenBySymbol(currencyPair.base).decimals;\n\t\tconst minAmountUnits = unitsInTokenAmount(String(minAmount), decimals);\n\n\t\tconst orderSide = this.state.tab;\n\t\tconst makerAmount = this.state.makerAmount || minAmountUnits;\n\t\tconst price = this.state.price || new BigNumber(0);\n\n\t\tconst orderFeeData = await this.props.onFetchTakerAndMakerFee(\n\t\t\tmakerAmount,\n\t\t\tprice,\n\t\t\tthis.state.tab,\n\t\t\tweb3.account,\n\t\t\twindow.ethereum || web3.library\n\t\t);\n\n\t\tif (this.state.orderType === OrderType.Limit) {\n\t\t\tif (IS_ORDER_LIMIT_MATCHING) {\n\t\t\t\tconst result = await this.props.onSubmitLimitOrderMatching(\n\t\t\t\t\tmakerAmount,\n\t\t\t\t\tprice,\n\t\t\t\t\torderSide,\n\t\t\t\t\torderFeeData,\n\t\t\t\t\ttokensBalance,\n\t\t\t\t\twethBalance,\n\t\t\t\t\tethBalance\n\t\t\t\t);\n\t\t\t\tif (result === 0) {\n\t\t\t\t\tawait this.props.onSubmitLimitOrder(\n\t\t\t\t\t\tmakerAmount,\n\t\t\t\t\t\tprice,\n\t\t\t\t\t\torderSide,\n\t\t\t\t\t\torderFeeData,\n\t\t\t\t\t\ttokensBalance,\n\t\t\t\t\t\twethBalance\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tawait this.props.onSubmitLimitOrder(\n\t\t\t\t\tmakerAmount,\n\t\t\t\t\tprice,\n\t\t\t\t\torderSide,\n\t\t\t\t\torderFeeData,\n\t\t\t\t\ttokensBalance,\n\t\t\t\t\twethBalance\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tawait this.props.onSubmitMarketOrder(\n\t\t\t\t\tmakerAmount,\n\t\t\t\t\torderSide,\n\t\t\t\t\ttokensBalance,\n\t\t\t\t\twethBalance,\n\t\t\t\t\tethBalance.balance\n\t\t\t\t);\n\t\t\t} catch (error) {\n\t\t\t\tthis.setState(\n\t\t\t\t\t{\n\t\t\t\t\t\terror: {\n\t\t\t\t\t\t\tbtnMsg: \"Error\",\n\t\t\t\t\t\t\tcardMsg: error.message,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t() => {\n\t\t\t\t\t\t// After a timeout both error message and button gets cleared\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\terror: {\n\t\t\t\t\t\t\t\t\t...this.state.error,\n\t\t\t\t\t\t\t\t\tbtnMsg: null,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, TIMEOUT_BTN_ERROR);\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\terror: {\n\t\t\t\t\t\t\t\t\t...this.state.error,\n\t\t\t\t\t\t\t\t\tcardMsg: null,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, TIMEOUT_CARD_ERROR);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tthis._reset();\n\t};\n\n\t_reset = () => {\n\t\tthis.setState({\n\t\t\tmakerAmount: null,\n\t\t});\n\t};\n\n\t_switchToMarket = () => {\n\t\tthis.setState({\n\t\t\torderType: OrderType.Market,\n\t\t});\n\t};\n\n\t_switchToLimit = () => {\n\t\tthis.setState({\n\t\t\torderType: OrderType.Limit,\n\t\t});\n\t};\n\n\t_getCostLabelStringForRender = () => {\n\t\tconst { qouteInUSD, orderSide } = this.props;\n\t\tif (qouteInUSD) {\n\t\t\treturn orderSide === OrderSide.Sell ? \"Total\" : \"Cost\";\n\t\t} else {\n\t\t\treturn orderSide === OrderSide.Sell ? \"Total\" : \"Cost\";\n\t\t}\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tcurrencyPair,\n\t\t\tquoteTokenBalance,\n\t\t\tbaseTokenBalance,\n\t\t\ttotalEthBalance,\n\t\t\tbaseToken,\n\t\t\tquoteToken,\n\t\t\tt,\n\t\t} = this.props;\n\t\tconst { makerAmount, price, tab, orderType, error } = this.state;\n\n\t\tconst buySellInnerTabs = [\n\t\t\t{\n\t\t\t\tactive: orderType === OrderType.Limit,\n\t\t\t\tonClick: this._switchToLimit,\n\t\t\t\ttext: t(\"limit\"),\n\t\t\t},\n\t\t\t{\n\t\t\t\tactive: orderType === OrderType.Market,\n\t\t\t\tonClick: this._switchToMarket,\n\t\t\t\ttext: t(\"market\"),\n\t\t\t},\n\t\t];\n\t\tconst decimals = getKnownTokens().getTokenBySymbol(currencyPair.base).decimals;\n\t\tconst quoteDecimals = getKnownTokens().getTokenBySymbol(currencyPair.quote).decimals;\n\t\t// Configs\n\t\tconst pricePrecision = currencyPair.config.pricePrecision;\n\t\tconst minAmount = currencyPair.config.minAmount;\n\t\tconst minAmountUnits = unitsInTokenAmount(String(currencyPair.config.minAmount), decimals);\n\n\t\tconst basePrecision = currencyPair.config.basePrecision;\n\t\tconst isWethQuote = quoteTokenBalance && isWeth(quoteTokenBalance.token?.symbol);\n\t\tconst isWethBase = baseTokenBalance && isWeth(baseTokenBalance.token?.symbol);\n\n\t\tconst quoteUnits = isWethQuote\n\t\t\t? tokenAmountInUnitsToBigNumber(totalEthBalance || ZERO, 18)\n\t\t\t: tokenAmountInUnitsToBigNumber((quoteTokenBalance && quoteTokenBalance.balance) || ZERO, quoteDecimals);\n\n\t\tconst baseBalance = isWethBase ? totalEthBalance : (baseTokenBalance && baseTokenBalance.balance) || ZERO;\n\n\t\tconst amount = makerAmount || minAmountUnits;\n\t\tconst makerAmountUnits = tokenAmountInUnitsToBigNumber(amount, decimals);\n\t\tconst isMakerAmountEmpty = amount === null || amount.isZero();\n\t\tconst isMakerAmountMin = amount === null || amount.isLessThan(minAmountUnits);\n\n\t\tconst isPriceEmpty = price === null || price.isZero();\n\t\tconst isPriceMin =\n\t\t\tprice === null || price.isLessThan(new BigNumber(1).div(new BigNumber(10).pow(pricePrecision)));\n\t\tconst isOrderTypeLimitIsEmpty =\n\t\t\torderType === OrderType.Limit && (isMakerAmountEmpty || isPriceEmpty || isPriceMin);\n\t\tconst isBuy = tab === OrderSide.Buy;\n\t\tconst isOrderTypeLimitOverflow =\n\t\t\t(orderType === OrderType.Limit && isBuy && makerAmountUnits.multipliedBy(price || ZERO).gt(quoteUnits)) ||\n\t\t\t(!isBuy && amount.gt(baseBalance));\n\n\t\tconst isOrderTypeMarketIsEmpty = orderType === OrderType.Market && (isMakerAmountEmpty || isMakerAmountMin);\n\t\tconst baseSymbol = formatTokenSymbol(currencyPair.base);\n\t\tconst btnPrefix = tab === OrderSide.Buy ? `${t(\"orderSide.buy\")} ` : `${t(\"orderSide.sell\")} `;\n\t\tconst btnText = error && error.btnMsg ? \"Error\" : btnPrefix + baseSymbol;\n\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<TabsContainer className=\"d-flex align-items-center justify-content-between\">\n\t\t\t\t\t<TabWrapper>\n\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\tvariant={tab === OrderSide.Buy ? \"secondary-light\" : \"light-secondary-light\"}\n\t\t\t\t\t\t\tonClick={this.changeTab(OrderSide.Buy)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(\"orderSide.buy\")}\n\t\t\t\t\t\t</Tab>\n\t\t\t\t\t</TabWrapper>\n\t\t\t\t\t<TabWrapper>\n\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\tvariant={tab === OrderSide.Sell ? \"secondary-light\" : \"light-secondary-light\"}\n\t\t\t\t\t\t\tonClick={this.changeTab(OrderSide.Sell)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(\"orderSide.sell\")}\n\t\t\t\t\t\t</Tab>\n\t\t\t\t\t</TabWrapper>\n\t\t\t\t</TabsContainer>\n\t\t\t\t<Content>\n\t\t\t\t\t<MarketType>\n\t\t\t\t\t\t{buySellInnerTabs.map((tab, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<MarketButton\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-link px-0\"\n\t\t\t\t\t\t\t\t\t\tdisabled={tab.active}\n\t\t\t\t\t\t\t\t\t\tonClick={tab.onClick}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{tab.text}\n\t\t\t\t\t\t\t\t\t</MarketButton>\n\t\t\t\t\t\t\t\t\t{index < buySellInnerTabs.length - 1 && <span className={\"px-2\"}>/</span>}\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</MarketType>\n\t\t\t\t\t<SpotInputPanel\n\t\t\t\t\t\ttoken={baseToken}\n\t\t\t\t\t\tdecimals={decimals}\n\t\t\t\t\t\tvalue={amount}\n\t\t\t\t\t\tonUserInput={this.updateMakerAmount}\n\t\t\t\t\t\tselected={currencyPair.base}\n\t\t\t\t\t\tvalueFixedDecimals={basePrecision}\n\t\t\t\t\t\tlabel={`Amount (Min: ${minAmount})`}\n\t\t\t\t\t\tbalanceText={this.getAmountAvailableLabel}\n\t\t\t\t\t\tshowBalance={true}\n\t\t\t\t\t\tmin={minAmountUnits}\n\t\t\t\t\t/>\n\t\t\t\t\t{orderType === OrderType.Limit && (\n\t\t\t\t\t\t<QuoteContainer>\n\t\t\t\t\t\t\t<SpotInputPanel\n\t\t\t\t\t\t\t\ttoken={quoteToken}\n\t\t\t\t\t\t\t\tdecimals={0}\n\t\t\t\t\t\t\t\tmin={ZERO}\n\t\t\t\t\t\t\t\tvalue={price}\n\t\t\t\t\t\t\t\tonUserInput={this.updatePrice}\n\t\t\t\t\t\t\t\tselected={currencyPair.quote}\n\t\t\t\t\t\t\t\tvalueFixedDecimals={pricePrecision}\n\t\t\t\t\t\t\t\tlabel={t(\"pricePerToken\")}\n\t\t\t\t\t\t\t\tshowBalance={false}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</QuoteContainer>\n\t\t\t\t\t)}\n\t\t\t\t\t<DetailsContainer className=\"d-flex flex-column\">\n\t\t\t\t\t\t<OrderDetailsContainer\n\t\t\t\t\t\t\torderType={orderType}\n\t\t\t\t\t\t\torderSide={tab}\n\t\t\t\t\t\t\ttokenAmount={amount}\n\t\t\t\t\t\t\ttokenPrice={price || new BigNumber(1).div(new BigNumber(10).pow(pricePrecision))}\n\t\t\t\t\t\t\tcurrencyPair={currencyPair}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</DetailsContainer>\n\t\t\t\t\t<div className=\"d-flex flex-column align-items-xl-center align-items-stretch justify-content-center mt-auto\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\tthis.props.web3.account &&\n\t\t\t\t\t\t\t\t(isOrderTypeLimitIsEmpty || isOrderTypeMarketIsEmpty || isOrderTypeLimitOverflow)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonClick={this.submit}\n\t\t\t\t\t\t\tvariant={\"primary\"}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tminWidth: 250,\n\t\t\t\t\t\t\t\theight: 56,\n\t\t\t\t\t\t\t\tmarginTop: 10,\n\t\t\t\t\t\t\t\tfontSize: 20,\n\t\t\t\t\t\t\t\tfontWeight: 700,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{!this.props.web3.account ? t(\"wallet.connect\") : btnText}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</Content>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tbaseToken: state.spot.baseToken,\n\t\tquoteToken: state.spot.quoteToken,\n\t\tcurrencyPair: getCurrencyPair(state),\n\t\torderPriceSelected: getOrderPriceSelected(state),\n\t\tmakerAmountSelected: getMakerAmountSelected(state),\n\t\topenSellOrders: getOpenSellOrders(state),\n\t\topenBuyOrders: getOpenBuyOrders(state),\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tonSubmitLimitOrder: (amount, price, side, orderFeeData, tokensBalance, wethBalance) =>\n\t\t\tdispatch(startBuySellLimitSteps(amount, price, side, orderFeeData, tokensBalance, wethBalance)),\n\t\tonSubmitLimitOrderMatching: (amount, price, side, orderFeeData, tokensBalance, wethBalance, ethBalance) =>\n\t\t\tdispatch(\n\t\t\t\tstartBuySellLimitMatchingSteps(\n\t\t\t\t\tamount,\n\t\t\t\t\tprice,\n\t\t\t\t\tside,\n\t\t\t\t\torderFeeData,\n\t\t\t\t\ttokensBalance,\n\t\t\t\t\twethBalance,\n\t\t\t\t\tethBalance\n\t\t\t\t)\n\t\t\t),\n\t\tonSubmitMarketOrder: (amount, side, tokensBalance, wethBalance, ethBalance) =>\n\t\t\tdispatch(startBuySellMarketSteps(amount, side, tokensBalance, wethBalance, ethBalance)),\n\t\tonFetchTakerAndMakerFee: (amount, price, side, account, library) =>\n\t\t\tdispatch(fetchTakerAndMakerFee(amount, price, side, account, library)),\n\t};\n};\n\nexport default withBalance(connect(mapStateToProps, mapDispatchToProps)(withTranslation()(withWeb3Account(BuySell))));\n","import { ConfirmationPendingContent } from \"../../../../../components/TransactionConfirmationModal\";\nimport React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { useActiveWeb3React } from \"../../../../../hooks\";\nimport { createSignedOrder } from \"../../../../../state/spotUI/actions\";\nimport { getStepsModalCurrentStep } from \"../../../../../state/selectors\";\nimport { submitLimitOrder } from \"../../../../../state/relayer/actions\";\nimport Web3 from \"web3\";\n\nconst web3 = new Web3(Web3.givenProvider || new Web3.providers.HttpProvider(process.env.REACT_APP_NETWORK_URL));\n\nconst SignOrderStepContainer = (props) => {\n\tconst { account, library } = useActiveWeb3React();\n\tconst { step } = props;\n\tconst { amount, price, side } = step;\n\n\tconst submitOrder = async () => {\n\t\ttry {\n\t\t\tconst signedOrder = await props.createSignedOrder(\n\t\t\t\tamount,\n\t\t\t\tprice,\n\t\t\t\tside,\n\t\t\t\taccount,\n\t\t\t\tweb3.currentProvider || window.ethereum,\n\t\t\t\tlibrary\n\t\t\t);\n\t\t\tawait props.submitLimitOrder(signedOrder, amount, side);\n\n\t\t\tprops.onDone();\n\t\t} catch (e) {\n\t\t\tprops.onDismiss();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tsubmitOrder();\n\t}, [step, account]);\n\n\treturn <ConfirmationPendingContent onDismiss={props.onDismiss} pendingText={\"Waiting for confirmation\"} />;\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tstep: getStepsModalCurrentStep(state),\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tsubmitLimitOrder: (signedOrder, amount, side, account, library) =>\n\t\t\tdispatch(submitLimitOrder(signedOrder, amount, side, account, library)),\n\t\tcreateSignedOrder: (amount, price, side, account, web3, library) =>\n\t\t\tdispatch(createSignedOrder(amount, price, side, account, web3, library)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignOrderStepContainer);\n","import { ConfirmationPendingContent } from \"../../../../../components/TransactionConfirmationModal\";\nimport React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { useActiveWeb3React } from \"../../../../../hooks\";\nimport { getCurrencyPair, getQuoteToken, getStepsModalCurrentStep } from \"../../../../../state/selectors\";\nimport { getOrderbookAndUserOrders, submitLimitMatchingOrder } from \"../../../../../state/relayer/actions\";\nimport Web3 from \"web3\";\n\nconst web3 = new Web3(Web3.givenProvider || new Web3.providers.HttpProvider(process.env.REACT_APP_NETWORK_URL));\n\nconst BuySellTokenMatchingStepContainer = (props) => {\n\tconst { account, library } = useActiveWeb3React();\n\tconst { step, onSubmitLimitMatchingOrder } = props;\n\tconst { amount, side, price } = step;\n\n\tconst submitOrder = async () => {\n\t\ttry {\n\t\t\tconst { txHash, amountInReturn } = await onSubmitLimitMatchingOrder(\n\t\t\t\tamount,\n\t\t\t\tprice,\n\t\t\t\tside,\n\t\t\t\taccount,\n\t\t\t\tweb3.currentProvider || window.ethereum\n\t\t\t);\n\t\t\tprops.onDone(txHash);\n\t\t\tprops.refreshOrders();\n\t\t} catch (e) {\n\t\t\tprops.onDismiss();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tsubmitOrder();\n\t}, [step, account]);\n\n\treturn <ConfirmationPendingContent onDismiss={props.onDismiss} pendingText={\"Waiting for confirmation\"} />;\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tstep: getStepsModalCurrentStep(state),\n\t\tcurrencyPair: getCurrencyPair(state),\n\t\tquoteToken: getQuoteToken(state),\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tonSubmitLimitMatchingOrder: (amount, price, side, account, library) =>\n\t\t\tdispatch(submitLimitMatchingOrder(amount, price, side, account, library)),\n\t\trefreshOrders: (account, library) => dispatch(getOrderbookAndUserOrders(account, library)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BuySellTokenMatchingStepContainer);\n","import { ConfirmationPendingContent } from \"../../../../../components/TransactionConfirmationModal\";\nimport React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { useActiveWeb3React } from \"../../../../../hooks\";\nimport { getCurrencyPair, getQuoteToken, getStepsModalCurrentStep } from \"../../../../../state/selectors\";\nimport { getOrderbookAndUserOrders, submitMarketOrder } from \"../../../../../state/relayer/actions\";\nimport Web3 from \"web3\";\n\nconst web3 = new Web3(Web3.givenProvider || new Web3.providers.HttpProvider(process.env.REACT_APP_NETWORK_URL));\n\nconst BuySellTokenMatchingStepContainer = (props) => {\n\tconst { account, library } = useActiveWeb3React();\n\tconst { step, onSubmitMarketOrder } = props;\n\tconst { amount, side, context } = step;\n\n\tconst submitOrder = async () => {\n\t\ttry {\n\t\t\tif (context === \"order\") {\n\t\t\t\tconst { txHash, amountInReturn } = await onSubmitMarketOrder(\n\t\t\t\t\tamount,\n\t\t\t\t\tside,\n\t\t\t\t\taccount,\n\t\t\t\t\tweb3.currentProvider || window.ethereum\n\t\t\t\t);\n\t\t\t\tprops.onDone(txHash);\n\t\t\t\tprops.refreshOrders();\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tprops.onDismiss();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tsubmitOrder();\n\t}, [step, account]);\n\n\treturn <ConfirmationPendingContent onDismiss={props.onDismiss} pendingText={\"Waiting for confirmation\"} />;\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tstep: getStepsModalCurrentStep(state),\n\t\tcurrencyPair: getCurrencyPair(state),\n\t\tquoteToken: getQuoteToken(state),\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tonSubmitMarketOrder: (amount, side, account, library) =>\n\t\t\tdispatch(submitMarketOrder(amount, side, account, library)),\n\t\trefreshOrders: (account, library) => dispatch(getOrderbookAndUserOrders(account, library)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BuySellTokenMatchingStepContainer);\n","import { Modal } from \"../../../../components/Modal/bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { getStepsModalCurrentStep } from \"../../../../state/selectors\";\nimport { setStepsModalCurrentStep } from \"../../../../state/spotUI/actions\";\nimport { CHAIN_ID, StepKind } from \"../../../../constants\";\n\nimport UnlockToken from \"../../../Borrow/ModalProvider/modals/UnlockToken\";\nimport SignOrderStepContainer from \"./modals/SignOrderStepContainer\";\nimport BuySellTokenMatchingStepContainer from \"./modals/BuySellTokenMatchingStepContainer\";\nimport BuySellTokenStepContainer from \"./modals/BuySellTokenStepContainer\";\nimport React, { useState } from \"react\";\nimport { TransactionSubmittedContent } from \"../../../../components/TransactionConfirmationModal\";\n\nconst ModalProvider = (props) => {\n\tconst [submitted, setSubmitted] = useState(false);\n\tconst [txHash, setTxHash] = useState(null);\n\tconst currentStep = useSelector(getStepsModalCurrentStep);\n\tconst dispatch = useDispatch();\n\tconst isOpen = currentStep !== null;\n\n\tconst hideModal = () => {\n\t\tsetSubmitted(false);\n\t\tsetTxHash(null);\n\t\tdispatch(setStepsModalCurrentStep(null));\n\t};\n\n\tconst onDone = (tx) => {\n\t\tsetSubmitted(true);\n\t\tsetTxHash(tx);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{props.children}\n\t\t\t<Modal show={isOpen} centered onHide={hideModal}>\n\t\t\t\t<Modal.Body className={\"px-0 py-0\"}>\n\t\t\t\t\t{!submitted ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{currentStep && currentStep.kind === StepKind.ToggleTokenLock && (\n\t\t\t\t\t\t\t\t<UnlockToken onDismiss={hideModal} />\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{currentStep && currentStep.kind === StepKind.BuySellLimit && (\n\t\t\t\t\t\t\t\t<SignOrderStepContainer onDismiss={hideModal} onDone={onDone} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{currentStep && currentStep.kind === StepKind.BuySellLimitMatching && (\n\t\t\t\t\t\t\t\t<BuySellTokenMatchingStepContainer onDismiss={hideModal} onDone={onDone} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{currentStep && currentStep.kind === StepKind.BuySellMarket && (\n\t\t\t\t\t\t\t\t<BuySellTokenStepContainer onDismiss={hideModal} onDone={onDone} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<TransactionSubmittedContent chainId={CHAIN_ID} hash={txHash} onDismiss={hideModal} />\n\t\t\t\t\t)}\n\t\t\t\t</Modal.Body>\n\t\t\t</Modal>\n\t\t</>\n\t);\n};\n\nexport default ModalProvider;\n","import TradingViewWidget, { Themes } from \"react-tradingview-widget\";\nimport { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\n\nimport Page from \"../../components/Page\";\nimport CheckBalance from \"../../components/CheckBalance\";\nimport StyledCard, { ResponsiveCard } from \"../../components/Card\";\nimport marketTokens from \"../../constants/marketTokens.json\";\nimport MarketStats from \"./components/MarketStats\";\nimport MarketDetails from \"./components/MarketDetails\";\nimport Orderbook from \"./components/Orderbook\";\nimport Provider from \"./components/Provider\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport MarketFills from \"./components/MarketFills\";\nimport OrderHistory from \"./components/OrderHistory\";\nimport BuySell from \"./components/BuySell\";\nimport ModalProvider from \"./components/BuySell/ModalProvider\";\nimport { updateGasInfo } from \"../../state/currency/actions\";\n\nconst Row = styled.div`\n\tdisplay: ${({ justMobile }) => (justMobile ? \"none\" : \"flex\")};\n\tmargin-left: -5px;\n\tmargin-right: -5px;\n\n\t@media (max-width: 1400px) {\n\t\tflex-direction: column;\n\t\tdisplay: ${({ justDesktop }) => (justDesktop ? \"none\" : \"flex\")};\n\t}\n`;\nconst Col = styled.div`\n\tpadding: 0 5px;\n\tdisplay: flex;\n\tflex-direction: column;\n`;\n\nconst Card = styled(StyledCard)`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: stretch;\n\tmargin-bottom: 20px;\n\toverflow: hidden;\n\n\t& .card-body {\n\t\tpadding: 0;\n\t}\n\t@media (min-width: 1400px) {\n\t\tmargin-bottom: 10px;\n\t\twidth: 570px;\n\t\theight: 373px;\n\t}\n`;\n\nconst ContainerCard = styled(ResponsiveCard)`\n\tdisplay: flex;\n\tmargin-bottom: 20px;\n\n\t& .card-body {\n\t\tpadding: 30px;\n\t}\n\n\t@media (min-width: 1400px) {\n\t\twidth: 582px;\n\t\theight: 486px;\n\t\tmargin-bottom: 10px;\n\n\t\t& .card-body {\n\t\t\tpadding: 12px 20px 20px;\n\t\t\tdisplay: flex;\n\t\t}\n\t}\n`;\n\nconst Spot = (props) => {\n\tconst [pair, setPair] = useState(\"BINANCE:ETHDAI\");\n\tconst { baseToken, quoteToken } = useSelector((state) => state.spot);\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tif (!baseToken || !quoteToken) {\n\t\t\tsetPair(\"BINANCE:ETHDAI\");\n\t\t} else {\n\t\t\tconst quote =\n\t\t\t\tquoteToken && quoteToken.symbol.toLowerCase() === \"weth\" ? \"ETH\" : quoteToken.symbol.toUpperCase();\n\t\t\tconst base =\n\t\t\t\tbaseToken && baseToken.symbol.toLowerCase() === \"weth\" ? \"ETH\" : baseToken.symbol.toUpperCase();\n\t\t\tsetPair(`BINANCE:${base}${quote}`);\n\t\t}\n\t}, [baseToken, quoteToken]);\n\n\tuseEffect(() => {\n\t\tdispatch(updateGasInfo());\n\t}, [dispatch]);\n\n\treturn (\n\t\t<Page title={false} morePadding size={\"xl\"}>\n\t\t\t<Provider>\n\t\t\t\t<ModalProvider>\n\t\t\t\t\t<Row justDesktop>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<MarketStats />\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<MarketDetails isTradingGraphic={true} />\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<TradingViewWidget\n\t\t\t\t\t\t\t\t\tsymbol={pair}\n\t\t\t\t\t\t\t\t\ttheme={Themes.DARK}\n\t\t\t\t\t\t\t\t\tallow_symbol_change={false}\n\t\t\t\t\t\t\t\t\twidth={\"100%\"}\n\t\t\t\t\t\t\t\t\theight={373}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<ContainerCard>\n\t\t\t\t\t\t\t\t<Orderbook />\n\t\t\t\t\t\t\t\t<MarketFills />\n\t\t\t\t\t\t\t</ContainerCard>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row className={\"justify-content-end\"} justDesktop>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<OrderHistory />\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<BuySell />\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row justMobile>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<MarketDetails isMobile={true} isTradingGraphic={true} />\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<TradingViewWidget\n\t\t\t\t\t\t\t\t\tsymbol={pair}\n\t\t\t\t\t\t\t\t\ttheme={Themes.DARK}\n\t\t\t\t\t\t\t\t\tallow_symbol_change={false}\n\t\t\t\t\t\t\t\t\twidth={\"100%\"}\n\t\t\t\t\t\t\t\t\theight={528}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Col>\n\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<BuySell />\n\t\t\t\t\t\t</Col>\n\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<ContainerCard>\n\t\t\t\t\t\t\t\t<Orderbook isMobile={true} />\n\t\t\t\t\t\t\t</ContainerCard>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<ContainerCard>\n\t\t\t\t\t\t\t\t<MarketFills isMobile={true} />\n\t\t\t\t\t\t\t</ContainerCard>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<MarketStats isMobile={true} />\n\t\t\t\t\t\t</Col>\n\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<OrderHistory isMobile={true} />\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</ModalProvider>\n\t\t\t</Provider>\n\t\t</Page>\n\t);\n};\n\nexport default Spot;\n"],"sourceRoot":""}