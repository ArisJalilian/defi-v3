{"version":3,"sources":["components/NumericalInput/index.tsx","hooks/useTokenToBalance.js","components/hoc/withBalance.js","pages/Borrow/ModalProvider/modals/UnlockToken.js","pages/Borrow/Provider/index.js","pages/Borrow/GlobalOverall/index.js","services/aave/gql.js","components/BorrowInputPanel/index.js","pages/Borrow/LendingBalance/LendingModalContainer.js","pages/Borrow/LendingBalance/index.js","pages/Borrow/BorrowBalance/BorrowTokenModal.js","pages/Borrow/BorrowBalance/RepayTokenModal.js","pages/Borrow/BorrowBalance/index.js","pages/Borrow/Common/index.js","pages/Borrow/ModalProvider/index.js","pages/Borrow/ModalProvider/modals/WrapEth.js","pages/Borrow/ModalProvider/modals/LendingToken.js","state/defi/actions.js","pages/Borrow/ModalProvider/modals/BorrowToken.js","pages/Borrow/index.js"],"names":["StyledInput","styled","input","error","theme","red1","text1","align","size","reverse","noBorder","modalBG","inputRegex","RegExp","Input","React","memo","value","onUserInput","placeholder","rest","onChange","event","nextUserInput","target","replace","test","escapeRegExp","inputMode","title","autoComplete","autoCorrect","type","pattern","minLength","maxLength","spellCheck","useSpotBalances","useActiveWeb3React","account","library","baseToken","useSelector","getBaseToken","quoteToken","getQuoteToken","knownTokens","useMemo","getKnownTokens","tokens","getTokens","wethToken","getWethToken","allBalances","address","useState","balances","setBalances","fetchBalances","a","tokensToTokenBalances","res","useEffect","length","useTokenToBalance","window","ethereum","ethBalance","useETHBalances","wethBalance","find","b","token","symbol","tokensBalance","filter","ethereumBalance","ETH","toExact","bn","BigNumber","currency","undefined","balance","totalEthBalance","total","plus","baseTokenBalance","searchToken","tokenBalances","wethTokenBalance","tokenToFind","quoteTokenBalance","withBalance","Component","props","UnlockToken","unlocking","setUnlocking","currentStep","getStepsModalCurrentStep","web3","dispatch","useDispatch","unlockToken","getContractWrappers","getProvider","contractWrappers","approveAddress","contractAddresses","erc20Proxy","erc20Token","ERC20TokenContract","amount","UNLIMITED_ALLOWANCE_IN_BASE_UNITS","approve","sendTransactionAsync","from","tx","awaitTransactionSuccessAsync","stepsModalAdvanceStep","onDismiss","pendingText","GraphQlProvider","client","getAaveGraphClient","children","StyledCard","Card","Text","span","variant","GlobalOverall","isNative","getAaveCurrency","userAccountData","getAaveUserAccountData","ethUsd","getEthInUsd","fetchAaveGlobal","getAaveOverall","userAcc","setAaveUserAccountData","loadingLendingPoolData","useInterval","formatETHField","field","dividedBy","toFixed","multipliedBy","totalLiquidity","totalCollateralETH","totalBorrowsETH","availableBorrowsETH","currentLiquidationThreshold","ltv","healthFactor","gt","columns","dataField","text","formatter","cellContent","row","rowIndex","wrapperClasses","bordered","classes","bootstrap4","keyField","remote","data","ResponsiveTable","breakpoint","direction","withoutBorder","GET_AAVE_RESERVES","gql","InputRow","div","flexRowNoWrap","Container","Label","InputContainer","LabelRow","Aligner","InputPanel","flexColumnNoWrap","StyledTokenName","CurrencySelect","button","bg1","BalanceRow","BorrowInputPanel","state","valueStr","tokenAmountInUnits","decimals","valueFixedDecimals","_updateValue","newValue","unitsInTokenAmount","min","isLessThan","setState","this","label","disable","selected","hideInput","id","showBalance","balanceText","Token","name","style","padding","borderRadius","className","CurrencyLogo","active","Boolean","slice","toUpperCase","NumericalInput","getDerivedStateFromProps","eq","Title","h4","SummaryRow","CustomTypeBlack","TYPE","black","StyledButton","LendingModalContainer","btnMsg","cardMsg","componentDidMount","TX_DEFAULTS_TRANSFER","gasTransferToken","toast","submit","tokenBalance","isEth","aToken","isLending","onSubmit","_reset","_closeModal","setMax","maxBalance","updateAmount","coinSymbol","displayDecimals","closeModal","show","liquidityRate","tokenSymbolToDisplayString","btnPrefix","balanceInUnits","btnText","isSubmitAllowed","isGreaterThan","Modal","onHide","centered","Body","Row","Col","xs","max","pow","toString","marginBottom","fontWeight","color","disabled","onClick","LogoContainer","Symbol","Name","CellText","isEthState","setIsEthState","isHideZeroBalance","isStableCoin","isModalOpenState","setIsModalOpenState","isSubmittingState","setIsSubmittingState","aTokenDataState","setATokenDataState","isLendingState","setIsLendingState","tokenBalanceState","setTokenBalanceState","order","sort","setSort","aTokensData","getATokensData","tokensPrice","getTokensPrice","ethTotalBalance","currencySelector","getAaveLoadingState","tokensRow","map","tokenD","isEthToken","isWethToken","tb","isEqualTo","displayBalance","displayDepositBalance","tokB","formattedLendBalance","formattedBalance","tokenPrice","t","c_id","formatTokenSymbol","price_usd","apy","tokenName","tokenSymbol","sortedData","handleSubmit","startLendingTokenSteps","Protocol","Aave","startUnLendingTokenSteps","wethPlusEthBalance","openLendingModal","openUnLendingModal","bind","isAction","formatExtraData","onTableChange","context","sortField","sortOrder","isSubmitting","BorrowTokenModal","availableForBorrow","setError","setAmount","variableBorrowRate","RepayTokenModal","borrowedBalance","setIsNotEnoughBalance","isLessThanOrEqualTo","balanceInShort","minus","balanceBorrowedInUnits","amountSubmit","isModalBorrowOpenState","setIsModalBorrowOpenState","isModalRepayOpenState","setIsModalRepayOpenState","isBorrowState","setIsBorrowState","availableForBorrowState","setAvailableForBorrowState","borrowBalanceState","setBorrowBalanceState","reserves","getAaveReservesGQLResponse","borrowBalance","reserve","r","displayAvailableForBorrowBalance","displayBorrowedBalance","availableBalanceForBorrowToken","priceInEth","price","totalAvailableForBorrowETH","integerValue","ROUND_DOWN","formattedBorrowedBalance","formattedAvailableForBorrowBalance","closeBorrowModal","closeRepayModal","startBorrowTokenSteps","startRepayTokenSteps","openBorrowModal","openRepayModal","modals","web3Wrapper","HeaderCol","CustomNav","Nav","CustomNavItem","Item","CustomNavLink","Link","primary","BorrowCommon","useQuery","pollInterval","loading","aaveLoadingState","setAaveReservesGQLResponse","AaveLoadingState","NotLoaded","initAave","fetchAave","Tab","defaultActiveKey","fill","eventKey","Content","Pane","wrapping","setWrapping","currentWethBalance","newWethBalance","convertingFrom","wrapEthereum","updateWethBalance","convertTxHash","connect","step","gasInfo","getGasInfo","onSubmitLendingToken","defiToken","getState","protocol","getDefiProtocol","txHash","lendingAToken","lendingDefiToken","onSubmitUnLendingToken","unLendingAToken","unLendingDefiToken","setLoading","amountOfTokenString","Lending","onDone","onSubmitBorrowToken","borrowAToken","borrowDefiToken","onSubmitRepayToken","repayAToken","repayDefiToken","isBorrow","Borrowing","ModalProvider","submitted","setSubmitted","setTxHash","isOpen","Web3","process","Web3Wrapper","givenProvider","hideModal","setStepsModalCurrentStep","chainId","CHAIN_ID","hash","kind","StepKind","ToggleTokenLock","WrapEth","LendingToken","UnLendingToken","RepayToken","BorrowToken","StyledRow","Borrow","Page"],"mappings":"8rCAIA,IAAMA,EAAcC,UAAOC,MAAV,KACN,gBAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,MAAV,OAAuBD,EAAQC,EAAMC,KAAOD,EAAME,SAU7C,gBAAGC,EAAH,EAAGA,MAAH,OAAeA,GAASA,KAI5B,kBAAsB,OAAtB,EAAGC,KAA0B,OAAS,UAClB,qBAAGC,QAAwB,IAAH,cAC3B,qBAAGA,QAAwB,IAAH,cACtB,qBAAGA,QAAwB,WAAH,OAC3B,qBAAGA,QAAwB,WAAH,OAElC,gBAAGC,EAAH,EAAGA,SAAH,SAAaD,QAAwB,WAAaC,EAAW,WAAH,YAE3D,gBAAGN,EAAH,EAAGA,MAAH,SAAUM,SAA0B,OAAH,oBAA0BN,EAAMO,YAyB5EC,EAAaC,OAAO,0BAEbC,EAAQC,IAAMC,MAAK,YAayC,IAZvEC,EAYsE,EAZtEA,MACAC,EAWsE,EAXtEA,YACAC,EAUsE,EAVtEA,YACAX,EASsE,EATtEA,KACGY,EAQmE,4DAOtE,OACE,cAACpB,EAAD,2BACMoB,GADN,IAEEH,MAAOA,EACPI,SAAU,SAAAC,GAVG,IAACC,GACM,MADNA,EAYHD,EAAME,OAAOP,MAAMQ,QAAQ,KAAM,OAXlBb,EAAWc,KAAKC,YAAaJ,MACvDL,EAAYK,IAaZK,UAAU,UACVC,MAAM,eACNC,aAAa,MACbC,YAAY,MACZvB,KAAMA,EAENwB,KAAK,OACLC,QAAQ,sBACRd,YAAaA,GAAe,MAC5Be,UAAW,EACXC,UAAW,GACXC,WAAW,e,2JChEJC,EAAkB,WAAO,IAAD,EACJC,cAArBC,EADyB,EACzBA,QAASC,EADgB,EAChBA,QAEXC,EAAYC,YAAYC,KACxBC,EAAaF,YAAYG,KAEzBC,EAAcC,mBAAQ,WACxB,OAAOC,gBACR,IACGC,EAASF,mBAAQ,WACnB,OAAOD,EAAYI,cACpB,IAEGC,EAAYJ,mBAAQ,WACtB,OAAOD,EAAYM,iBACpB,IAKGC,EAzCuB,SAACJ,EAAQK,EAASd,GAAa,IAAD,EAC3Be,mBAAS,IADkB,mBACpDC,EADoD,KAC1CC,EAD0C,KAGrDC,EAAa,uCAAG,4BAAAC,EAAA,sEACAC,YAAsBX,EAAQK,EAASd,GADvC,OACZqB,EADY,OAElBJ,EAAYI,GAFM,2CAAH,qDAQnB,OAJAC,qBAAU,WACNJ,MACD,CAACJ,EAASL,IAENF,mBAAQ,WACX,OAAGS,EAASO,OAAS,EACVP,EAEA,KAEZ,CAACF,EAASE,EAAUP,IAwBHe,CAHVjB,mBAAQ,WACd,MAAM,GAAN,mBAAWE,GAAX,CAAmBE,MACpB,CAACA,EAAWF,IAC0BV,EAAS0B,OAAOC,UAAY1B,GAE/D2B,EAAaC,YAAe,CAAC7B,IAE7B8B,EAActB,mBAAQ,WACxB,OAAOM,EAAYiB,MAAK,SAAAC,GAAC,OAAIA,EAAEC,MAAMC,SAAWtB,EAAUsB,YAC3D,CAACpB,IAEEqB,EAAgB3B,mBAAQ,WAC1B,OAAOM,EAAYsB,QAAO,SAAAJ,GAAC,OAAIA,EAAEC,MAAMC,SAAWtB,EAAUsB,YAC7D,CAACpB,IAEEuB,EAAkB7B,mBAAQ,WAC5B,IAAM8B,EAAMV,EAAW5B,GAAW4B,EAAW5B,GAASuC,UAAY,KAC5DC,EAAK,IAAIC,YAAUH,EAAG,SAAI,GAAM,KAEtC,MAAO,CACHL,MAAOL,EAAW5B,GAAW4B,EAAW5B,GAAS0C,cAAWC,EAC5DC,QAASJ,KAEd,CAACZ,IAEEiB,EAAkBrC,mBAAQ,WAC5B,GAAGsB,GAAeO,EAAiB,CAC/B,IAAIS,EAAQhB,EAAYc,QAKxB,YAJ6BD,IAA1BN,EAAgBJ,QACfa,EAAQT,EAAgBO,QAAQG,KAAKjB,EAAYc,UAG9CE,KAIZ,CAACT,EAAiBP,IAEfkB,EAAmBxC,mBAAQ,WAE7B,OAAOyC,YAAY,CAAEC,cAAef,EAAegB,iBAAkBrB,EAAasB,YAAalD,MAChG,CAACA,EAAWiC,EAAeL,IAExBuB,EAAoB7C,mBAAQ,WAE9B,OAAOyC,YAAY,CAAEC,cAAef,EAAegB,iBAAkBrB,EAAasB,YAAa/C,MAChG,CAACA,EAAY8B,EAAeL,IAE/B,OAAOtB,mBAAQ,WACX,MAAO,CACH6C,oBACAL,mBACAH,kBACAjB,WAAYS,EACZP,cACAK,mBAEL,CAACnC,EAASE,EAAWG,EAAYS,EAAakC,EAAkBK,KCvFxDC,IAdK,SAAAC,GAChB,OAAO,SAAAC,GACH,IAAMvC,EAAWnB,IAEjB,OACI,cAACyD,EAAD,2BACQC,GACAvC,O,wJC4CLwC,IA3CK,SAAAD,GAAU,IAAD,EACSxC,oBAAS,GADlB,mBAClB0C,EADkB,KACPC,EADO,OAEI5D,cAArBC,EAFiB,EAEjBA,QACF4D,GAHmB,EAER3D,QACGE,YAAY0D,MACxB9C,EAAmB6C,EAAnB7C,QAASkB,EAAU2B,EAAV3B,MACX6B,EAAON,EAAMM,KACbC,EAAWC,cAEXC,EAAW,uCAAG,oCAAA7C,EAAA,+EAGmB8C,YAAoBJ,EAAKK,eAH5C,cAGNC,EAHM,OAINC,EAAiBtD,GAAoBqD,EAAiBE,kBAAkBC,WAExEC,EAAa,IAAIC,qBAAmBxC,EAAMlB,QAASqD,EAAiBD,eACpEO,EAASC,KAPH,SASKH,EAAWI,QAAQP,EAAgBK,GAAQG,qBAAqB,CAC7EC,KAAM9E,IAVE,cASN+E,EATM,OAYZpB,GAAa,GAZD,UAaNG,EAAKkB,6BAA6BD,GAb5B,QAeTA,IACCpB,GAAa,GACbI,EAASkB,gBAjBD,kDAqBZtB,GAAa,GACbH,EAAM0B,YAtBM,0DAAH,qDA8BjB,OAJA3D,qBAAU,WACN0C,MACD,CAACL,IAGA,cAAC,IAAD,CAA4BsB,UAAWxB,EAAY,kBAAM,MAAOF,EAAM0B,UAAWC,YAAazB,EAAY,YAAc,+B,gJCtCjH0B,EARS,SAAA5B,GACpB,OACI,cAAC,iBAAD,CAAgB6B,OAAQC,cAAxB,SACK9B,EAAM+B,Y,2jBCQnB,IAAMC,EAAa9H,kBAAO+H,IAAP/H,CAAH,KAgBVgI,EAAOhI,UAAOiI,KAAV,KACC,gBAAE9H,EAAF,EAAEA,MAAO+H,EAAT,EAASA,QAAT,OAAsBA,EAAU/H,EAAM+H,GAAW/H,EAAME,SAwJnD8H,EAnJO,SAAArC,GAAU,IACpBxD,EAAYD,cAAZC,QAEF8F,EAAgC,WADb3F,YAAY4F,KAE/BhC,EAAWC,cACXgC,EAAkB7F,YAAY8F,KAC9BC,EAAS/F,YAAYgG,KAErBC,EAAe,uCAAG,4BAAAhF,EAAA,sEACEiF,YAAerG,GADjB,OACdsG,EADc,OAEpBvC,EAASwC,YAAuBD,IAFZ,2CAAH,qDAOrB/E,qBAAU,YACsB,uCAAG,sBAAAH,EAAA,0DACvBpB,EADuB,gCAEjBoG,IAFiB,2CAAH,qDAM5BI,KACD,CAACxG,IAIJyG,YAAW,sBAAC,sBAAArF,EAAA,0DACJpB,EADI,gCAEEoG,IAFF,2CAIT,KAEH,IAAMM,EAAiB,WAAwB,IAAvBC,EAAsB,4DAAdhE,EAC5B,OAAIgE,EACOb,EAAQ,UACNa,EAAMC,UAAU,QAAQC,QAAQ,GAD1B,QAETX,EAAM,UACCS,EACAC,UAAU,QACVE,aAAaZ,GACbW,QAAQ,GAJT,QAKF,QAEH,KAKTE,EAAiBL,EAAeV,GAAmBA,EAAgBe,gBACnEC,EAAqBN,EAAeV,GAAmBA,EAAgBgB,oBACvEC,EAAkBP,EAAeV,GAAmBA,EAAgBiB,iBACpEC,EAAsBR,EAAeV,GAAmBA,EAAgBkB,qBACxEC,EACDnB,GAAe,UAAOA,EAAgBmB,4BAA4BN,QAAQ,GAA3D,OAAsE,IACpFO,EAAOpB,GAAe,UAAOA,EAAgBoB,IAAIP,QAAQ,GAAnC,OAA8C,IACtEQ,EAAe,IAGfrB,GAAmBA,EAAgBiB,gBAAgBK,GAAG,KACtDD,EAAerB,GAAmBA,EAAgBqB,aAAaT,UAAU,QAAQC,QAAQ,GACtE,IAAIpE,YAAU4E,IAGrC,IAAME,EAAU,CACZ,CACIC,UAAW,kBACXC,KAAM,kBACNC,UAAW,SAACC,EAAaC,EAAKC,GAC1B,OACI,cAACnC,EAAD,UAAOkC,EAAIb,mBAIvB,CACIS,UAAW,mBACXC,KAAM,mBACNC,UAAW,SAACC,EAAaC,EAAKC,GAC1B,OACI,cAACnC,EAAD,UAAOkC,EAAIZ,uBAIvB,CACIQ,UAAW,gBACXC,KAAM,gBACNC,UAAW,SAACC,EAAaC,EAAKC,GAC1B,OACI,cAACnC,EAAD,UAAOkC,EAAIX,oBAIvB,CACIO,UAAW,YACXC,KAAM,uBACNC,UAAW,SAACC,EAAaC,EAAKC,GAC1B,OACI,cAACnC,EAAD,UAAOkC,EAAIV,wBAIvB,CACIM,UAAW,wBACXC,KAAM,wBACNC,UAAW,SAACC,EAAaC,EAAKC,GAC1B,OACI,cAACnC,EAAD,UAAOkC,EAAIT,gCAIvB,CACIK,UAAW,MACXC,KAAM,MACNC,UAAW,SAACC,EAAaC,EAAKC,GAC1B,OACI,cAACnC,EAAD,UAAOkC,EAAIR,QAIvB,CACII,UAAW,gBACXC,KAAM,gBACNC,UAAW,SAACC,EAAaC,EAAKC,GAC1B,OACI,cAACnC,EAAD,UAAOkC,EAAIP,kBAM3B,OACI,eAAC7B,EAAD,WACI,cAAC,IAAD,CACIsC,eAAe,oBACfC,UAAU,EACVC,QAAQ,4GACRC,YAAU,EACVC,SAAU,KACVC,QAAM,EACNC,KAAM,CAAC,CAACrB,iBAAgBC,qBAAoBC,kBAAiBC,sBAAqBC,8BAA6BC,MAAKC,iBACpHE,QAASA,IAEb,cAACc,EAAA,EAAD,CAAiBC,WAAY,KAAMf,QAASA,EAASa,KAAM,CAAC,CAACrB,iBAAgBC,qBAAoBC,kBAAiBC,sBAAqBC,8BAA6BC,MAAKC,iBAAgBkB,UAAW,MAAOC,eAAa,Q,odC7K7N,IAAMC,E,MAAoBC,GAAH,K,ouFCM9B,IAAMC,GAAWjL,UAAOkL,IAAV,MACV,qBAAG/K,MAAkBgL,iBAWnBC,GAAYpL,UAAOkL,IAAV,MAUTG,GAAQrL,UAAOiI,KAAV,MAYLqD,GAAiBtL,UAAOkL,IAAV,MASdK,GAAWvL,UAAOkL,IAAV,MACV,qBAAG/K,MAAkBgL,iBAEd,qBAAGhL,MAAkBE,SAO1BmL,GAAUxL,UAAOiI,KAAV,MAUPwD,GAAazL,UAAOkL,IAAV,MACZ,qBAAG/K,MAAkBuL,oBAMnBC,GAAkB3L,UAAOiI,KAAV,MAaf2D,GAAiB5L,UAAO6L,OAAV,MA+BI,qBAAG1L,MAAkB2L,OAKzCC,GAAa/L,UAAOkL,IAAV,MACV,qBAAG/K,MAAkBgL,iBAGd,qBAAGhL,MAAkBE,SAaX2L,G,4MACjBC,MAAQ,CACJC,SAAU,EAAKpG,MAAM9E,MACfmL,YAAmB,EAAKrG,MAAM9E,MAAO,EAAK8E,MAAMsG,SAAU,EAAKtG,MAAMuG,oBACrE,I,EAIVC,aAAe,SAAAtL,GAEX,IAAMuL,EAAWC,YAAmBxL,GAAS,IAAK,EAAK8E,MAAMsG,UACxC,EAAKtG,MAAM2G,KAAOF,EAASG,WAAW,EAAK5G,MAAM2G,OAKtE,EAAK3G,MAAM7E,YAAYsL,GACvB,EAAKI,SAAS,CACVT,SAAUlL,M,uDAuBR,IAAD,EAUD4L,KAAK9G,MAVJ,IAED+G,aAFC,MAEO,QAFP,MAGDC,eAHC,SAIDC,EAJC,EAIDA,SAJC,IAKDC,iBALC,SAMDC,EANC,EAMDA,GANC,IAODC,mBAPC,SAQDC,EARC,EAQDA,YARC,IASD5I,aATC,WASOU,EATP,EAWGiH,EAAaU,KAAKX,MAAlBC,SAEFlH,EAAWT,EAAQ,IAAI6I,IAAM,EAAG7I,EAAMlB,QAASkB,EAAM6H,SAAU7H,EAAMC,OAAQD,EAAM8I,WAAQpI,EAEjG,OACI,cAACwG,GAAD,CAAYwB,GAAIA,EAAhB,SACI,eAAC7B,GAAD,YACM4B,GACE,cAACzB,GAAD,UACI,cAAC,KAAD,UACI,cAACF,GAAD,UACKwB,QAKjB,eAAC5B,GAAD,CAAUqC,MAAON,EAAY,CAAEO,QAAS,IAAKC,aAAc,WAAc,GAAIT,SAAUD,EAAvF,UACI,cAAClB,GAAD,CACImB,WAAYA,EACZU,UAAU,8BAFd,SAII,eAACjC,GAAD,WACKjH,GACG,cAACmJ,EAAA,EAAD,CAAc1I,SAAUA,EAAUzE,KAAM,SAE5C,cAACoL,GAAD,CAAiB8B,UAAU,yBAAyBE,OAAQC,QAAQb,GAApE,UACMA,IAAoB,OAARA,QAAQ,IAARA,OAAA,EAAAA,EAAUjJ,QAAS,KAClB,OAARiJ,QAAQ,IAARA,OAAA,EAAAA,EAAUc,MAAM,EAAG,IAClB,OADD,OAECd,QAFD,IAECA,OAFD,EAECA,EAAUc,OAAc,OAARd,QAAQ,IAARA,OAAA,EAAAA,EAAUjJ,QAAS,EAAnC,OAAsCiJ,QAAtC,IAAsCA,OAAtC,EAAsCA,EAAUjJ,UAASgK,cAC3Df,EAASe,gBAJd,iBASXd,GACE,cAAC1B,GAAD,UACI,cAACyC,GAAA,EAAD,CACIN,UAAU,2BACVzM,MAAOkL,EACPjL,YAAa2L,KAAKN,oBAKjCS,GAAYG,GACT,cAACnB,GAAD,UACKoB,e,GAnGiBrM,IAAM+E,WAA/BmG,GAuBVgC,yBAA2B,SAAClI,EAAOmG,GAAW,IACzCG,EAAwCtG,EAAxCsG,SAAUpL,EAA8B8E,EAA9B9E,MAAOqL,EAAuBvG,EAAvBuG,mBACjBH,EAAaD,EAAbC,SAER,OAAKlL,EAIMA,IAAUwL,YAAmBN,GAAY,IAAKE,GAAU6B,GAAGjN,GAC3D,CACHkL,SAAUC,YAAmBnL,EAAOoL,EAAUC,IAG3C,KARA,CACHH,SAAU,K,wvBCnK1B,IAAMgC,GAAQlO,UAAOmO,GAAV,MAOEC,GAAapO,UAAOkL,IAAV,MAUjBmD,GAAkBrO,kBAAOsO,KAAKC,MAAZvO,CAAH,MAQfwO,GAAexO,UAAO6L,OAAV,MAiLH4C,G,4MA1KXxC,MAAQ,CACJjF,OAAQ,KACR9G,MAAO,CACHwO,OAAQ,KACRC,QAAS,O,EAIjBC,kBAAoB,WACO,EAAK9I,MAApB5B,WACOwI,WAAWmC,KAAqBC,oBAC3CC,KAAM7O,MAAM,8BACZ,EAAKyM,SAAS,CACVzM,MAAO,CACHwO,OAAQ,QACRC,QAAQ,kC,EA2GxBK,O,sBAAS,0CAAAtL,EAAA,2DACyD,EAAKoC,MAA3DmJ,EADH,EACGA,aAAcC,EADjB,EACiBA,MAAOhM,EADxB,EACwBA,UAAWiM,EADnC,EACmCA,OAAQC,EAD3C,EAC2CA,WAE5CF,EAHC,gBAID3K,EAAK,2BACErB,GADF,IAEDsB,OAAQ,QANX,2BAQMyK,EARN,gBASD1K,EAAQ0K,EAAa1K,MATpB,gDAWM,MAXN,QAaCyC,EAAS,EAAKiF,MAAMjF,QAAU,IAAIjC,YAAU,GAClD,EAAKe,MAAMuJ,SAASrI,EAAQzC,EAAO4K,EAAQD,EAAOE,GAd7C,4C,EAiBTE,OAAS,WACL,EAAK3C,SAAS,CACV3F,OAAQ,Q,EAIhBuI,YAAc,WACV,EAAKD,U,EAGTE,OAAS,WAAO,IAAD,EACoD,EAAK1J,MAA5DmJ,EADG,EACHA,aAAcC,EADX,EACWA,MAAOhL,EADlB,EACkBA,WAAYkL,EAD9B,EAC8BA,UAAWD,EADzC,EACyCA,OACpD,GAAID,EAAO,CACP,IAAMO,EAAaL,EAAYlL,EAAaiL,EAAOjK,SAAW,IAAIH,YAAU,GAC5E,EAAK4H,SAAS,CACV3F,OAAQyI,SAELR,GACP,EAAKtC,SAAS,CACV3F,OAAQoI,EAAYH,EAAa/J,QAAUiK,EAAOjK,SAAW,IAAIH,YAAU,M,EAKvF2K,aAAe,SAACnD,GACZ,EAAKI,SAAS,CACV3F,OAAQuF,K,uDAhJN,IAIFoD,EACAF,EACArD,EACAwD,EAPC,EACqGhD,KAAK9G,MAAvGmJ,EADH,EACGA,aAAcY,EADjB,EACiBA,WAAY3L,EAD7B,EAC6BA,WAAYgL,EADzC,EACyCA,MAAOhM,EADhD,EACgDA,UAAWiM,EAD3D,EAC2DA,OAAQC,EADnE,EACmEA,UAAWU,EAD9E,EAC8EA,KAD9E,6GAEqBlD,KAAKX,OAAvB/L,EAFH,EAEGA,MAAO8G,EAFV,EAEUA,OACP+I,EAAkBZ,EAAlBY,cAMR,GAAIb,EACAU,EAAkB1M,EAAU0M,gBAC5BxD,EAAW,GACXqD,EAAaL,EAAYlL,EAAaiL,EAAOjK,SAAW,IAAIH,YAAU,GACtE4K,EAAaK,YAA2B,WACrC,KAAIf,EAOP,OAAO,KAPe,IACd1K,EAAmB0K,EAAnB1K,MAAOW,EAAY+J,EAAZ/J,QACf0K,EAAkBrL,EAAMqL,gBACxBxD,EAAW7H,EAAM6H,SACjBqD,EAAaL,EAAYlK,EAAUiK,EAAOjK,SAAW,IAAIH,YAAU,GACnE4K,EAAaK,YAA2BzL,EAAMC,QAnB7C,IAwBGD,EAAU0K,EAAV1K,MACF0L,EAAYb,EAAY,WAAa,YACrCc,EAAiB/D,YAAmBsD,EAAYrD,EAAUwD,GAC1DO,EAAUjQ,GAASA,EAAMwO,OAAS,QAAUuB,EAAYN,EACxDS,EAA6B,OAAXpJ,GAAoBA,GAAUA,EAAOqJ,cAAcZ,GAE3E,OACG,cAACa,EAAA,EAAD,CAAOR,KAAMA,EAAMS,OAAQV,EAAYW,UAAQ,EAA/C,SACI,cAACF,EAAA,EAAMG,KAAP,CAAYnD,MAAO,CAAEC,QAAS,IAA9B,SACI,eAACmD,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAKC,GAAI,GAAT,SACI,eAAC1C,GAAD,WAAQkB,EAAY,UAAY,WAAhC,IAA6CO,OAEjD,cAACgB,EAAA,EAAD,CAAKC,GAAI,GAAT,SACI,cAAC,GAAD,CACIxE,SAAUA,EACVK,IAAK,EACLoE,IAAKpB,EACLxO,YAAa2L,KAAK8C,aAClB1O,MAAOgG,EACPzC,MAAOA,EACPwI,SAAU4C,EACVzC,aAAa,EACbL,MAAK,oBAAeuC,EAAY,UAAY,YAC5ClO,YAAa,IAAI6D,YAAU,GAAGmG,IAAI,IAAInG,YAAU,IAAI+L,IAAIlB,IAAkBmB,WAC1E1E,mBAAoBuD,MAG5B,cAACe,EAAA,EAAD,CAAKC,GAAI,GAAItD,MAAO,CAAE0D,aAAc,IAApC,SACI,eAAC,KAAD,WACI,eAAC5C,GAAD,WACI,cAAC,KAAD,UACI,cAACC,GAAD,CAAiB4C,WAAY,IAAKC,MAAO,QAAzC,4BAIJ,cAAC,KAAD,UACI,eAAC7C,GAAD,CAAiB6C,MAAO,QAASD,WAAY,IAA7C,UACKlB,EACI7E,IAAI,QACJ9B,aAAa,KACbD,QAAQ,GAAI,IAJrB,YASR,eAACiF,GAAD,WACI,cAAC,KAAD,UACI,cAACC,GAAD,CAAiB4C,WAAY,IAAKC,MAAO,QAAzC,sBAIJ,cAAC,KAAD,UACI,cAAC7C,GAAD,CAAiB6C,MAAO,QAASD,WAAY,IAA7C,SACKf,cAMrB,cAACS,EAAA,EAAD,CAAKC,GAAI,GAAInD,UAAW,sFAAxB,SACI,cAACe,GAAD,CACIf,UAAS,kBAAa2B,EAAY,UAAY,WAC9C+B,SAAUf,EACVgB,QAASxE,KAAKoC,OAHlB,SAMKmB,iB,GAjHIrP,IAAM+E,W,g6BCtB1C,IAAMwL,GAAgBrR,UAAOkL,IAAV,MAaboG,GAAStR,UAAOiI,KAAV,MAQNsJ,GAAOvR,UAAOiI,KAAV,MAUJuJ,GAAWxR,UAAOiI,KAAV,MAmUCrC,gBAlTQ,SAAAE,GAAU,IAAD,EACQxC,oBAAS,GADjB,mBACrBmO,EADqB,KACTC,EADS,OAEsBpO,oBAAS,GAF/B,mBAErBqO,EAFqB,aAGYrO,oBAAS,IAHrB,mBAGrBsO,EAHqB,aAIoBtO,oBAAS,IAJ7B,mBAIrBuO,EAJqB,KAIHC,EAJG,OAKsBxO,oBAAS,GAL/B,mBAKrByO,EALqB,KAKFC,EALE,OAMkB1O,qBANlB,mBAMrB2O,EANqB,KAMJC,EANI,OAOgB5O,oBAAS,GAPzB,mBAOrB6O,EAPqB,KAOLC,EAPK,OAQsB9O,qBARtB,mBAQrB+O,EARqB,KAQFC,EARE,OASJhP,mBAAS,CAC7B2F,OAAO,EACPsJ,MAAO,SAXiB,mBASrBC,EATqB,KASfC,EATe,KAcpBnQ,GAAYD,cAAZC,QACF+D,GAAWC,cACXoM,GAAcjQ,YAAYkQ,KAC1BC,GAAcnQ,YAAYoQ,KAC1BrN,GAAgBM,EAAMrB,cACtBP,GAAa4B,EAAM5B,WACnB4O,GAAkBhN,EAAMX,gBACxBM,GAAmBK,EAAM1B,YAEzB2O,IADmBtQ,YAAYuQ,KACZvQ,YAAY4F,MA4C/B4K,GAAYnQ,mBAAQ,WACtB,IAAM4H,EAAOgI,GAAYQ,KAAI,SAAAC,GAAW,IAC5B5O,EAAmB4O,EAAnB5O,MAAOW,EAAYiO,EAAZjO,QAEPV,EAAWD,EAAXC,OACF4O,EAAaC,YAAY9O,GACzB0K,EAAezJ,GAAcnB,MAAK,SAAAiP,GAAE,OAAIA,EAAG/O,MAAMC,SAAWA,KAClE,GAAImN,EAAmB,CACnB,GAAIyB,GAAcN,GAAgBS,UAAU,IAAMrO,GAAWA,EAAQqO,UAAU,GAC3E,OAAO,KAGX,GAAItE,GAAgBA,EAAa/J,QAAQqO,UAAU,IAAMrO,GAAWA,EAAQqO,UAAU,GAClF,OAAO,KAGf,GAAI3B,IACKrN,EAAMqN,aACP,OAAO,KAIf,IAGI4B,EACAC,EAJEC,EAAON,EACPN,IAAmB,IAAI/N,YAAU,GAChCkK,GAAgBA,EAAa/J,SAAY,IAAIH,YAAU,GAI9D,GAAIzC,IAAW4C,EAAS,CACpB,IAAMyO,EAAuBxH,YAAmBjH,EAASX,EAAM6H,SAAU7H,EAAMqL,iBACzEgE,EAAmBzH,YAAmBuH,EAAMnP,EAAM6H,SAAU7H,EAAMqL,iBAClEiE,EAAajB,IAAeA,GAAYvO,MAAK,SAAAyP,GAAC,OAAIA,EAAEC,OAASxP,EAAMwP,QAChD,WAArBhB,IACAS,EAAc,UAAMI,EAAN,YAA0BI,YAAkBxP,IAC1DiP,EAAqB,UAAME,EAAN,YAA8BK,YAAkBxP,MAErEgP,EAAiBK,EAAU,UAClBA,EAAWI,UAAU7K,aAAa,IAAIrE,YAAU6O,IAAmBzK,QAAQ,GADzD,KAErB,IACNsK,EAAwBI,EAAU,UACzBA,EAAWI,UAAU7K,aAAa,IAAIrE,YAAU4O,IAAuBxK,QAAQ,GADtD,KAE5B,UAGVqK,EAAiB,IACjBC,EAAwB,IAG5B,IAAMS,EAAG,UAAMf,EAAOpD,cACjB7G,UAAU,QACVE,aAAa,KACbD,QAAQ,GAHJ,MAKHgL,EAAYf,EAAa,WAAa7O,EAAM8I,KAC5C+G,EAAchB,EAAa,MAAQ7O,EAAMC,OAAOsJ,cAEtD,MAAO,CACHvJ,QACAC,SACA4P,cACAD,YACAX,iBACAC,wBACAS,MACAhP,UACAwO,OACAN,aACAD,aAKR,OAAOkB,aAAW3J,EAAM8H,KACzB,CAACE,GAAaF,IAEX3C,GAAa,WACfiC,GAAoB,IAIlBwC,GAAY,uCAAG,WACjBtN,EACAzC,EACA4K,EACAD,EACAE,GALiB,SAAA1L,EAAA,yDAOjBsO,GAAqB,GAPJ,UAUT5C,EAVS,gCAWH/I,GAASkO,YAAuBvN,EAAQzC,EAAO4K,EAAQD,EAAOsF,IAASC,KAAMvQ,GAAYuB,GAAkBqN,KAXxG,6CAaHzM,GAASqO,YAAyB1N,EAAQzC,EAAO4K,EAAQD,IAbtD,uBAgBb8C,GAAqB,GACrBnC,KAjBa,yEAAH,8DAqBZ3M,GAAYH,cAAiBI,eAQ7BwR,GAAqBlP,GAAmBA,GAAiBP,QAAQG,KAAKnB,IAAc,IAAIa,YAAU,GAWlG8E,GAAU,CACZ,CACIC,UAAW,YACXC,KAAM,QACNC,UAAW,SAACC,EAAaC,EAAKC,GAC1B,IAAMnF,EAAW,IAAIoI,IAAM,EAAGlD,EAAI3F,MAAMlB,QAAS6G,EAAI3F,MAAM6H,SAAUlC,EAAI3F,MAAMC,OAAQ0F,EAAI3F,MAAM8I,MACjG,OACI,sBAAoBI,UAAU,8FAA9B,UACI,cAAC4D,GAAD,UAAe,cAAC3D,EAAA,EAAD,CAAc1I,SAAUA,MACvC,sBAAKyI,UAAU,iEAAf,UACI,cAAC6D,GAAD,UAASpH,EAAIkK,cACb,cAAC7C,GAAD,UAAOrH,EAAIiK,iBAJThK,IASlBqI,MAAM,GAEV,CACI1I,UAAW,iBACXC,KAAM,UACNC,UAAW,SAACC,EAAaC,EAAKC,GAC1B,OACI,cAACqH,GAAD,UAAWtH,EAAIsJ,kBAGvBhB,MAAM,GAEV,CACI1I,UAAW,wBACXC,KAAM,kBACNC,UAAW,SAACC,EAAaC,EAAKC,GAC1B,OACI,cAACqH,GAAD,UAAWtH,EAAIuJ,yBAGvBjB,MAAM,GAEV,CACI1I,UAAW,MACXC,KAAM,MACNC,UAAW,SAACC,EAAaC,EAAKC,GAC1B,OACI,cAACqH,GAAD,UAAWtH,EAAIgK,OAGvB1B,MAAM,GAEV,CACI1I,UAAW,UACXC,KAAM,UACNC,UAAW,SAACC,EAAaC,EAAKC,EAAnB,GAA2E,IAA5CyK,EAA2C,EAA3CA,iBAAkBC,EAAyB,EAAzBA,mBAChD3P,EAA6CgF,EAA7ChF,QAASwO,EAAoCxJ,EAApCwJ,KAAMP,EAA8BjJ,EAA9BiJ,OAAQC,EAAsBlJ,EAAtBkJ,WAAY7O,EAAU2F,EAAV3F,MAC3C,OACI,sBAAKkJ,UAAW,iIAAhB,UACI,cAAC,aAAD,UACI,cAAC,cAAD,CACI2D,QAASwD,EAAiBE,KAAK,GAAM3B,EAAQC,EAAYM,EAAMnP,GAC/D4M,SAAUuC,EAAKH,UAAU,GAF7B,uBAQJ,cAAC,aAAD,UACI,cAAC,cAAD,CACIrL,QAAS,UACTkJ,QAASyD,EAAmBC,KAAK,GAAM3B,EAAQC,EAAYM,EAAMnP,GACjE4M,SAAUjM,GAAWA,EAAQqO,UAAU,GAH3C,4BAWhBwB,UAAU,EACVC,gBAAiB,CACbJ,iBAlOa,WAAc,IAAD,uBAATzT,EAAS,yBAATA,EAAS,oBAC3BgS,EAAmChS,EADR,GACnBiS,EAA2BjS,EADR,GACPuS,EAAevS,EADR,GACDoD,EAASpD,EADR,GAElC+Q,EAAmBiB,GACnBrB,GAAoB,GAChBsB,GACA1B,GAAc,GACdY,EAAqB,2BAAK7M,IAAN,IAAwBP,QAASwO,OAErDhC,GAAc,GACdY,EAAqB9M,GAAcnB,MAAK,SAAAiP,GAAE,OAAIA,EAAG/O,QAAUA,OAE/D6N,GAAkB,IAwNVyC,mBArNe,WAAc,IAAD,uBAAT1T,EAAS,yBAATA,EAAS,oBAC7BgS,EAAmChS,EADN,GACrBiS,EAA2BjS,EADN,GACTuS,EAAevS,EADN,GACHoD,EAASpD,EADN,GAEpC+Q,EAAmBiB,GACfC,GACA1B,GAAc,GACdY,EAAqB,2BAAK7M,IAAN,IAAwBP,QAASwO,OAErDhC,GAAc,GACdY,EAAqB9M,GAAcnB,MAAK,SAAAiP,GAAE,OAAIA,EAAG/O,QAAUA,OAE/DuN,GAAoB,GACpBM,GAAkB,OAgNtB,OACI,sBAAK3E,UAAU,qBAAf,UACI,cAAC,IAAD,CACIrD,eAAe,qCACfC,UAAU,EACVC,QAAQ,+FACRC,YAAU,EACVE,QAAM,EACND,SAAS,KACTE,KAAMuI,GACNpJ,QAASA,GACToL,cAzGU,SAAClT,EAAMmT,GACb,SAATnT,GACC0Q,EAAQ,CACJxJ,MAAOiM,EAAQC,UACf5C,MAAO2C,EAAQE,eAwGnB,cAACzK,EAAA,EAAD,CAAiBC,WAAY,KAAMf,QAASA,GAASa,KAAMuI,GAAWpI,UAAW,QAEhFgH,GAAoBI,GACjB,cAAC,GAAD,CACInC,KAAM+B,EACN5C,aAAcoD,EACdgD,aAActD,EACd1C,SAAUiF,GACVnF,OAAQ8C,EACRpC,WAAYA,GACZ3L,WAAYyQ,GACZzF,MAAOuC,EACPvO,UAAWA,GACXkM,UAAW+C,U,6sBCrW/B,IAAMjE,GAAQlO,UAAOmO,GAAV,MAOEC,GAAapO,UAAOkL,IAAV,MAUjBmD,GAAkBrO,kBAAOsO,KAAKC,MAAZvO,CAAH,MAQfwO,GAAexO,UAAO6L,OAAV,MA4IHyJ,GAtIU,SAAAxP,GAAU,IACvBmJ,EAA2GnJ,EAA3GmJ,aAAcY,EAA6F/J,EAA7F+J,WAAY3L,EAAiF4B,EAAjF5B,WAAYgL,EAAqEpJ,EAArEoJ,MAAOhM,EAA8D4C,EAA9D5C,UAAWiM,EAAmDrJ,EAAnDqJ,OAAQoG,EAA2CzP,EAA3CyP,mBAAoBzF,EAAuBhK,EAAvBgK,KAD9D,eACqFhK,EADrF,qGAEJxC,mBAAS,CAC/BoL,OAAQ,KACRC,QAAS,QAJiB,mBAEvBzO,EAFuB,KAEhBsV,EAFgB,OAMFlS,mBAAS,IAAIyB,YAAU,IANrB,mBAMvBiC,EANuB,KAMfyO,EANe,KAQ9B5R,qBAAU,WACFK,EAAWwI,WAAWmC,KAAqBC,oBAC3CC,KAAM7O,MAAM,8BACZsV,EAAS,CACL9G,OAAQ,QACRC,QAAQ,kCAGjB,CAACzK,IAhB0B,IAoB1ByL,EAEAvD,EACAwD,EALI8F,EAAuBvG,EAAvBuG,mBACAnR,EAAU0K,EAAV1K,MAEJkL,EAAa8F,EAIjB,GAAIrG,EACAU,EAAkB1M,EAAU0M,gBAC5BxD,EAAW,GACXuD,EAAaK,YAA2B,WACrC,KAAIf,EAMP,OAAO,KALPW,EAAkBrL,EAAMqL,gBACxBxD,EAAW7H,EAAM6H,SACjBqD,EAAa8F,EACb5F,EAAaK,YAA2BzL,EAAMC,QAKlD,IACM0L,EAAiB/D,YAAmBsD,EAAYrD,EAAUwD,GAC1DO,EAAUjQ,GAASA,EAAMwO,OAAS,QAFtB,UAE4CiB,EACxDS,EAA6B,OAAXpJ,GAAoBA,GAAUA,EAAOqJ,cAAcZ,GAuB3E,OACI,cAACa,EAAA,EAAD,CAAOR,KAAMA,EAAMS,OAAQV,EAAYW,UAAQ,EAA/C,SACI,cAACF,EAAA,EAAMG,KAAP,CAAYnD,MAAO,CAAEC,QAAS,IAA9B,SACI,eAACmD,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAKC,GAAI,GAAT,SACI,eAAC,GAAD,WAAQ,SAAR,IAAmBjB,OAEvB,cAACgB,EAAA,EAAD,CAAKC,GAAI,GAAT,SACI,cAAC,GAAD,CACIxE,SAAUA,EACVK,IAAK,EACLoE,IAAKpB,EACLxO,YAlCD,SAACsL,GACpBkJ,EAAUlJ,IAkCUvL,MAAOgG,EACPzC,MAAOA,EACPwI,SAAU4C,EACVzC,aAAa,EACbL,MAAK,mBACL3L,YAAa,IAAI6D,YAAU,GAAGmG,IAAI,IAAInG,YAAU,IAAI+L,IAAIlB,IAAkBmB,WAC1E1E,mBAAoBuD,MAG5B,cAACe,EAAA,EAAD,CAAKC,GAAI,GAAItD,MAAO,CAAE0D,aAAc,IAApC,SACI,eAAC,KAAD,WACI,eAAC,GAAD,WACI,cAAC,KAAD,UACI,cAAC,GAAD,CAAiBC,WAAY,IAAKC,MAAO,QAAzC,0BAIJ,cAAC,KAAD,UACI,eAAC,GAAD,CAAiBA,MAAO,QAASD,WAAY,IAA7C,UACKyE,EACIxK,IAAI,QACJ9B,aAAa,KACbD,QAAQ,GAAI,IAJrB,YASR,eAAC,GAAD,WACI,cAAC,KAAD,UACI,cAAC,GAAD,CAAiB8H,WAAY,IAAKC,MAAO,QAAzC,oCAIJ,cAAC,KAAD,UACI,cAAC,GAAD,CAAiBA,MAAO,QAASD,WAAY,IAA7C,SACKf,cAOrB,cAACS,EAAA,EAAD,CAAKC,GAAI,GAAInD,UAAW,sFAAxB,SACI,cAAC,GAAD,CACIA,UAAS,kBAAavN,GAASA,EAAMwO,OAAS,SAAW,WACzDyC,SAAUf,EACVgB,QA3EP,WACb,IAAI7M,EACJ,GAAI2K,EACA3K,EAAK,2BACErB,GADF,IAEDsB,OAAQ,YAET,KAAIyK,EAGP,OAAO,KAFP1K,EAAQ0K,EAAa1K,MAKzBuB,EAAMuJ,SAASrI,EAAQzC,EAAO4K,EAAQD,IA2DtB,SAKKiB,c,6sBC3J7B,IAAMjC,GAAQlO,UAAOmO,GAAV,MAOEC,GAAapO,UAAOkL,IAAV,MAUjBmD,GAAkBrO,kBAAOsO,KAAKC,MAAZvO,CAAH,MAQfwO,GAAexO,UAAO6L,OAAV,MAkKH8J,GA5JS,SAAA7P,GAAU,IA0B1B6J,EAzBIV,EAAwGnJ,EAAxGmJ,aAAcY,EAA0F/J,EAA1F+J,WAAY3L,EAA8E4B,EAA9E5B,WAAYgL,EAAkEpJ,EAAlEoJ,MAAOhM,EAA2D4C,EAA3D5C,UAAWiM,EAAgDrJ,EAAhDqJ,OAAQyG,EAAwC9P,EAAxC8P,gBAAiB9F,EAAuBhK,EAAvBgK,KAD5D,eACmFhK,EADnF,kGAEHxC,mBAAS,CAC/BoL,OAAQ,KACRC,QAAS,QAJgB,mBAEtBzO,EAFsB,KAEfsV,EAFe,OAMDlS,mBAAS,MANR,mBAMtB0D,EANsB,KAMdyO,EANc,OAOuBnS,oBAAS,GAPhC,mBAOFuS,GAPE,WAQZvP,cAEjBzC,qBAAU,WACFK,EAAWwI,WAAWmC,KAAqBC,oBAC3CC,KAAM7O,MAAM,8BACZsV,EAAS,CACL9G,OAAQ,QACRC,QAAQ,gCAIZkH,EADA3G,EACsBhL,EAAW4R,oBAAoBF,GAE/B3G,EAAa/J,QAAQ4Q,oBAAoBF,MAEpE,CAAC1R,EAAY+K,IAIhB,IAEI7C,EACAwD,EACAmG,EAJAtG,EAAa,IAAI1K,YAAU,GAC3BG,EAAU,IAAIH,YAAU,GAKpBR,EAAU0K,EAAV1K,MACR,GAAI2K,EACAU,EAAkB1M,EAAU0M,gBAC5BxD,EAAW,GACXqD,EAAamG,GAAmB,IAAI7Q,YAAU,GAC9C4K,EAAaK,YAA2B,OACxC9K,EAAUhB,EACV6R,EAAiBtG,EAAWuG,MAAM9R,OAC/B,KAAI+K,EAQP,OAAO,KAPPW,EAAkBrL,EAAMqL,gBACxBxD,EAAW7H,EAAM6H,SACjBqD,EAAamG,GAAmB,IAAI7Q,YAAU,GAC9C4K,EAAaK,YAA2BzL,EAAMC,QAC9CuR,EAAiBtG,EAAWuG,MAAM/G,EAAa/J,SAC/CA,EAAU+J,EAAa/J,QAM3B,IACM+Q,EAAyB9J,YAAmBsD,EAAYrD,EAAUwD,GAClEM,EAAiB/D,YAAmBjH,EAASkH,EAAUwD,GAEvDO,GADwBhE,YAAmB4J,EAAgB3J,EAAUwD,EAAkB,GAC7E1P,GAASA,EAAMwO,OAAS,QAJtB,SAI4CiB,GACxDS,EACS,OAAXpJ,GAAoBA,GAAUA,EAAOqJ,cAAcZ,IAAiBzI,GAAUA,EAAOuM,UAAU,GA8BnG,OACI,cAACjD,EAAA,EAAD,CAAOR,KAAMA,EAAMS,OAAQV,EAAYW,UAAQ,EAA/C,SACI,cAACF,EAAA,EAAMG,KAAP,CAAYnD,MAAO,CAAEC,QAAS,IAA9B,SACI,eAACmD,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAKC,GAAI,GAAT,SACI,eAAC,GAAD,WAAQ,QAAR,IAAkBjB,OAEtB,cAACgB,EAAA,EAAD,CAAKC,GAAI,GAAT,SACI,cAAC,GAAD,CACIxE,SAAUA,EACVK,IAAK,EACLoE,IAAKpB,EACLxO,YAzCD,SAACsL,GACpBkJ,EAAUlJ,IAyCUvL,MAAOgG,EACPzC,MAAOA,EACPwI,SAAU4C,EACVzC,aAAa,EACbL,MAAK,kBACL3L,YAAa,IAAI6D,YAAU,GAAGmG,IAAI,IAAInG,YAAU,IAAI+L,IAAIlB,IAAkBmB,WAC1E1E,mBAAoBuD,MAI5B,cAACe,EAAA,EAAD,CAAKC,GAAI,GAAItD,MAAO,CAAE0D,aAAc,IAApC,SACI,eAAC,KAAD,WACI,eAAC,GAAD,WACI,cAAC,KAAD,UACI,cAAC,GAAD,CAAiBC,WAAY,IAAKC,MAAO,QAAzC,+BAIJ,cAAC,KAAD,UACI,cAAC,GAAD,CAAiBA,MAAO,QAASD,WAAY,IAA7C,SACKgF,SAIb,eAAC,GAAD,WACI,cAAC,KAAD,UACI,cAAC,GAAD,CAAiBhF,WAAY,IAAKC,MAAO,QAAzC,gCAIJ,cAAC,KAAD,UACI,cAAC,GAAD,CAAiBA,MAAO,QAASD,WAAY,IAA7C,SACKf,cAOrB,cAACS,EAAA,EAAD,CAAKC,GAAI,GAAInD,UAAW,sFAAxB,SACI,cAAC,GAAD,CACIA,UAAS,kBAAavN,GAASA,EAAMwO,OAAS,SAAW,WACzDyC,SAAUf,EACVgB,QAxEP,WACb,IAAI7M,EACJ,GAAI2K,EACA3K,EAAK,2BACErB,GADF,IAEDsB,OAAQ,YAET,KAAIyK,EAGP,OAAO,KAFP1K,EAAQ0K,EAAa1K,MAIzB,IAAM2R,EAAelP,GAAU,IAAIjC,YAAU,GAC7Ce,EAAMuJ,SAAS6G,EAAc3R,EAAO4K,EAAQD,IAwD5B,SAKKiB,c,o5BC7J7B,IAAMkB,GAAgBrR,UAAOkL,IAAV,MAaboG,GAAStR,UAAOiI,KAAV,MAQNsJ,GAAOvR,UAAOiI,KAAV,MAUJuJ,GAAWxR,UAAOiI,KAAV,MAwXCrC,gBAvWO,SAAAE,GAAU,IAAD,EACSxC,oBAAS,GADlB,mBACpBmO,EADoB,KACRC,EADQ,OAEuBpO,oBAAS,GAFhC,mBAEpBqO,EAFoB,aAGarO,oBAAS,IAHtB,mBAGpBsO,EAHoB,aAKiCtO,oBAAS,IAL1C,mBAKpB6S,EALoB,KAKIC,EALJ,OAM+B9S,oBAAS,GANxC,mBAMpB+S,EANoB,KAMGC,EANH,OAOuBhT,oBAAS,GAPhC,mBAOpByO,EAPoB,KAODC,EAPC,OAQmB1O,qBARnB,mBAQpB2O,EARoB,KAQHC,EARG,OASe5O,oBAAS,GATxB,mBASpBiT,EAToB,KASLC,EATK,OAUuBlT,qBAVvB,mBAUpB+O,EAVoB,KAUDC,EAVC,QAWmChP,mBAAS,IAAIyB,YAAU,IAX1D,qBAWpB0R,GAXoB,MAWKC,GAXL,SAYyBpT,mBAAS,IAAIyB,YAAU,IAZhD,qBAYpB4R,GAZoB,MAYAC,GAZA,SAaHtT,mBAAS,CAC7B2F,OAAO,EACPsJ,MAAO,SAfgB,qBAapBC,GAboB,MAadC,GAbc,MAkBnBnQ,GAAYD,cAAZC,QACFuU,GAAWpU,YAAYqU,KACvBxO,GAAkB7F,YAAY8F,KAC9BlC,GAAWC,cACXoM,GAAcjQ,YAAYkQ,KAC1BC,GAAcnQ,YAAYoQ,KAC1BrN,GAAgBM,EAAMrB,cACtBP,GAAa4B,EAAM5B,WACnB4O,GAAkBhN,EAAMX,gBACxBM,GAAmBK,EAAM1B,YAEzB2O,IADmBtQ,YAAYuQ,KACZvQ,YAAY4F,MA6C/B4K,GAAYnQ,mBAAQ,WACtB,IAAM4H,EAAOgI,GAAYQ,KAAI,SAAAC,GAAW,IAC5B5O,EAAkC4O,EAAlC5O,MAAOW,EAA2BiO,EAA3BjO,QAAS6R,EAAkB5D,EAAlB4D,cAEhBvS,EAAWD,EAAXC,OACFwS,EAAUH,GAASxS,MAAK,SAAA4S,GAAC,OAAIA,EAAE9H,OAAOlC,KAAOkG,EAAO9P,WACpD+P,EAAaC,YAAY9O,GACzB0K,EAAezJ,GAAcnB,MAAK,SAAAiP,GAAE,OAAIA,EAAG/O,MAAMC,SAAWA,KAClE,GAAImN,GAKIoF,GAAiBA,EAAcxD,UAAU,GACzC,OAAO,KAGf,GAAI3B,IACKrN,EAAMqN,aACP,OAAO,KAIf,IAGIsF,EACAC,EAJEzD,EAAON,EACPN,IAAmB,IAAI/N,YAAU,GAChCkK,GAAgBA,EAAa/J,SAAY,IAAIH,YAAU,GAG1DwQ,EAAqB,IAAIxQ,YAAU,GACnCqS,EAAiC,IAAIrS,YAAU,GAEnD,GAAIzC,IAAWyU,GAAiBC,GAAW1O,GAAiB,CACxD,IAAM+O,EAAaL,EAAQM,MAAMD,WAC3BE,EAA6BjP,GAAgBkB,oBACnD+L,EAAqBjN,GAAgBkB,oBACrC4N,EAAiCG,EAC5BrO,UAAU,IAAInE,YAAUsS,GAAYnM,IAAI,IAAInG,YAAU,IAAI+L,IAAIvM,EAAM6H,YACpEoL,aAAazS,YAAU0S,YAC5B,IAAMC,EAA2BvL,YAC7B4K,EACAxS,EAAM6H,SACN7H,EAAMqL,iBAEJ+H,EAAqCxL,YACvCiL,EACA7S,EAAM6H,SACN7H,EAAMqL,iBAEJiE,EAAajB,IAAeA,GAAYvO,MAAK,SAAAyP,GAAC,OAAIA,EAAEC,OAASxP,EAAMwP,QAChD,WAArBhB,IACAmE,EAAgC,UAAMS,EAAN,YAA4C3D,YACxExP,IAEJ2S,EAAsB,UAAMO,EAAN,YAAkC1D,YAAkBxP,MAE1E0S,EAAmCrD,EAAU,UACpCA,EAAWI,UACX7K,aAAa,IAAIrE,YAAU4S,IAC3BxO,QAAQ,GAH4B,KAIvC,IACNgO,EAAyBtD,EAAU,UAC1BA,EAAWI,UAAU7K,aAAa,IAAIrE,YAAU2S,IAA2BvO,QAAQ,GADzD,KAE7B,UAGV+N,EAAmC,IACnCC,EAAyB,IAG7B,IAAMjD,EAAG,UAAMf,EAAOuC,mBACjBxM,UAAU,QACVE,aAAa,KACbD,QAAQ,GAHJ,MAKHgL,EAAYf,EAAa,WAAa7O,EAAM8I,KAC5C+G,EAAchB,EAAa,MAAQ7O,EAAMC,OAAOsJ,cAEtD,MAAO,CACHvJ,QACAC,SACA4P,cACAD,YACA+C,mCACAE,iCACAD,yBACA5B,qBACAwB,gBACA7C,MACAhP,UACAwO,OACAN,aACAD,aAKR,OAAOkB,aAAW3J,EAAM8H,MACzB,CAACE,GAAaF,KAEXoF,GAAmB,WACrBxB,GAA0B,IAExByB,GAAkB,WACpBvB,GAAyB,IAIvBhC,GAAY,uCAAG,WAAOtN,EAAQzC,EAAO4K,EAAQD,GAA9B,SAAAxL,EAAA,yDACjBsO,GAAqB,GADJ,UAITuE,EAJS,gCAKHlQ,GAASyR,YAAsB9Q,EAAQzC,EAAO4K,EAAQD,EAAOsF,IAASC,KAAMvQ,GAAYuB,GAAkBqN,KALvG,6CAOHzM,GAAS0R,YAAqB/Q,EAAQzC,EAAO4K,EAAQD,EAAOsF,IAASC,KAAMvQ,GAAYuB,GAAkBqN,KAPtG,uBAUbd,GAAqB,GACjBuE,EACAqB,KAEAC,KAdS,yEAAH,4DAkBZ3U,GAAYH,cAAiBI,eAQ7BwR,GAAqBlP,GAAmBA,GAAiBP,QAAQG,KAAKnB,IAAc,IAAIa,YAAU,GAYlG8E,GAAU,CACZ,CACIC,UAAW,YACXC,KAAM,QACNC,UAAW,SAACC,EAAaC,EAAKC,GAC1B,IAAMnF,EAAW,IAAIoI,IAAM,EAAGlD,EAAI3F,MAAMlB,QAAS6G,EAAI3F,MAAM6H,SAAUlC,EAAI3F,MAAMC,OAAQ0F,EAAI3F,MAAM8I,MACjG,OACI,sBAAoBI,UAAU,8FAA9B,UACI,cAAC,GAAD,UAAe,cAACC,EAAA,EAAD,CAAc1I,SAAUA,MACvC,sBAAKyI,UAAU,iEAAf,UACI,cAAC,GAAD,CAAQA,UAAW,mBAAnB,SAAwCvD,EAAIkK,cAC5C,cAAC,GAAD,CAAM3G,UAAW,mBAAjB,SAAsCvD,EAAIiK,iBAJxChK,IASlBqI,MAAM,GAEV,CACI1I,UAAW,mCACXC,KAAM,uBACNC,UAAW,SAACC,EAAaC,EAAKC,GAC1B,OACI,cAAC,GAAD,UAAWD,EAAIgN,oCAGvB1E,MAAM,GAEV,CACI1I,UAAW,yBACXC,KAAM,iBACNC,UAAW,SAACC,EAAaC,EAAKC,GAC1B,OACI,cAAC,GAAD,UAAWD,EAAIiN,0BAGvB3E,MAAM,GAEV,CACI1I,UAAW,MACXC,KAAM,cACNC,UAAW,SAACC,EAAaC,EAAKC,GAC1B,OACI,cAAC,GAAD,UAAWD,EAAIgK,OAGvB1B,MAAM,GAEV,CACI1I,UAAW,UACXC,KAAM,UACNC,UAAW,SAACC,EAAaC,EAAKC,EAAnB,GAAsE,IAAvC6N,EAAsC,EAAtCA,gBAAiBC,EAAqB,EAArBA,eAC/CvE,EAAuGxJ,EAAvGwJ,KAAMP,EAAiGjJ,EAAjGiJ,OAAQC,EAAyFlJ,EAAzFkJ,WAAY7O,EAA6E2F,EAA7E3F,MAAOwS,EAAsE7M,EAAtE6M,cAAeK,EAAuDlN,EAAvDkN,+BAAgC7B,EAAuBrL,EAAvBqL,mBACxF,OACI,sBAAK9H,UAAW,iIAAhB,UACI,cAAC,aAAD,UACI,cAAC,cAAD,CACI2D,QAAS4G,EAAgBlD,KAAK,GAAM3B,EAAQC,EAAYM,EAAMnP,EAAO6S,GACrEjG,SAAUoE,EAAmBhC,UAAU,KAAOjR,GAFlD,sBAQJ,cAAC,aAAD,UACI,cAAC,cAAD,CACI4F,QAAS,UACTkJ,QAAS6G,EAAenD,KAAK,GAAM3B,EAAQC,EAAYM,EAAMnP,EAAOwS,GACpE5F,SAAW4F,GAAiBA,EAAcxD,UAAU,KAAQjR,GAHhE,yBAWhByS,UAAU,EACVC,gBAAiB,CACbgD,gBA7PY,WAAc,IAAD,uBAAT7W,EAAS,yBAATA,EAAS,oBAC1BgS,EAAmEhS,EADzC,GAClBiS,EAA2DjS,EADzC,GACNuS,EAA+CvS,EADzC,GACAoD,EAAyCpD,EADzC,GACOiW,EAAkCjW,EADzC,GAEjC+Q,EAAmBiB,GACnBiD,GAA0B,GACtBhD,GACA1B,GAAc,GACdY,EAAqB,2BAAK7M,IAAN,IAAwBP,QAASwO,OAErDhC,GAAc,GACdY,EAAqB9M,GAAcnB,MAAK,SAAAiP,GAAE,OAAIA,EAAG/O,QAAUA,OAE/DmS,GAA2BU,GAC3BZ,GAAiB,IAkPTyB,eA/OW,WAAc,IAAD,uBAAT9W,EAAS,yBAATA,EAAS,oBACzBgS,EAAkDhS,EADzB,GACjBiS,EAA0CjS,EADzB,GACLuS,EAA8BvS,EADzB,GACCoD,EAAwBpD,EADzB,GACQ4V,EAAiB5V,EADzB,GAEhC+Q,EAAmBiB,GACfC,GACA1B,GAAc,GACdY,EAAqB,2BAAK7M,IAAN,IAAwBP,QAASwO,OAErDhC,GAAc,GACdY,EAAqB9M,GAAcnB,MAAK,SAAAiP,GAAE,OAAIA,EAAG/O,QAAUA,OAE/DqS,GAAsBG,GAAiB,IAAIhS,YAAU,IACrDuR,GAAyB,GACzBE,GAAiB,OAyOf0B,GACF,qCACK/B,GAA0BlE,GACvB,cAAC,GAAD,CACInC,KAAMqG,EACNlH,aAAcoD,EACdgD,aAActD,EACdwD,mBAAoBkB,GACpBpH,SAAUiF,GACVnF,OAAQ8C,EACRpC,WAAY+H,GACZ1T,WAAYyQ,GACZzF,MAAOuC,EACPvO,UAAWA,KAGlBmT,GAAyBpE,GACtB,cAAC,GAAD,CACInC,KAAMuG,EACNpH,aAAcoD,EACdgD,aAActD,EACd1C,SAAUiF,GACVsB,gBAAiBe,GACjBxH,OAAQ8C,EACRpC,WAAYgI,GACZ3T,WAAYyQ,GACZzF,MAAOuC,EACPvO,UAAWA,QAM3B,OACI,sBAAKuK,UAAU,qBAAf,UAEI,cAAC,IAAD,CACIrD,eAAe,qCACfC,UAAU,EACVC,QAAQ,+FACRC,YAAU,EACVE,QAAM,EACND,SAAS,KACTE,KAAMuI,GACNpJ,QAASA,GACToL,cA3IU,SAAClT,EAAMmT,GACb,SAATnT,GACC0Q,GAAQ,CACJxJ,MAAOiM,EAAQC,UACf5C,MAAO2C,EAAQE,eA0InB,cAACzK,EAAA,EAAD,CAAiBC,WAAY,KAAMf,QAASA,GAASa,KAAMuI,GAAWpI,UAAW,QAEhFqN,S,65CCnab,ICFI9R,GACA+R,GDCEC,GAAYpY,kBAAO2Q,IAAP3Q,CAAH,MAQTqY,GAAYrY,kBAAOsY,IAAPtY,CAAH,MAWTuY,GAAgBvY,kBAAOsY,IAAIE,KAAXxY,CAAH,MAqBbyY,GAAgBzY,kBAAOsY,IAAII,KAAX1Y,CAAH,MAER,qBAAGG,MAAkBwY,WAmBnB,qBAAGxY,MAAkBwY,WAKV,qBAAGxY,MAAkBwY,WA+D9BC,GA3DM,SAAA9S,GAAU,IACnBxD,EAAYD,cAAZC,QADkB,EAEOuW,mBAAS9N,EAAmB,CACzDpD,OAAQC,cACRkR,aAAc,MAFVC,EAFkB,EAElBA,QAAS7Y,EAFS,EAETA,MAAOwK,EAFE,EAEFA,KAIlBrE,EAAWC,cACX0S,EAAmBvW,YAAYuQ,KAqBrC,OAlBAnP,qBAAU,WACDkV,GAAY7Y,IAASwK,IACtBrE,EAAS4S,YAA2BvO,EAAKmM,WACrCmC,IAAqBE,IAAiBC,UACtC9S,EAAS+S,YAAS9W,IAElB+D,EAASgT,YAAU/W,OAG5B,CAACyW,EAASrO,EAAMpI,IAGnByG,YAAW,sBAAC,sBAAArF,EAAA,sDACJpB,GAAWoI,IAASqO,IAAY7Y,GAChCmG,EAASgT,YAAU/W,IAFf,2CAIT,KAGC,cAAC,IAAD,UACI,cAACgX,EAAA,EAAIlO,UAAL,CAAemO,iBAAiB,UAAhC,SACI,eAAC7I,EAAA,EAAD,WACI,cAAC0H,GAAD,CAAWxH,GAAI,GAAInD,UAAW,mIAA9B,SACI,eAAC4K,GAAD,CAAWmB,MAAI,EAACtR,QAAQ,QAAQuF,UAAW,iDAA3C,UACI,cAAC8K,GAAD,UACI,cAACE,GAAD,CAAegB,SAAS,UAAxB,uBAEJ,cAAClB,GAAD,UACI,cAACE,GAAD,CAAegB,SAAS,SAAxB,2BAKZ,cAAC9I,EAAA,EAAD,CAAKC,GAAI,GAAT,SACI,eAAC0I,EAAA,EAAII,QAAL,CAAajM,UAAW,iBAAxB,UACI,cAAC6L,EAAA,EAAIK,KAAL,CAAUF,SAAS,UAAnB,SACI,cAAC,GAAD,MAEJ,cAACH,EAAA,EAAIK,KAAL,CAAUF,SAAS,SAAnB,SACI,cAAC,GAAD,mB,6DE7EjB7T,I,6BAAAA,aAzCC,SAAAE,GAAU,IAAD,EACWxC,oBAAS,GADpB,mBACdsW,EADc,KACJC,EADI,KAEbvX,EAAYD,cAAZC,QACF4D,EAAczD,YAAY0D,KACxB/B,EAAgB0B,EAAhB1B,YACA0V,EAAuC5T,EAAvC4T,mBAAoBC,EAAmB7T,EAAnB6T,eACtB3T,EAAON,EAAMM,KACbC,EAAWC,cAIX0T,EAFSD,EAAe/D,MAAM8D,GACTzJ,cAAc,GACJ,MAAQ,OAGvC4J,EAAY,uCAAG,4BAAAvW,EAAA,+EAGe2C,EAAS6T,YAAkB9V,EAAa2V,EAAgBzX,EAAS8D,EAAKK,gBAHrF,cAGP0T,EAHO,OAIbN,GAAY,GAJC,SAKIzT,EAAKkB,6BAA6B6S,GALtC,gBAQTN,GAAY,GACZxT,EAASkB,gBATA,kDAabsS,GAAY,GACZ/T,EAAM0B,YAdO,0DAAH,qDAsBlB,OAJA3D,qBAAU,WACNoW,MACD,CAAC/T,IAGA,cAAC,KAAD,CAA4BsB,UAAWoS,EAAW,kBAAM,MAAO9T,EAAM0B,UAAWC,YAAamS,EAAW,cAAH,kBAA8BI,SCc5HI,gBAhBS,SAAAnO,GACpB,MAAO,CACHoO,KAAMlU,YAAyB8F,GAC/BqO,QAASC,YAAWtO,OAID,SAAA5F,GACvB,MAAO,CACHmU,qBAAsB,SAACjW,EAAOkW,EAAWzT,EAAQkI,EAAO5M,GAAlC,OAClB+D,EC3DoB,SAC5B9B,EACAkW,EACAzT,EACAkI,EACA5M,GAEA,8CAAO,WAAO+D,EAAUqU,GAAjB,mBAAAhX,EAAA,sDACGuI,EAAQyO,IACRC,EAAWC,YAAgB3O,GAF9B,KAGK0O,EAHL,cAIMnG,IAASC,KAJf,wBAKWoG,EAASxU,EAASyU,YAAcvW,EAAOkW,EAAWzT,EAAQkI,EAAO5M,IAL5E,kBAMYuY,GANZ,6EAAP,wDDoDiBE,CAAiBxW,EAAOkW,EAAWzT,EAAQkI,EAAO5M,KAC/D0Y,uBAAwB,SAACzW,EAAOkW,EAAWzT,EAAQkI,EAAO5M,GAAlC,OACpB+D,ECDsB,SAC9B9B,EACAkW,EACAzT,EACAkI,EACA5M,GAEA,8CAAO,WAAO+D,EAAUqU,GAAjB,mBAAAhX,EAAA,sDACGuI,EAAQyO,IACRC,EAAWC,YAAgB3O,GAF9B,KAGK0O,EAHL,cAIMnG,IAASC,KAJf,wBAKWoG,EAASxU,EAAS4U,YAAgB1W,EAAOkW,EAAWzT,EAAQkI,EAAO5M,IAL9E,kBAMYuY,GANZ,6EAAP,wDDNiBK,CAAmB3W,EAAOkW,EAAWzT,EAAQkI,EAAO5M,QAI1D8X,EA7DM,SAAAtU,GAAU,IAAD,EACIxC,oBAAS,GADb,mBACnByV,EADmB,KACVoC,EADU,KAElB7Y,EAAYD,cAAZC,QAEA+X,EAAuDvU,EAAvDuU,KAAMG,EAAiD1U,EAAjD0U,qBAAsBQ,EAA2BlV,EAA3BkV,uBAC5BhU,EAA+CqT,EAA/CrT,OAAQzC,EAAuC8V,EAAvC9V,MAAO2K,EAAgCmL,EAAhCnL,MAAOuL,EAAyBJ,EAAzBI,UAAWrL,EAAciL,EAAdjL,UAEnCO,EAAaT,EAAQc,YAA2B,OAASA,YAA2BzL,EAAMC,QAC1F4H,EAAW8C,EAAQ,GAAKmL,EAAK9V,MAAM6H,SACnCgP,EAAmB,UAAMjP,YAC3BkO,EAAKrT,OACLoF,EACAiO,EAAK9V,MAAMqL,iBACbmB,WAJuB,YAITpB,GAEVvJ,EAAON,EAAMM,KAEbiV,EAAO,uCAAG,4BAAA3X,EAAA,mEAGO0L,EAHP,gCAIIoL,EAAqBjW,EAAOkW,EAAWzT,EAAQkI,EAAO5M,GAJ1D,0DAKI0Y,EAAuBzW,EAAOkW,EAAWzT,EAAQkI,EAAO5M,GAL5D,kCAGFuY,EAHE,KAMRM,GAAW,GANH,UAOS/U,EAAKkB,6BAA6BuT,GAP3C,iBASJM,GAAW,GACXrV,EAAMwV,OAAOT,IAVT,kDAcRM,GAAW,GACXrV,EAAM0B,YAfE,0DAAH,qDAuBb,OAJA3D,qBAAU,WACNwX,MACD,CAAChB,IAGA,cAAC,KAAD,CAA4B7S,UAAWuR,EAAU,kBAAM,MAAOjT,EAAM0B,UAAWC,YAAasR,EAAO,8CAA4CzW,EAA5C,eAA0D8M,EAAY,UAAY,WAAlF,YAAgGgM,EAAhG,UEqB5FhB,gBAhBS,SAAAnO,GACpB,MAAO,CACHoO,KAAMlU,YAAyB8F,GAC/BqO,QAASC,YAAWtO,OAID,SAAA5F,GACvB,MAAO,CACHkV,oBAAqB,SAAChX,EAAOkW,EAAWzT,EAAQkI,EAAO5M,GAAlC,OACjB+D,EDxCmB,SAC3B9B,EACAkW,EACAzT,EACAkI,EACA5M,GAEA,8CAAO,WAAO+D,EAAUqU,GAAjB,mBAAAhX,EAAA,sDACGuI,EAAQyO,IACRC,EAAWC,YAAgB3O,GAF9B,KAGK0O,EAHL,cAIMnG,IAASC,KAJf,wBAKWoG,EAASxU,EAASmV,YAAajX,EAAOkW,EAAWzT,EAAQkI,EAAO5M,IAL3E,kBAMYuY,GANZ,6EAAP,wDCiCiBY,CAAgBlX,EAAOkW,EAAWzT,EAAQkI,EAAO5M,KAC9DoZ,mBAAoB,SAACnX,EAAOkW,EAAWzT,EAAQkI,EAAO5M,GAAlC,OAChB+D,EDtBkB,SAC1B9B,EACAkW,EACAzT,EACAkI,EACA5M,GAEA,8CAAO,WAAO+D,EAAUqU,GAAjB,mBAAAhX,EAAA,sDACGuI,EAAQyO,IACRC,EAAWC,YAAgB3O,GAF9B,KAGK0O,EAHL,cAIMnG,IAASC,KAJf,wBAKWoG,EAASxU,EAASsV,YAAYpX,EAAOkW,EAAWzT,EAAQkI,EAAO5M,IAL1E,kBAMYuY,GANZ,6EAAP,wDCeiBe,CAAerX,EAAOkW,EAAWzT,EAAQkI,EAAO5M,QAItD8X,EA9DM,SAAAtU,GAAU,IAAD,EACIxC,oBAAS,GADb,mBACnByV,EADmB,KACVoC,EADU,KAElB7Y,EAAYD,cAAZC,QAEA+X,EAAkDvU,EAAlDuU,KAAMkB,EAA4CzV,EAA5CyV,oBAAqBG,EAAuB5V,EAAvB4V,mBAC3B1U,EAA8CqT,EAA9CrT,OAAQzC,EAAsC8V,EAAtC9V,MAAO2K,EAA+BmL,EAA/BnL,MAAOuL,EAAwBJ,EAAxBI,UAAWoB,EAAaxB,EAAbwB,SAEnClM,EAAaT,EAAQc,YAA2B,OAASA,YAA2BzL,EAAMC,QAC1F4H,EAAW8C,EAAQ,GAAKmL,EAAK9V,MAAM6H,SAEnCgP,EAAmB,UAAMjP,YAC3BkO,EAAKrT,OACLoF,EACAiO,EAAK9V,MAAMqL,iBACbmB,WAJuB,YAITpB,GAEVvJ,EAAON,EAAMM,KAEb0V,EAAS,uCAAG,4BAAApY,EAAA,mEAEKmY,EAFL,gCAGEN,EAAoBhX,EAAOkW,EAAWzT,EAAQkI,EAAO5M,GAHvD,0DAIEoZ,EAAmBnX,EAAOkW,EAAWzT,EAAQkI,EAAO5M,GAJtD,kCAEJuY,EAFI,KAMVM,GAAW,GAND,UAOO/U,EAAKkB,6BAA6BuT,GAPzC,iBASNM,GAAW,GACXrV,EAAMwV,OAAOT,IAVP,kDAcVM,GAAW,GACXrV,EAAM0B,YAfI,0DAAH,qDAuBf,OAJA3D,qBAAU,WACNiY,MACD,CAACzB,IAGA,cAAC,KAAD,CAA4B7S,UAAWuR,EAAU,kBAAM,MAAOjT,EAAM0B,UAAWC,YAAasR,EAAO,8CAA4CzW,EAA5C,eAA0DuZ,EAAW,SAAW,QAAhF,YAA2FT,EAA3F,UJ2B5FW,GA3DO,SAAAjW,GAAU,IAAD,EACOxC,oBAAS,GADhB,mBACpB0Y,EADoB,KACTC,EADS,OAEC3Y,mBAAS,MAFV,mBAEpBuX,EAFoB,KAEZqB,EAFY,KAGrBhW,EAAczD,YAAY0D,KAC1BE,EAAWC,cACX6V,EAAyB,OAAhBjW,EAEfrC,qBAAU,WACNuC,GAAO,IAAIgW,KAAKC,kEAChBlE,GAAc,IAAImE,eAAYlW,GAAKmW,iBACpC,IAEH,IAAMC,EAAY,WACdP,GAAa,GACbC,EAAU,MACV7V,EAASoW,YAAyB,QAGhCnB,EAAS,SAACjU,GACZ4U,GAAa,GACbC,EAAU7U,IAGd,OACI,qCACKvB,EAAM+B,SACP,cAACyI,EAAA,EAAD,CAAOR,KAAMqM,EAAQ3L,UAAQ,EAACD,OAAQiM,EAAtC,SACI,cAAClM,EAAA,EAAMG,KAAP,CAAYhD,UAAW,YAAvB,SACMuO,EAsBE,cAAC,KAAD,CAA6BU,QAASC,IAAUC,KAAM/B,EAAQrT,UAAWgV,IArBzE,qCACKtW,GAAeA,EAAY2W,OAASC,KAASC,iBACzC,cAAChX,GAAA,EAAD,CAAayB,UAAWgV,EAAWpW,KAAM+R,KAE7CjS,GAAeA,EAAY2W,OAASC,KAASE,SACzC,cAAC,GAAD,CAASxV,UAAWgV,EAAWpW,KAAM+R,KAEzCjS,GAAeA,EAAY2W,OAASC,KAASG,cACzC,cAAC,GAAD,CAAczV,UAAWgV,EAAWlB,OAAQA,EAAQlV,KAAM+R,KAE9DjS,GAAeA,EAAY2W,OAASC,KAASI,gBACzC,cAAC,GAAD,CAAc1V,UAAWgV,EAAWlB,OAAQA,EAAQlV,KAAM+R,KAE9DjS,GAAeA,EAAY2W,OAASC,KAASK,YACzC,cAACC,GAAD,CAAa5V,UAAWgV,EAAWlB,OAAQA,EAAQlV,KAAM+R,KAE7DjS,GAAeA,EAAY2W,OAASC,KAASM,aACzC,cAACA,GAAD,CAAa5V,UAAWgV,EAAWlB,OAAQA,EAAQlV,KAAM+R,gB,6JKvD1F,IAAMkF,GAAYrd,kBAAO0Q,IAAP1Q,CAAH,MA0BAsd,UAlBA,SAAAxX,GACX,OACI,cAACyX,EAAA,EAAD,UACI,eAAC,EAAD,WACI,cAAC,GAAD,IACA,eAACF,GAAD,WACI,cAAC1M,EAAA,EAAD,CAAKC,GAAI,GAAT,SACI,cAAC,EAAD,MAEJ,cAACD,EAAA,EAAD,CAAKC,GAAI,GAAT,SACI,cAAC,GAAD","file":"static/js/28.5dc7f62e.chunk.js","sourcesContent":["import React from 'react'\nimport styled from 'styled-components'\nimport { escapeRegExp } from '../../utils'\n\nconst StyledInput = styled.input<{ error?: boolean; fontSize?: string; align?: string, noBorder?: boolean, reverse?: boolean, size?: string }>`\n  color: ${({ error, theme }) => (error ? theme.red1 : theme.text1)};\n  width: 0;\n  position: relative;\n  font-weight: 500;\n  font-family: inherit;\n  outline: none;\n  border: none;\n  flex: 1 1 auto;\n  background-color: rgba(33, 36, 41, 0.5);\n  font-size: 1rem;\n  text-align: ${({ align }) => align && align};\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  height: ${({ size}) => size === 'sm' ? '48px' : '56px'};\n  border-bottom-right-radius: ${({ reverse }) => reverse ? '0' :  `1.125rem`};\n  border-top-right-radius: ${({ reverse }) => reverse ? '0' :  `1.125rem`};\n  border-bottom-left-radius: ${({ reverse }) => reverse ? '1.125rem' :  `0`};\n  border-top-left-radius: ${({ reverse }) => reverse ? '1.125rem' :  `0`};\n  padding-right: 0.625rem;\n  padding-left: ${({ noBorder, reverse }) => reverse ? '1.375rem' : noBorder ? '0.625rem' : `1.5rem`};\n  -webkit-appearance: textfield;\n  border-left: ${({ theme, noBorder }) => noBorder ? 'none' :  `3px solid ${theme.modalBG}`};\n  \n  @media (min-width: 768px) {\n    \n    padding-right: 4.5625rem;\n  }\n\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n\n  [type='number'] {\n    -moz-appearance: textfield;\n  }\n\n  ::-webkit-outer-spin-button,\n  ::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n  }\n\n  ::placeholder {\n    color: rgba(255, 255, 255, .5);\n  }\n`\n\nconst inputRegex = RegExp(`^\\\\d*(?:\\\\\\\\[.])?\\\\d*$`) // match escaped \".\" characters via in a non-capturing group\n\nexport const Input = React.memo(function InnerInput({\n  value,\n  onUserInput,\n  placeholder,\n  size,\n  ...rest\n}: {\n  value: string | number\n  onUserInput: (input: string) => void\n  error?: boolean\n  fontSize?: string\n  size?: string\n  align?: 'right' | 'left'\n} & Omit<React.HTMLProps<HTMLInputElement>, 'ref' | 'onChange' | 'as'>) {\n  const enforcer = (nextUserInput: string) => {\n    if (nextUserInput === '' || inputRegex.test(escapeRegExp(nextUserInput))) {\n      onUserInput(nextUserInput)\n    }\n  }\n\n  return (\n    <StyledInput\n      {...rest}\n      value={value}\n      onChange={event => {\n        // replace commas with periods, because uniswap exclusively uses period as the decimal separator\n        enforcer(event.target.value.replace(/,/g, '.'))\n      }}\n      // universal input options\n      inputMode=\"decimal\"\n      title=\"Token Amount\"\n      autoComplete=\"off\"\n      autoCorrect=\"off\"\n      size={size}\n      // text-specific options\n      type=\"text\"\n      pattern=\"^[0-9]*[.,]?[0-9]*$\"\n      placeholder={placeholder || '0.0'}\n      minLength={1}\n      maxLength={79}\n      spellCheck=\"false\"\n    />\n  )\n})\n\nexport default Input\n\n// const inputRegex = RegExp(`^\\\\d*(?:\\\\\\\\[.])?\\\\d*$`) // match escaped \".\" characters via in a non-capturing group\n","import { useMemo, useState, useEffect } from 'react';\nimport {tokensToTokenBalances} from \"../utils/spot/tokens\";\nimport {useActiveWeb3React} from \"./index\";\nimport {useSelector} from \"react-redux\";\nimport {getBaseToken, getQuoteToken, searchToken} from \"../state/selectors\";\nimport {getKnownTokens} from \"../utils/known_tokens\";\nimport {useETHBalances} from \"../state/wallet/hooks\";\nimport {BigNumber} from \"@0x/utils\";\n\nexport const useTokenToBalance = (tokens, address, library) => {\n    const [balances, setBalances] = useState([]);\n\n    const fetchBalances = async () => {\n        const res = await tokensToTokenBalances(tokens, address, library)\n        setBalances(res);\n    }\n    useEffect(() => {\n        fetchBalances()\n    }, [address, tokens])\n\n    return useMemo(() => {\n        if(balances.length > 0) {\n            return balances;\n        } else {\n            return []\n        }\n    }, [address, balances, tokens])\n}\n\n\nexport const useSpotBalances = () => {\n    const { account, library } = useActiveWeb3React()\n\n    const baseToken = useSelector(getBaseToken);\n    const quoteToken = useSelector(getQuoteToken);\n\n    const knownTokens = useMemo(() => {\n        return getKnownTokens();\n    }, [])\n    const tokens = useMemo(() => {\n        return knownTokens.getTokens()\n    }, [])\n\n    const wethToken = useMemo(() => {\n        return knownTokens.getWethToken()\n    }, []);\n\n    const t = useMemo(() => {\n        return [...tokens, wethToken]\n    }, [wethToken, tokens])\n    const allBalances = useTokenToBalance(t, account, window.ethereum || library);\n\n    const ethBalance = useETHBalances([account])\n\n    const wethBalance = useMemo(() => {\n        return allBalances.find(b => b.token.symbol === wethToken.symbol);\n    }, [allBalances])\n\n    const tokensBalance = useMemo(() => {\n        return allBalances.filter(b => b.token.symbol !== wethToken.symbol);\n    }, [allBalances])\n\n    const ethereumBalance = useMemo(() => {\n        const ETH = ethBalance[account] ? ethBalance[account].toExact() : null\n        const bn = new BigNumber(ETH * (10 ** 18))\n\n        return {\n            token: ethBalance[account] ? ethBalance[account].currency : undefined,\n            balance: bn\n        }\n    }, [ethBalance]);\n\n    const totalEthBalance = useMemo(() => {\n        if(wethBalance && ethereumBalance) {\n            let total = wethBalance.balance;\n            if(ethereumBalance.token !== undefined) {\n                total = ethereumBalance.balance.plus(wethBalance.balance);\n            }\n\n            return total;\n        } else {\n            return undefined;\n        }\n    }, [ethereumBalance, wethBalance])\n\n    const baseTokenBalance = useMemo(() => {\n\n        return searchToken({ tokenBalances: tokensBalance, wethTokenBalance: wethBalance, tokenToFind: baseToken });\n    }, [baseToken, tokensBalance, wethBalance])\n\n    const quoteTokenBalance = useMemo(() => {\n\n        return searchToken({ tokenBalances: tokensBalance, wethTokenBalance: wethBalance, tokenToFind: quoteToken });\n    }, [quoteToken, tokensBalance, wethBalance])\n\n    return useMemo(() => {\n        return {\n            quoteTokenBalance,\n            baseTokenBalance,\n            totalEthBalance,\n            ethBalance: ethereumBalance,\n            wethBalance,\n            tokensBalance,\n        }\n    }, [account, baseToken, quoteToken, allBalances, baseTokenBalance, quoteTokenBalance])\n}\n","import {useSpotBalances} from \"../../hooks/useTokenToBalance\";\n\n\nconst withBalance = Component => {\n    return props => {\n        const balances = useSpotBalances();\n\n        return (\n            <Component\n                {...props}\n                {...balances}\n            />\n        )\n    }\n\n}\n\nexport default withBalance;\n","import {ConfirmationPendingContent} from \"../../../../components/TransactionConfirmationModal\";\nimport React, {useEffect, useState} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\n\nimport {getStepsModalCurrentStep} from \"../../../../state/selectors\";\nimport {UNLIMITED_ALLOWANCE_IN_BASE_UNITS} from \"../../../../constants\";\nimport {useActiveWeb3React} from \"../../../../hooks\";\nimport {getContractWrappers} from \"../../../../utils/spot/contractWrapper\";\nimport {ERC20TokenContract} from \"@0x/contract-wrappers\";\nimport {stepsModalAdvanceStep} from \"../../../../state/spotUI/actions\";\n\nconst UnlockToken = props => {\n    const [unlocking, setUnlocking] = useState(false);\n    const { account, library } = useActiveWeb3React();\n    const currentStep = useSelector(getStepsModalCurrentStep);\n    const { address, token } = currentStep;\n    const web3 = props.web3;\n    const dispatch = useDispatch();\n\n    const unlockToken = async () => {\n        try {\n\n            const contractWrappers = await getContractWrappers(web3.getProvider());\n            const approveAddress = address ? address : contractWrappers.contractAddresses.erc20Proxy;\n\n            const erc20Token = new ERC20TokenContract(token.address, contractWrappers.getProvider());\n            const amount = UNLIMITED_ALLOWANCE_IN_BASE_UNITS;\n\n            const tx = await erc20Token.approve(approveAddress, amount).sendTransactionAsync({\n                from: account,\n            });\n            setUnlocking(true)\n            await web3.awaitTransactionSuccessAsync(tx);\n\n            if(tx) {\n                setUnlocking(false)\n                dispatch(stepsModalAdvanceStep());\n            }\n\n        } catch(e) {\n            setUnlocking(false)\n            props.onDismiss();\n        }\n    }\n\n    useEffect(() => {\n        unlockToken();\n    }, [currentStep])\n\n    return (\n        <ConfirmationPendingContent onDismiss={unlocking ? () => null : props.onDismiss} pendingText={unlocking ? 'Unlocking' : 'Waiting for confirmation'} />\n    )\n}\n\nexport default UnlockToken;\n","import { ApolloProvider } from '@apollo/react-hooks';\n\nimport {getAaveGraphClient} from \"../../../services/aave/aave\";\n\nconst GraphQlProvider = props => {\n    return (\n        <ApolloProvider client={getAaveGraphClient()}>\n            {props.children}\n        </ApolloProvider>\n    )\n}\n\nexport default GraphQlProvider;\n","import { BigNumber } from '@0x/utils';\nimport {useDispatch, useSelector} from \"react-redux\";\n\nimport './styles.scss';\nimport {useActiveWeb3React} from \"../../../hooks\";\nimport {getAaveCurrency, getAaveUserAccountData, getEthInUsd} from \"../../../state/selectors\";\nimport {getAaveOverall} from \"../../../services/aave/aave\";\nimport {setAaveUserAccountData} from \"../../../state/aave/actions\";\nimport React, {useEffect} from \"react\";\nimport useInterval from \"../../../hooks/useInterval\";\nimport Card from '../../../components/Card';\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport ResponsiveTable from \"../../../components/ResponsiveTable\";\nimport styled from \"styled-components\";\n\nconst StyledCard = styled(Card)`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  \n  & .card-body {\n    padding: 24px 20px 20px;\n  }\n  \n  @media (min-width: 1400px) {  \n    & .card-body {\n      padding: 24px;\n    }\n  }\n`\n\nconst Text = styled.span`\n  color: ${({theme, variant}) => variant ? theme[variant] : theme.text1};\n  font-size: 1rem;\n  font-weight: 700;\n`\n\nconst GlobalOverall = props => {\n    const { account } = useActiveWeb3React();\n    const currencySelector = useSelector(getAaveCurrency);\n    const isNative = currencySelector === 'NATIVE'\n    const dispatch = useDispatch();\n    const userAccountData = useSelector(getAaveUserAccountData);\n    const ethUsd = useSelector(getEthInUsd);\n\n    const fetchAaveGlobal = async () => {\n        const userAcc = await getAaveOverall(account);\n        dispatch(setAaveUserAccountData(userAcc));\n    };\n\n\n    // initial loading\n    useEffect(() => {\n        const loadingLendingPoolData = async () => {\n            if (account) {\n                await fetchAaveGlobal();\n            }\n        };\n\n        loadingLendingPoolData();\n    }, [account]);\n\n\n    // Update global state\n    useInterval(async () => {\n        if (account) {\n            await fetchAaveGlobal();\n        }\n    }, 30 * 1000);\n\n    const formatETHField = (field = undefined) => {\n        if (field) {\n            return isNative\n                ? `${field.dividedBy('1e18').toFixed(3)} ETH`\n                : ethUsd\n                    ? `${field\n                        .dividedBy('1e18')\n                        .multipliedBy(ethUsd)\n                        .toFixed(3)} USD`\n                    : '- USD';\n        } else {\n            return '-';\n        }\n    };\n\n\n    const totalLiquidity = formatETHField(userAccountData && userAccountData.totalLiquidity);\n    const totalCollateralETH = formatETHField(userAccountData && userAccountData.totalCollateralETH);\n    const totalBorrowsETH = formatETHField(userAccountData && userAccountData.totalBorrowsETH);\n    const availableBorrowsETH = formatETHField(userAccountData && userAccountData.availableBorrowsETH);\n    const currentLiquidationThreshold =\n        (userAccountData && `${userAccountData.currentLiquidationThreshold.toFixed(0)} %`) || '-';\n    const ltv = (userAccountData && `${userAccountData.ltv.toFixed(0)} %`) || '-';\n    let healthFactor = '-';\n    let healtFactorValue;\n    // const healthFactor = (userAccountData && userAccountData.healthFactor.toFixed(3)) || '-';;\n    if (userAccountData && userAccountData.totalBorrowsETH.gt(0)) {\n        healthFactor = userAccountData && userAccountData.healthFactor.dividedBy('1e18').toFixed(3);\n        healtFactorValue = new BigNumber(healthFactor);\n    }\n\n    const columns = [\n        {\n            dataField: \"total_liquidity\",\n            text: \"Total Liquidity\",\n            formatter: (cellContent, row, rowIndex) => {\n                return (\n                    <Text>{row.totalLiquidity}</Text>\n                )\n            },\n        },\n        {\n            dataField: \"total_collateral\",\n            text: \"Total Collateral\",\n            formatter: (cellContent, row, rowIndex) => {\n                return (\n                    <Text>{row.totalCollateralETH}</Text>\n                )\n            },\n        },\n        {\n            dataField: \"total_borrows\",\n            text: \"Total Borrows\",\n            formatter: (cellContent, row, rowIndex) => {\n                return (\n                    <Text>{row.totalBorrowsETH}</Text>\n                )\n            },\n        },\n        {\n            dataField: \"available\",\n            text: \"Available For Borrow\",\n            formatter: (cellContent, row, rowIndex) => {\n                return (\n                    <Text>{row.availableBorrowsETH}</Text>\n                )\n            },\n        },\n        {\n            dataField: \"liquidation_threshold\",\n            text: \"Liquidation Threshold\",\n            formatter: (cellContent, row, rowIndex) => {\n                return (\n                    <Text>{row.currentLiquidationThreshold}</Text>\n                )\n            },\n        },\n        {\n            dataField: \"ltv\",\n            text: \"LTV\",\n            formatter: (cellContent, row, rowIndex) => {\n                return (\n                    <Text>{row.ltv}</Text>\n                )\n            },\n        },\n        {\n            dataField: \"health_factor\",\n            text: \"Health Factor\",\n            formatter: (cellContent, row, rowIndex) => {\n                return (\n                    <Text>{row.healthFactor}</Text>\n                )\n            },\n        },\n    ]\n\n    return (\n        <StyledCard>\n            <BootstrapTable\n                wrapperClasses=\"d-none d-lg-block\"\n                bordered={false}\n                classes=\"table table-head-custom table-borderless table-vertical-center overflow-hidden global-overall__table mb-0\"\n                bootstrap4\n                keyField={'id'}\n                remote\n                data={[{totalLiquidity, totalCollateralETH, totalBorrowsETH, availableBorrowsETH, currentLiquidationThreshold, ltv, healthFactor}]}\n                columns={columns}\n            />\n            <ResponsiveTable breakpoint={'lg'} columns={columns} data={[{totalLiquidity, totalCollateralETH, totalBorrowsETH, availableBorrowsETH, currentLiquidationThreshold, ltv, healthFactor}]} direction={'rtl'} withoutBorder/>\n        </StyledCard>\n    )\n}\n\nexport default GlobalOverall;\n","/**\n * GraphQl Queries\n *\n */\nimport { gql } from 'apollo-boost';\n\nexport const GET_AAVE_RESERVES = gql`\n    {\n        reserves {\n            id\n            name\n            symbol\n            decimals\n            liquidityRate\n            variableBorrowRate\n            price {\n                priceInEth\n            }\n            stableBorrowRate\n            averageStableBorrowRate\n            aToken {\n                id\n            }\n        }\n    }\n`;\n\n/*export const GET_USER_AAVE_DATA = gql`\n{\n    query UserData($userAddress: String! ){\n        user(id: $userAddress){\n           id,\n           reserves{\n            id,\n            userBalanceIndex,\n            principalATokenBalance,\n            redirectedBalance,\n            principalBorrows,\n            borrowRateMode,\n            borrowRate,\n            usageAsCollateralEnabledOnUser,\n           }\n     }\n   }\n`;*/\n","import React, {useEffect, useState} from 'react'\nimport styled from 'styled-components'\n\nimport { RowBetween } from '../Row'\nimport { Input as NumericalInput } from '../NumericalInput'\nimport {tokenAmountInUnits, unitsInTokenAmount} from \"../../utils/spot/tokens\";\nimport {ZERO} from \"../../constants\";\nimport {ETHER, Token} from \"@uniswap/sdk\";\nimport {useCurrencyBalance} from \"../../state/wallet/hooks\";\nimport {useActiveWeb3React} from \"../../hooks\";\nimport CurrencyLogo from \"../CurrencyLogo\";\n\nconst InputRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap};\n  align-items: center;\n  \n  padding: 0.625rem 0 0;\n  \n  \n  @media (min-width: 768px) {\n    padding-top: 0.75rem;\n  }\n`\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 34px;\n  \n  @media (min-width: 768px) {\n    margin-bottom: 36px;\n  }\n`\n\nconst Label = styled.span`\n  color: white;\n  font-size: .875rem;\n  font-weight: 400;\n  padding: 0 ;\n  \n  @media (min-width: 768px) {\n    padding: 0 1rem;\n  font-weight: 700;\n  }\n`\n\nconst InputContainer = styled.div`\n  position: relative;\n  display: flex;\n  align-items: center;\n  flex-wrap: nowrap;\n  flex: 1;\n  \n`\n\nconst LabelRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap};\n  align-items: center;\n  color: ${({ theme }) => theme.text1};\n  font-size: 0.75rem;\n  line-height: 1rem;\n  padding: 0;\n`\n\n\nconst Aligner = styled.span`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  @media (min-width: 768px) {\n  justify-content: space-between;\n  }\n`\n\nconst InputPanel = styled.div`\n  ${({ theme }) => theme.flexColumnNoWrap};\n  position: relative;\n  border-radius: 0.42rem;\n`\n\n\nconst StyledTokenName = styled.span`\n  font-size:  0.875rem;\n  font-weight: 500;\n  margin-left: 15px;\n  \n  @media (min-width: 768px) {\n    font-size:  1rem;\n    margin-right: auto;\n  }\n\n`\n\n\nconst CurrencySelect = styled.button`\n  align-items: center;\n  height: 56px;\n  font-size: 0.875rem;\n  font-weight: 500;\n  background-color: rgba(33, 36, 41, 0.5);\n  color: white;\n  border-bottom-left-radius: 18px;\n  border-top-left-radius: 18px;\n  box-shadow: none;\n  outline: none;\n  cursor: pointer;\n  user-select: none;\n  border: none;\n  padding: 0.875rem 0.625rem;\n  min-width: 116px;\n  width: 116px;\n  text-align: center;\n  \n  \n  @media (min-width: 768px) {\n  min-width: 116px;\n  width: 116px;\n  padding: .625rem 1rem;\n  font-size: 1rem;\n  font-weight: 700;\n  text-align: left;\n  }\n\n  :focus,\n  :hover {\n    background-color: ${({ theme }) => theme.bg1};\n    outline: none;\n  }\n`\n\nlet BalanceRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap};\n  align-items: center;\n  margin-top: 10px;\n  color: ${({ theme }) => theme.text1};\n  opacity: 0.5;\n  font-size: 0.75rem;\n  font-weight: 400;\n  line-height: 1rem;\n  padding: 0;\n  \n  \n  @media (min-width: 768px) {\n    padding: 0 1rem;\n  }\n`\n\nexport default class BorrowInputPanel extends React.Component {\n    state = {\n        valueStr: this.props.value\n            ? tokenAmountInUnits(this.props.value, this.props.decimals, this.props.valueFixedDecimals)\n            : '',\n    }\n\n\n    _updateValue = value => {\n\n        const newValue = unitsInTokenAmount(value || '0', this.props.decimals);\n        const invalidValue = this.props.min && newValue.isLessThan(this.props.min);\n        if (invalidValue) {\n            return;\n        }\n\n        this.props.onUserInput(newValue);\n        this.setState({\n            valueStr: value,\n        })\n    };\n\n\n    static getDerivedStateFromProps = (props, state) => {\n        const { decimals, value, valueFixedDecimals } = props;\n        const { valueStr } = state;\n\n        if (!value) {\n            return {\n                valueStr: '',\n            };\n        } else if (value && !unitsInTokenAmount(valueStr || '0', decimals).eq(value)) {\n            return {\n                valueStr: tokenAmountInUnits(value, decimals, valueFixedDecimals),\n            };\n        } else {\n            return null;\n        }\n    };\n\n\n    render() {\n        const {\n            label = 'Input',\n            disable = false,\n            selected,\n            hideInput = false,\n            id,\n            showBalance = true,\n            balanceText,\n            token = undefined\n        } = this.props;\n        const { valueStr } = this.state;\n\n        const currency = token ? new Token(1, token.address, token.decimals, token.symbol, token.name) : undefined\n\n        return (\n            <InputPanel id={id}>\n                <Container>\n                    {!hideInput && (\n                        <LabelRow>\n                            <RowBetween>\n                                <Label>\n                                    {label}\n                                </Label>\n                            </RowBetween>\n                        </LabelRow>\n                    )}\n                    <InputRow style={hideInput ? { padding: '0', borderRadius: '0.42rem' } : {}} selected={disable}>\n                        <CurrencySelect\n                            selected={!!selected}\n                            className=\"open-currency-select-button\"\n                        >\n                            <Aligner>\n                                {token && (\n                                    <CurrencyLogo currency={currency} size={'24px'} />\n                                )}\n                                <StyledTokenName className=\"token-symbol-container\" active={Boolean(selected)}>\n                                    {(selected && selected?.length > 20\n                                        ? (selected?.slice(0, 4) +\n                                            '...' +\n                                            selected?.slice(selected?.length - 5, selected?.length)).toUpperCase()\n                                        : selected.toUpperCase()) || `Select`}\n                                </StyledTokenName>\n                            </Aligner>\n                        </CurrencySelect>\n\n                        {!hideInput && (\n                            <InputContainer>\n                                <NumericalInput\n                                    className=\"token-amount-input pl-3 \"\n                                    value={valueStr}\n                                    onUserInput={this._updateValue}\n                                />\n                            </InputContainer>\n                        )}\n                    </InputRow>\n                    {selected && showBalance && (\n                        <BalanceRow>\n                            {balanceText()}\n                        </BalanceRow>\n                    )}\n                </Container>\n            </InputPanel>\n        )\n    }\n\n}\n","import React from 'react';\nimport {Modal, Row, Col} from \"react-bootstrap\";\nimport {BigNumber} from \"@0x/utils\";\nimport styled from 'styled-components';\n\nimport {TX_DEFAULTS_TRANSFER} from \"../../../constants\";\nimport {tokenAmountInUnits, tokenSymbolToDisplayString} from \"../../../utils/spot/tokens\";\nimport BorrowInputPanel from \"../../../components/BorrowInputPanel\";\nimport {AutoColumn} from \"../../../components/Column\";\nimport {RowFixed} from \"../../../components/Row\";\nimport {Field} from \"../../../state/swap/actions\";\nimport {TYPE} from \"../../../theme\";\nimport {toast} from \"react-hot-toast\";\n\nconst Title = styled.h4`\n  font-size: 1.25rem;\n  font-weight: 500;\n  margin-top: 0;\n  margin-bottom: 2.25rem;\n`\n\nexport const SummaryRow = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem 0;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.5);\n  font-size: 1rem;\n  font-weight: 500;\n`\n\nconst CustomTypeBlack = styled(TYPE.black)`\n  font-size: 0.75rem;\n  \n  @media (min-width: 768px) {\n    font-size: 1rem;\n  }\n`\n\nconst StyledButton = styled.button`\n  height: 56px;\n  min-height: 56px;\n  min-width: 250px;\n`\n\nclass LendingModalContainer extends React.Component {\n    state = {\n        amount: null,\n        error: {\n            btnMsg: null,\n            cardMsg: null,\n        },\n    };\n\n    componentDidMount = () => {\n        const { ethBalance } = this.props;\n        if (ethBalance.isLessThan(TX_DEFAULTS_TRANSFER.gasTransferToken)) {\n            toast.error('Not enough ETH for the gas')\n            this.setState({\n                error: {\n                    btnMsg: 'Error',\n                    cardMsg: `Not enough ETH for the gas`,\n                },\n            });\n        }\n    };\n\n    render() {\n        const { tokenBalance, closeModal, ethBalance, isEth, wethToken, aToken, isLending, show, ...restProps } = this.props;\n        const { error, amount } = this.state;\n        const { liquidityRate } = aToken;\n        let coinSymbol;\n        let maxBalance;\n        let decimals;\n        let displayDecimals;\n\n        if (isEth) {\n            displayDecimals = wethToken.displayDecimals;\n            decimals = 18;\n            maxBalance = isLending ? ethBalance : aToken.balance || new BigNumber(0);\n            coinSymbol = tokenSymbolToDisplayString('ETH');\n        } else if (tokenBalance) {\n            const { token, balance } = tokenBalance;\n            displayDecimals = token.displayDecimals;\n            decimals = token.decimals;\n            maxBalance = isLending ? balance : aToken.balance || new BigNumber(0);\n            coinSymbol = tokenSymbolToDisplayString(token.symbol);\n        } else {\n            return null;\n        }\n\n        const { token } = tokenBalance;\n        const btnPrefix = isLending ? 'Deposit ' : 'Withdraw ';\n        const balanceInUnits = tokenAmountInUnits(maxBalance, decimals, displayDecimals);\n        const btnText = error && error.btnMsg ? 'Error' : btnPrefix + coinSymbol;\n        const isSubmitAllowed = amount === null || (amount && amount.isGreaterThan(maxBalance));\n\n        return (\n           <Modal show={show} onHide={closeModal} centered>\n               <Modal.Body style={{ padding: 30 }}>\n                   <Row>\n                       <Col xs={12}>\n                           <Title>{isLending ? 'Deposit' : 'Withdraw'} {coinSymbol}</Title>\n                       </Col>\n                       <Col xs={12}>\n                           <BorrowInputPanel\n                               decimals={decimals}\n                               min={0}\n                               max={maxBalance}\n                               onUserInput={this.updateAmount}\n                               value={amount}\n                               token={token}\n                               selected={coinSymbol}\n                               showBalance={false}\n                               label={`I want to ${isLending ? 'Deposit' : 'Withdraw'}`}\n                               placeholder={new BigNumber(1).div(new BigNumber(10).pow(displayDecimals)).toString()}\n                               valueFixedDecimals={displayDecimals}\n                           />\n                       </Col>\n                       <Col xs={12} style={{ marginBottom: 56 }}>\n                           <AutoColumn>\n                               <SummaryRow>\n                                   <RowFixed>\n                                       <CustomTypeBlack fontWeight={500} color={'white'}>\n                                           Interest APR\n                                       </CustomTypeBlack>\n                                   </RowFixed>\n                                   <RowFixed>\n                                       <CustomTypeBlack color={'white'} fontWeight={500}>\n                                           {liquidityRate\n                                               .div('1e27')\n                                               .multipliedBy(100)\n                                               .toFixed(5)}{' '}\n                                           %\n                                       </CustomTypeBlack>\n                                   </RowFixed>\n                               </SummaryRow>\n                               <SummaryRow>\n                                   <RowFixed>\n                                       <CustomTypeBlack fontWeight={500} color={'white'}>\n                                           Amount\n                                       </CustomTypeBlack>\n                                   </RowFixed>\n                                   <RowFixed>\n                                       <CustomTypeBlack color={'white'} fontWeight={500}>\n                                           {balanceInUnits}\n                                       </CustomTypeBlack>\n                                   </RowFixed>\n                               </SummaryRow>\n                           </AutoColumn>\n                       </Col>\n                       <Col xs={12} className={'d-flex align-items-stretch align-items-lg-center justify-content-center flex-column'}>\n                           <StyledButton\n                               className={`btn btn-${isLending ? 'primary' : \"warning\"}`}\n                               disabled={isSubmitAllowed}\n                               onClick={this.submit}\n                           >\n\n                               {btnText}\n                           </StyledButton>\n                       </Col>\n                   </Row>\n\n               </Modal.Body>\n           </Modal>\n        )\n    }\n\n    submit = async () => {\n        const { tokenBalance, isEth, wethToken, aToken, isLending } = this.props;\n        let token;\n        if (isEth) {\n            token = {\n                ...wethToken,\n                symbol: 'ETH',\n            };\n        } else if (tokenBalance) {\n            token = tokenBalance.token;\n        } else {\n            return null;\n        }\n        const amount = this.state.amount || new BigNumber(0);\n        this.props.onSubmit(amount, token, aToken, isEth, isLending);\n    };\n\n    _reset = () => {\n        this.setState({\n            amount: null,\n        });\n    };\n\n    _closeModal = () => {\n        this._reset();\n    };\n\n    setMax = () => {\n        const { tokenBalance, isEth, ethBalance, isLending, aToken } = this.props;\n        if (isEth) {\n            const maxBalance = isLending ? ethBalance : aToken.balance || new BigNumber(0);\n            this.setState({\n                amount: maxBalance,\n            });\n        } else if (tokenBalance) {\n            this.setState({\n                amount: isLending ? tokenBalance.balance : aToken.balance || new BigNumber(0),\n            });\n        }\n    };\n\n    updateAmount = (newValue) => {\n        this.setState({\n            amount: newValue,\n        });\n    };\n}\n\nexport default LendingModalContainer;\n","import React, {useMemo, useState} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport { BigNumber } from \"@0x/utils\";\nimport styled from \"styled-components\";\nimport { Token } from \"@uniswap/sdk\";\n\nimport {getAaveCurrency, getAaveLoadingState, getATokensData, getTokensPrice} from \"../../../state/selectors\";\nimport withBalance from \"../../../components/hoc/withBalance\";\nimport {useActiveWeb3React} from \"../../../hooks\";\nimport {setAaveCurrency} from \"../../../state/aave/actions\";\nimport {getKnownTokens, isWethToken} from \"../../../utils/known_tokens\";\nimport {formatTokenSymbol, tokenAmountInUnits} from \"../../../utils/spot/tokens\";\nimport {Protocol} from \"../../../utils/aave/types\";\nimport {startLendingTokenSteps, startUnLendingTokenSteps} from \"../../../state/spotUI/actions\";\nimport CurrencyLogo from \"../../../components/CurrencyLogo\";\nimport Skeleton from \"react-loading-skeleton\";\nimport {StyledLink, TradeButton} from \"../../Wallet\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport ResponsiveTable from \"../../../components/ResponsiveTable\";\nimport LendingModalContainer from \"./LendingModalContainer\";\nimport {sortedData} from \"../../../lib/helper\";\n\n\nconst LogoContainer = styled.div`\n  width: 32px;\n  height: 32px;\n  border-radius: 32px;\n  background-color: white;  \n  \n  @media (max-width: 991px) {\n    width: 24px;\n    height: 24px;\n    border-radius: 24px;\n  }\n`\n\nconst Symbol = styled.span`\n  color: white;\n  font-size: 1rem;\n  margin-right: 10px;\n  font-weight: 700;\n`\n\n\nconst Name = styled.span`\n  font-weight: 400;\n  font-size: 0.875rem;\n  \n  @media (max-width: 991px) {\n    font-size: 0.875rem;\n    font-weight: 400;\n  }\n`\n\nconst CellText = styled.span`\n  font-weight: 500;\n  font-size: .875rem;\n  \n  &.font-size-base {\n    font-size: 1rem;\n  }\n  \n  @media (max-width: 991px) {\n    font-weight: 700;\n    \n    &.label {\n    font-weight: 500;\n    }\n  }\n`\n\nconst LendingBalance = props => {\n    const [isEthState, setIsEthState] = useState(false);\n    const [isHideZeroBalance, setIsHideZeroBalance] = useState(false);\n    const [isStableCoin, setIsStableCoin] = useState(false);\n    const [isModalOpenState, setIsModalOpenState] = useState(false);\n    const [isSubmittingState, setIsSubmittingState] = useState(false);\n    const [aTokenDataState, setATokenDataState] = useState();\n    const [isLendingState, setIsLendingState] = useState(true);\n    const [tokenBalanceState, setTokenBalanceState] = useState();\n    const [sort, setSort] = useState({\n        field: false,\n        order: 'desc',\n    });\n\n    const { account } = useActiveWeb3React();\n    const dispatch = useDispatch();\n    const aTokensData = useSelector(getATokensData);\n    const tokensPrice = useSelector(getTokensPrice);\n    const tokenBalances = props.tokensBalance;\n    const ethBalance = props.ethBalance;\n    const ethTotalBalance = props.totalEthBalance;\n    const wethTokenBalance = props.wethBalance;\n    const aaveLoadingState = useSelector(getAaveLoadingState);\n    const currencySelector = useSelector(getAaveCurrency);\n\n    const innerTabs = [\n        {\n            active: currencySelector === 'NATIVE',\n            onClick: () => dispatch(setAaveCurrency('NATIVE')),\n            text: 'Native',\n        },\n        {\n            active: currencySelector === 'USD',\n            onClick: () => dispatch(setAaveCurrency('USD')),\n            text: 'USD',\n        },\n    ];\n\n\n    const openLendingModal = (...rest) => {\n        const [tokenD, isEthToken, tokB, token] = rest;\n        setATokenDataState(tokenD);\n        setIsModalOpenState(true);\n        if (isEthToken) {\n            setIsEthState(true);\n            setTokenBalanceState({ ...wethTokenBalance, balance: tokB });\n        } else {\n            setIsEthState(false);\n            setTokenBalanceState(tokenBalances.find(tb => tb.token === token));\n        }\n        setIsLendingState(true);\n    };\n\n    const openUnLendingModal = (...rest) => {\n        const [tokenD, isEthToken, tokB, token] = rest;\n        setATokenDataState(tokenD);\n        if (isEthToken) {\n            setIsEthState(true);\n            setTokenBalanceState({ ...wethTokenBalance, balance: tokB });\n        } else {\n            setIsEthState(false);\n            setTokenBalanceState(tokenBalances.find(tb => tb.token === token));\n        }\n        setIsModalOpenState(true);\n        setIsLendingState(false);\n    };\n\n    const tokensRow = useMemo(() => {\n        const data = aTokensData.map(tokenD => {\n            const { token, balance } = tokenD;\n\n            const { symbol } = token;\n            const isEthToken = isWethToken(token);\n            const tokenBalance = tokenBalances.find(tb => tb.token.symbol === symbol);\n            if (isHideZeroBalance) {\n                if (isEthToken && ethTotalBalance.isEqualTo(0) && balance && balance.isEqualTo(0)) {\n                    return null;\n                }\n\n                if (tokenBalance && tokenBalance.balance.isEqualTo(0) && balance && balance.isEqualTo(0)) {\n                    return null;\n                }\n            }\n            if (isStableCoin) {\n                if (!token.isStableCoin) {\n                    return null;\n                }\n            }\n\n            const tokB = isEthToken\n                ? ethTotalBalance || new BigNumber(0)\n                : (tokenBalance && tokenBalance.balance) || new BigNumber(0);\n            let displayBalance;\n            let displayDepositBalance;\n\n            if (account && balance) {\n                const formattedLendBalance = tokenAmountInUnits(balance, token.decimals, token.displayDecimals);\n                const formattedBalance = tokenAmountInUnits(tokB, token.decimals, token.displayDecimals);\n                const tokenPrice = tokensPrice && tokensPrice.find(t => t.c_id === token.c_id);\n                if (currencySelector === 'NATIVE') {\n                    displayBalance = `${formattedBalance} ${formatTokenSymbol(symbol)}`;\n                    displayDepositBalance = `${formattedLendBalance} ${formatTokenSymbol(symbol)}`;\n                } else {\n                    displayBalance = tokenPrice\n                        ? `${tokenPrice.price_usd.multipliedBy(new BigNumber(formattedBalance)).toFixed(3)}$`\n                        : '-';\n                    displayDepositBalance = tokenPrice\n                        ? `${tokenPrice.price_usd.multipliedBy(new BigNumber(formattedLendBalance)).toFixed(3)}$`\n                        : '-';\n                }\n            } else {\n                displayBalance = '-';\n                displayDepositBalance = '-';\n            }\n\n            const apy = `${tokenD.liquidityRate\n                .dividedBy('1e27')\n                .multipliedBy(100)\n                .toFixed(5)} %`;\n\n            const tokenName = isEthToken ? 'Ethereum' : token.name;\n            const tokenSymbol = isEthToken ? 'ETH' : token.symbol.toUpperCase();\n\n            return {\n                token,\n                symbol,\n                tokenSymbol,\n                tokenName,\n                displayBalance,\n                displayDepositBalance,\n                apy,\n                balance,\n                tokB,\n                isEthToken,\n                tokenD\n            }\n\n        })\n\n        return sortedData(data, sort);\n    }, [aTokensData, sort])\n\n    const closeModal = () => {\n        setIsModalOpenState(false);\n    };\n\n\n    const handleSubmit = async (\n        amount,\n        token,\n        aToken,\n        isEth,\n        isLending,\n    ) => {\n        setIsSubmittingState(true);\n\n        try {\n            if (isLending) {\n                await dispatch(startLendingTokenSteps(amount, token, aToken, isEth, Protocol.Aave, ethBalance, wethTokenBalance, ethTotalBalance));\n            } else {\n                await dispatch(startUnLendingTokenSteps(amount, token, aToken, isEth));\n            }\n        } finally {\n            setIsSubmittingState(false);\n            closeModal();\n        }\n    };\n\n    const wethToken = getKnownTokens().getWethToken();\n    const onHideZeroBalance = () => {\n        setIsHideZeroBalance(!isHideZeroBalance);\n    };\n    const onIsStableCoin = () => {\n        setIsStableCoin(!isStableCoin);\n    };\n\n    const wethPlusEthBalance = wethTokenBalance ? wethTokenBalance.balance.plus(ethBalance) : new BigNumber(0);\n\n    const onTableChange = (type, context) => {\n        if(type === 'sort') {\n            setSort({\n                field: context.sortField,\n                order: context.sortOrder,\n            });\n        }\n    }\n\n    const columns = [\n        {\n            dataField: \"tokenName\",\n            text: \"Token\",\n            formatter: (cellContent, row, rowIndex) => {\n                const currency = new Token(1, row.token.address, row.token.decimals, row.token.symbol, row.token.name);\n                return (\n                    <div key={rowIndex} className=\"d-flex flex-row-reverse flex-lg-row align-items-start align-items-lg-center py-lg-2 pr-lg-4\">\n                        <LogoContainer><CurrencyLogo currency={currency}/></LogoContainer>\n                        <div className=\"d-flex flex-column justify-content-center ml-lg-3 mr-3 mr-lg-0\">\n                            <Symbol>{row.tokenSymbol}</Symbol>\n                            <Name>{row.tokenName}</Name>\n                        </div>\n                    </div>\n                )\n            },\n            sort: true,\n        },\n        {\n            dataField: \"displayBalance\",\n            text: \"Balance\",\n            formatter: (cellContent, row, rowIndex) => {\n                return (\n                    <CellText>{row.displayBalance}</CellText>\n                )\n            },\n            sort: true,\n        },\n        {\n            dataField: \"displayDepositBalance\",\n            text: \"Deposit Balance\",\n            formatter: (cellContent, row, rowIndex) => {\n                return (\n                    <CellText>{row.displayDepositBalance}</CellText>\n                )\n            },\n            sort: true,\n        },\n        {\n            dataField: \"apy\",\n            text: \"APY\",\n            formatter: (cellContent, row, rowIndex) => {\n                return (\n                    <CellText>{row.apy}</CellText>\n                )\n            },\n            sort: true,\n        },\n        {\n            dataField: \"actions\",\n            text: \"Actions\",\n            formatter: (cellContent, row, rowIndex, { openLendingModal, openUnLendingModal }) => {\n                const { balance, tokB, tokenD, isEthToken, token } = row;\n                return (\n                    <div className={'d-flex align-items-stretch justify-content-center flex-column flex-lg-row align-items-lg-center justify-content-lg-start w-100'}>\n                        <StyledLink>\n                            <TradeButton\n                                onClick={openLendingModal.bind(this, tokenD, isEthToken, tokB, token)}\n                                disabled={tokB.isEqualTo(0)}\n                            >\n                                Deposit\n                            </TradeButton>\n                        </StyledLink>\n\n                        <StyledLink>\n                            <TradeButton\n                                variant={'warning'}\n                                onClick={openUnLendingModal.bind(this, tokenD, isEthToken, tokB, token)}\n                                disabled={balance && balance.isEqualTo(0)}\n                            >\n                                Withdraw\n                            </TradeButton>\n                        </StyledLink>\n                    </div>\n                )\n            },\n            isAction: true,\n            formatExtraData: {\n                openLendingModal,\n                openUnLendingModal\n            }\n        },\n\n    ]\n\n    return (\n        <div className=\"d-flex flex-column\">\n            <BootstrapTable\n                wrapperClasses=\"table-responsive d-none d-lg-block\"\n                bordered={false}\n                classes=\"table table-head-custom table-borderless table-vertical-center overflow-hidden borrow__table\"\n                bootstrap4\n                remote\n                keyField=\"id\"\n                data={tokensRow}\n                columns={columns}\n                onTableChange={onTableChange}\n            >\n            </BootstrapTable>\n            <ResponsiveTable breakpoint={'lg'} columns={columns} data={tokensRow} direction={'rtl'}/>\n\n            {isModalOpenState && aTokenDataState && (\n                <LendingModalContainer\n                    show={isModalOpenState}\n                    tokenBalance={tokenBalanceState}\n                    isSubmitting={isSubmittingState}\n                    onSubmit={handleSubmit}\n                    aToken={aTokenDataState}\n                    closeModal={closeModal}\n                    ethBalance={wethPlusEthBalance}\n                    isEth={isEthState}\n                    wethToken={wethToken}\n                    isLending={isLendingState}\n                />\n            )}\n        </div>\n    )\n}\n\nexport default withBalance(LendingBalance);\n","import {Modal, Row, Col} from 'react-bootstrap';\nimport React, {useEffect, useState} from \"react\";\nimport {BigNumber} from \"@0x/utils\";\n\nimport {TX_DEFAULTS_TRANSFER} from \"../../../constants\";\nimport {tokenAmountInUnits, tokenSymbolToDisplayString} from \"../../../utils/spot/tokens\";\nimport styled from \"styled-components\";\nimport BorrowInputPanel from \"../../../components/BorrowInputPanel\";\nimport {AutoColumn} from \"../../../components/Column\";\nimport {RowFixed} from \"../../../components/Row\";\nimport {TYPE} from \"../../../theme\";\nimport {toast} from \"react-hot-toast\";\n\nconst Title = styled.h4`\n  font-size: 1.25rem;\n  font-weight: 500;\n  margin-top: 0;\n  margin-bottom: 2.25rem;\n`\n\nexport const SummaryRow = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem 0;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.5);\n  font-size: 1rem;\n  font-weight: 500;\n`\n\nconst CustomTypeBlack = styled(TYPE.black)`\n  font-size: 0.75rem;\n  \n  @media (min-width: 768px) {\n    font-size: 1rem;\n  }\n`\n\nconst StyledButton = styled.button`\n  height: 56px;\n  min-height: 56px;\n  min-width: 250px;\n`\n\nconst BorrowTokenModal = props => {\n    const { tokenBalance, closeModal, ethBalance, isEth, wethToken, aToken, availableForBorrow, show, ...restProps } = props;\n    const [error, setError] = useState({\n        btnMsg: null,\n        cardMsg: null,\n    });\n    const [amount, setAmount] = useState(new BigNumber(0));\n\n    useEffect(() => {\n        if (ethBalance.isLessThan(TX_DEFAULTS_TRANSFER.gasTransferToken)) {\n            toast.error('Not enough ETH for the gas')\n            setError({\n                btnMsg: 'Error',\n                cardMsg: `Not enough ETH for the gas`,\n            });\n        }\n    }, [ethBalance]);\n\n    const { variableBorrowRate } = aToken;\n    const { token } = tokenBalance;\n    let coinSymbol;\n    let maxBalance = availableForBorrow;\n    let decimals;\n    let displayDecimals;\n\n    if (isEth) {\n        displayDecimals = wethToken.displayDecimals;\n        decimals = 18;\n        coinSymbol = tokenSymbolToDisplayString('ETH');\n    } else if (tokenBalance) {\n        displayDecimals = token.displayDecimals;\n        decimals = token.decimals;\n        maxBalance = availableForBorrow;\n        coinSymbol = tokenSymbolToDisplayString(token.symbol);\n    } else {\n        return null;\n    }\n\n    const btnPrefix = 'Borrow ';\n    const balanceInUnits = tokenAmountInUnits(maxBalance, decimals, displayDecimals);\n    const btnText = error && error.btnMsg ? 'Error' : btnPrefix + coinSymbol;\n    const isSubmitAllowed = amount === null || (amount && amount.isGreaterThan(maxBalance));\n    const onUpdateAmount = (newValue) => {\n        setAmount(newValue);\n    };\n    const onSetMax = () => {\n        setAmount(availableForBorrow);\n    };\n    const onSubmit = () => {\n        let token;\n        if (isEth) {\n            token = {\n                ...wethToken,\n                symbol: 'ETH',\n            };\n        } else if (tokenBalance) {\n            token = tokenBalance.token;\n        } else {\n            return null;\n        }\n\n        props.onSubmit(amount, token, aToken, isEth);\n    };\n\n    return (\n        <Modal show={show} onHide={closeModal} centered>\n            <Modal.Body style={{ padding: 30 }}>\n                <Row>\n                    <Col xs={12}>\n                        <Title>{'Borrow'} {coinSymbol}</Title>\n                    </Col>\n                    <Col xs={12}>\n                        <BorrowInputPanel\n                            decimals={decimals}\n                            min={0}\n                            max={maxBalance}\n                            onUserInput={onUpdateAmount}\n                            value={amount}\n                            token={token}\n                            selected={coinSymbol}\n                            showBalance={false}\n                            label={`I want to Borrow`}\n                            placeholder={new BigNumber(1).div(new BigNumber(10).pow(displayDecimals)).toString()}\n                            valueFixedDecimals={displayDecimals}\n                        />\n                    </Col>\n                    <Col xs={12} style={{ marginBottom: 56 }}>\n                        <AutoColumn>\n                            <SummaryRow>\n                                <RowFixed>\n                                    <CustomTypeBlack fontWeight={500} color={'white'}>\n                                        Borrow APR\n                                    </CustomTypeBlack>\n                                </RowFixed>\n                                <RowFixed>\n                                    <CustomTypeBlack color={'white'} fontWeight={500}>\n                                        {variableBorrowRate\n                                            .div('1e27')\n                                            .multipliedBy(100)\n                                            .toFixed(5)}{' '}\n                                        %\n                                    </CustomTypeBlack>\n                                </RowFixed>\n                            </SummaryRow>\n                            <SummaryRow>\n                                <RowFixed>\n                                    <CustomTypeBlack fontWeight={500} color={'white'}>\n                                        Available for Borrow\n                                    </CustomTypeBlack>\n                                </RowFixed>\n                                <RowFixed>\n                                    <CustomTypeBlack color={'white'} fontWeight={500}>\n                                        {balanceInUnits}\n                                    </CustomTypeBlack>\n                                </RowFixed>\n                            </SummaryRow>\n                        </AutoColumn>\n                    </Col>\n\n                    <Col xs={12} className={'d-flex align-items-stretch align-items-lg-center justify-content-center flex-column'}>\n                        <StyledButton\n                            className={`btn btn-${error && error.btnMsg ? 'danger' : \"primary\"}`}\n                            disabled={isSubmitAllowed}\n                            onClick={onSubmit}\n                        >\n                            {btnText}\n                        </StyledButton>\n                    </Col>\n                </Row>\n            </Modal.Body>\n        </Modal>\n    )\n}\n\nexport default BorrowTokenModal;\n","import { Modal, Row, Col } from 'react-bootstrap';\nimport React, {useEffect, useState} from \"react\";\nimport {BigNumber} from \"@0x/utils\";\nimport {useDispatch} from \"react-redux\";\n\nimport {TX_DEFAULTS_TRANSFER} from \"../../../constants\";\nimport {tokenAmountInUnits, tokenSymbolToDisplayString} from \"../../../utils/spot/tokens\";\nimport styled from \"styled-components\";\nimport {TYPE} from \"../../../theme\";\nimport BorrowInputPanel from \"../../../components/BorrowInputPanel\";\nimport {AutoColumn} from \"../../../components/Column\";\nimport {RowFixed} from \"../../../components/Row\";\nimport {toast} from \"react-hot-toast\";\n\nconst Title = styled.h4`\n  font-size: 1.25rem;\n  font-weight: 500;\n  margin-top: 0;\n  margin-bottom: 2.25rem;\n`\n\nexport const SummaryRow = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem 0;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.5);\n  font-size: 1rem;\n  font-weight: 500;\n`\n\nconst CustomTypeBlack = styled(TYPE.black)`\n  font-size: 0.75rem;\n  \n  @media (min-width: 768px) {\n    font-size: 1rem;\n  }\n`\n\nconst StyledButton = styled.button`\n  height: 56px;\n  min-height: 56px;\n  min-width: 250px;\n`\n\nconst RepayTokenModal = props => {\n    const { tokenBalance, closeModal, ethBalance, isEth, wethToken, aToken, borrowedBalance, show, ...restProps } = props;\n    const [error, setError] = useState({\n        btnMsg: null,\n        cardMsg: null,\n    });\n    const [amount, setAmount] = useState(null);\n    const [isNotEnoughBalance, setIsNotEnoughBalance] = useState(false);\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        if (ethBalance.isLessThan(TX_DEFAULTS_TRANSFER.gasTransferToken)) {\n            toast.error('Not enough ETH for the gas')\n            setError({\n                btnMsg: 'Error',\n                cardMsg: `Not enough ETH for the gas`,\n            });\n        }\n        if (isEth) {\n            setIsNotEnoughBalance(ethBalance.isLessThanOrEqualTo(borrowedBalance));\n        } else {\n            setIsNotEnoughBalance(tokenBalance.balance.isLessThanOrEqualTo(borrowedBalance));\n        }\n    }, [ethBalance, tokenBalance]);\n\n\n    let coinSymbol;\n    let maxBalance = new BigNumber(0);\n    let balance = new BigNumber(0);\n    let decimals;\n    let displayDecimals;\n    let balanceInShort;\n\n    const { token } = tokenBalance;\n    if (isEth) {\n        displayDecimals = wethToken.displayDecimals;\n        decimals = 18;\n        maxBalance = borrowedBalance || new BigNumber(0);\n        coinSymbol = tokenSymbolToDisplayString('ETH');\n        balance = ethBalance;\n        balanceInShort = maxBalance.minus(ethBalance);\n    } else if (tokenBalance) {\n        displayDecimals = token.displayDecimals;\n        decimals = token.decimals;\n        maxBalance = borrowedBalance || new BigNumber(0);\n        coinSymbol = tokenSymbolToDisplayString(token.symbol);\n        balanceInShort = maxBalance.minus(tokenBalance.balance);\n        balance = tokenBalance.balance;\n    } else {\n        return null;\n    }\n\n\n    const btnPrefix = 'Repay ';\n    const balanceBorrowedInUnits = tokenAmountInUnits(maxBalance, decimals, displayDecimals);\n    const balanceInUnits = tokenAmountInUnits(balance, decimals, displayDecimals);\n    const displayBalanceInShort = tokenAmountInUnits(balanceInShort, decimals, displayDecimals + 1);\n    const btnText = error && error.btnMsg ? 'Error' : btnPrefix + coinSymbol;\n    const isSubmitAllowed =\n        amount === null || (amount && amount.isGreaterThan(maxBalance)) || (amount && amount.isEqualTo(0));\n    const onUpdateAmount = (newValue) => {\n        setAmount(newValue);\n    };\n    const onSetMax = () => {\n        if (isEth) {\n            const bal = ethBalance.isLessThanOrEqualTo(maxBalance) ? ethBalance : maxBalance;\n            setAmount(bal);\n        } else if (tokenBalance) {\n            const bal = tokenBalance.balance.isLessThanOrEqualTo(maxBalance) ? tokenBalance.balance : maxBalance;\n            setAmount(bal);\n        }\n    };\n\n    const onSubmit = () => {\n        let token;\n        if (isEth) {\n            token = {\n                ...wethToken,\n                symbol: 'ETH',\n            };\n        } else if (tokenBalance) {\n            token = tokenBalance.token;\n        } else {\n            return null;\n        }\n        const amountSubmit = amount || new BigNumber(0);\n        props.onSubmit(amountSubmit, token, aToken, isEth);\n    };\n\n    return (\n        <Modal show={show} onHide={closeModal} centered>\n            <Modal.Body style={{ padding: 30 }}>\n                <Row>\n                    <Col xs={12}>\n                        <Title>{'Repay'} {coinSymbol}</Title>\n                    </Col>\n                    <Col xs={12}>\n                        <BorrowInputPanel\n                            decimals={decimals}\n                            min={0}\n                            max={maxBalance}\n                            onUserInput={onUpdateAmount}\n                            value={amount}\n                            token={token}\n                            selected={coinSymbol}\n                            showBalance={false}\n                            label={`I want to Repay`}\n                            placeholder={new BigNumber(1).div(new BigNumber(10).pow(displayDecimals)).toString()}\n                            valueFixedDecimals={displayDecimals}\n                        />\n                    </Col>\n\n                    <Col xs={12} style={{ marginBottom: 56 }}>\n                        <AutoColumn>\n                            <SummaryRow>\n                                <RowFixed>\n                                    <CustomTypeBlack fontWeight={500} color={'white'}>\n                                        Amount Borrowed\n                                    </CustomTypeBlack>\n                                </RowFixed>\n                                <RowFixed>\n                                    <CustomTypeBlack color={'white'} fontWeight={500}>\n                                        {balanceBorrowedInUnits}\n                                    </CustomTypeBlack>\n                                </RowFixed>\n                            </SummaryRow>\n                            <SummaryRow>\n                                <RowFixed>\n                                    <CustomTypeBlack fontWeight={500} color={'white'}>\n                                        Amount Available\n                                    </CustomTypeBlack>\n                                </RowFixed>\n                                <RowFixed>\n                                    <CustomTypeBlack color={'white'} fontWeight={500}>\n                                        {balanceInUnits}\n                                    </CustomTypeBlack>\n                                </RowFixed>\n                            </SummaryRow>\n                        </AutoColumn>\n                    </Col>\n\n                    <Col xs={12} className={'d-flex align-items-stretch align-items-lg-center justify-content-center flex-column'}>\n                        <StyledButton\n                            className={`btn btn-${error && error.btnMsg ? 'danger' : \"primary\"}`}\n                            disabled={isSubmitAllowed}\n                            onClick={onSubmit}\n                        >\n                            {btnText}\n                        </StyledButton>\n                    </Col>\n                </Row>\n            </Modal.Body>\n        </Modal>\n    )\n}\n\nexport default RepayTokenModal;\n","import React, {useMemo, useState} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport { BigNumber } from \"@0x/utils\";\nimport styled from \"styled-components\";\n\nimport {\n    getAaveCurrency,\n    getAaveLoadingState,\n    getAaveReservesGQLResponse, getAaveUserAccountData,\n    getATokensData,\n    getTokensPrice\n} from \"../../../state/selectors\";\nimport withBalance from \"../../../components/hoc/withBalance\";\nimport {useActiveWeb3React} from \"../../../hooks\";\nimport {setAaveCurrency} from \"../../../state/aave/actions\";\nimport {getKnownTokens, isWethToken} from \"../../../utils/known_tokens\";\nimport {formatTokenSymbol, tokenAmountInUnits} from \"../../../utils/spot/tokens\";\nimport {Protocol} from \"../../../utils/aave/types\";\nimport {\n    startBorrowTokenSteps,\n    startLendingTokenSteps,\n    startRepayTokenSteps,\n    startUnLendingTokenSteps\n} from \"../../../state/spotUI/actions\";\nimport CurrencyLogo from \"../../../components/CurrencyLogo\";\nimport Skeleton from \"react-loading-skeleton\";\nimport {StyledLink, TradeButton} from \"../../Wallet\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport ResponsiveTable from \"../../../components/ResponsiveTable\";\nimport BorrowTokenModal from \"./BorrowTokenModal\";\nimport RepayTokenModal from \"./RepayTokenModal\";\nimport {Token} from \"@uniswap/sdk\";\nimport {sortedData} from \"../../../lib/helper\";\n\n\nconst LogoContainer = styled.div`\n  width: 32px;\n  height: 32px;\n  border-radius: 32px;\n  background-color: white;\n  \n  @media (max-width: 991px) {\n    width: 24px;\n    height: 24px;\n    border-radius: 24px;\n  }\n`\n\nconst Symbol = styled.span`\n  color: white;\n  font-size: 1rem;\n  margin-right: 10px;\n  font-weight: 500;\n`\n\n\nconst Name = styled.span`\n  font-weight: 400;\n  font-size: 0.875rem;\n  \n  @media (max-width: 991px) {\n    font-size: 0.875rem;\n    font-weight: 400;\n  }\n`\n\nconst CellText = styled.span`\n  font-weight: 500;\n  font-size: .875rem;\n  \n  &.font-size-base {\n    font-size: 1rem;\n  }\n  \n  @media (max-width: 991px) {\n    font-weight: 700;\n    \n    &.label {\n    font-weight: 500;\n    }\n  }\n`\n\nconst BorrowBalance = props => {\n    const [isEthState, setIsEthState] = useState(false);\n    const [isHideZeroBalance, setIsHideZeroBalance] = useState(false);\n    const [isStableCoin, setIsStableCoin] = useState(false);\n\n    const [isModalBorrowOpenState, setIsModalBorrowOpenState] = useState(false);\n    const [isModalRepayOpenState, setIsModalRepayOpenState] = useState(false);\n    const [isSubmittingState, setIsSubmittingState] = useState(false);\n    const [aTokenDataState, setATokenDataState] = useState();\n    const [isBorrowState, setIsBorrowState] = useState(true);\n    const [tokenBalanceState, setTokenBalanceState] = useState();\n    const [availableForBorrowState, setAvailableForBorrowState] = useState(new BigNumber(0));\n    const [borrowBalanceState, setBorrowBalanceState] = useState(new BigNumber(0));\n    const [sort, setSort] = useState({\n        field: false,\n        order: 'desc',\n    });\n\n    const { account } = useActiveWeb3React();\n    const reserves = useSelector(getAaveReservesGQLResponse);\n    const userAccountData = useSelector(getAaveUserAccountData);\n    const dispatch = useDispatch();\n    const aTokensData = useSelector(getATokensData);\n    const tokensPrice = useSelector(getTokensPrice);\n    const tokenBalances = props.tokensBalance;\n    const ethBalance = props.ethBalance;\n    const ethTotalBalance = props.totalEthBalance;\n    const wethTokenBalance = props.wethBalance;\n    const aaveLoadingState = useSelector(getAaveLoadingState);\n    const currencySelector = useSelector(getAaveCurrency);\n\n    const innerTabs = [\n        {\n            active: currencySelector === 'NATIVE',\n            onClick: () => dispatch(setAaveCurrency('NATIVE')),\n            text: 'Native',\n        },\n        {\n            active: currencySelector === 'USD',\n            onClick: () => dispatch(setAaveCurrency('USD')),\n            text: 'USD',\n        },\n    ];\n\n    const openBorrowModal = (...rest) => {\n        const [tokenD, isEthToken, tokB, token, availableBalanceForBorrowToken] = rest;\n        setATokenDataState(tokenD);\n        setIsModalBorrowOpenState(true);\n        if (isEthToken) {\n            setIsEthState(true);\n            setTokenBalanceState({ ...wethTokenBalance, balance: tokB });\n        } else {\n            setIsEthState(false);\n            setTokenBalanceState(tokenBalances.find(tb => tb.token === token));\n        }\n        setAvailableForBorrowState(availableBalanceForBorrowToken);\n        setIsBorrowState(true);\n    };\n\n    const openRepayModal = (...rest) => {\n        const [tokenD, isEthToken, tokB, token, borrowBalance] = rest;\n        setATokenDataState(tokenD);\n        if (isEthToken) {\n            setIsEthState(true);\n            setTokenBalanceState({ ...wethTokenBalance, balance: tokB });\n        } else {\n            setIsEthState(false);\n            setTokenBalanceState(tokenBalances.find(tb => tb.token === token));\n        }\n        setBorrowBalanceState(borrowBalance || new BigNumber(0));\n        setIsModalRepayOpenState(true);\n        setIsBorrowState(false);\n    };\n\n    const tokensRow = useMemo(() => {\n        const data = aTokensData.map(tokenD => {\n            const { token, balance, borrowBalance } = tokenD;\n\n            const { symbol } = token;\n            const reserve = reserves.find(r => r.aToken.id === tokenD.address);\n            const isEthToken = isWethToken(token);\n            const tokenBalance = tokenBalances.find(tb => tb.token.symbol === symbol);\n            if (isHideZeroBalance) {\n                /* if ((isEthToken && ethTotalBalance.isEqualTo(0)) && (balance && balance.isEqualTo(0))) {\n                     return null;\n                 }*/\n\n                if (borrowBalance && borrowBalance.isEqualTo(0)) {\n                    return null;\n                }\n            }\n            if (isStableCoin) {\n                if (!token.isStableCoin) {\n                    return null;\n                }\n            }\n\n            const tokB = isEthToken\n                ? ethTotalBalance || new BigNumber(0)\n                : (tokenBalance && tokenBalance.balance) || new BigNumber(0);\n            let displayAvailableForBorrowBalance;\n            let displayBorrowedBalance;\n            let availableForBorrow = new BigNumber(0);\n            let availableBalanceForBorrowToken = new BigNumber(0);\n\n            if (account && borrowBalance && reserve && userAccountData) {\n                const priceInEth = reserve.price.priceInEth;\n                const totalAvailableForBorrowETH = userAccountData.availableBorrowsETH;\n                availableForBorrow = userAccountData.availableBorrowsETH;\n                availableBalanceForBorrowToken = totalAvailableForBorrowETH\n                    .dividedBy(new BigNumber(priceInEth).div(new BigNumber(10).pow(token.decimals)))\n                    .integerValue(BigNumber.ROUND_DOWN);\n                const formattedBorrowedBalance = tokenAmountInUnits(\n                    borrowBalance,\n                    token.decimals,\n                    token.displayDecimals,\n                );\n                const formattedAvailableForBorrowBalance = tokenAmountInUnits(\n                    availableBalanceForBorrowToken,\n                    token.decimals,\n                    token.displayDecimals,\n                );\n                const tokenPrice = tokensPrice && tokensPrice.find(t => t.c_id === token.c_id);\n                if (currencySelector === 'NATIVE') {\n                    displayAvailableForBorrowBalance = `${formattedAvailableForBorrowBalance} ${formatTokenSymbol(\n                        symbol,\n                    )}`;\n                    displayBorrowedBalance = `${formattedBorrowedBalance} ${formatTokenSymbol(symbol)}`;\n                } else {\n                    displayAvailableForBorrowBalance = tokenPrice\n                        ? `${tokenPrice.price_usd\n                            .multipliedBy(new BigNumber(formattedAvailableForBorrowBalance))\n                            .toFixed(3)}$`\n                        : '-';\n                    displayBorrowedBalance = tokenPrice\n                        ? `${tokenPrice.price_usd.multipliedBy(new BigNumber(formattedBorrowedBalance)).toFixed(3)}$`\n                        : '-';\n                }\n            } else {\n                displayAvailableForBorrowBalance = '-';\n                displayBorrowedBalance = '-';\n            }\n\n            const apy = `${tokenD.variableBorrowRate\n                .dividedBy('1e27')\n                .multipliedBy(100)\n                .toFixed(5)} %`;\n\n            const tokenName = isEthToken ? 'Ethereum' : token.name;\n            const tokenSymbol = isEthToken ? 'ETH' : token.symbol.toUpperCase();\n\n            return {\n                token,\n                symbol,\n                tokenSymbol,\n                tokenName,\n                displayAvailableForBorrowBalance,\n                availableBalanceForBorrowToken,\n                displayBorrowedBalance,\n                availableForBorrow,\n                borrowBalance,\n                apy,\n                balance,\n                tokB,\n                isEthToken,\n                tokenD\n            }\n\n        })\n\n        return sortedData(data, sort)\n    }, [aTokensData, sort])\n\n    const closeBorrowModal = () => {\n        setIsModalBorrowOpenState(false);\n    };\n    const closeRepayModal = () => {\n        setIsModalRepayOpenState(false);\n    };\n\n\n    const handleSubmit = async (amount, token, aToken, isEth) => {\n        setIsSubmittingState(true);\n\n        try {\n            if (isBorrowState) {\n                await dispatch(startBorrowTokenSteps(amount, token, aToken, isEth, Protocol.Aave, ethBalance, wethTokenBalance, ethTotalBalance));\n            } else {\n                await dispatch(startRepayTokenSteps(amount, token, aToken, isEth, Protocol.Aave, ethBalance, wethTokenBalance, ethTotalBalance));\n            }\n        } finally {\n            setIsSubmittingState(false);\n            if (isBorrowState) {\n                closeBorrowModal();\n            } else {\n                closeRepayModal();\n            }\n        }\n    };\n    const wethToken = getKnownTokens().getWethToken();\n    const onHideZeroBalance = () => {\n        setIsHideZeroBalance(!isHideZeroBalance);\n    };\n    const onIsStableCoin = () => {\n        setIsStableCoin(!isStableCoin);\n    };\n\n    const wethPlusEthBalance = wethTokenBalance ? wethTokenBalance.balance.plus(ethBalance) : new BigNumber(0);\n\n\n    const onTableChange = (type, context) => {\n        if(type === 'sort') {\n            setSort({\n                field: context.sortField,\n                order: context.sortOrder,\n            });\n        }\n    }\n\n    const columns = [\n        {\n            dataField: \"tokenName\",\n            text: \"Token\",\n            formatter: (cellContent, row, rowIndex) => {\n                const currency = new Token(1, row.token.address, row.token.decimals, row.token.symbol, row.token.name);\n                return (\n                    <div key={rowIndex} className=\"d-flex flex-row-reverse flex-lg-row align-items-start align-items-lg-center py-lg-2 pr-lg-4\">\n                        <LogoContainer><CurrencyLogo currency={currency}/></LogoContainer>\n                        <div className=\"d-flex flex-column justify-content-center ml-lg-3 mr-3 mr-lg-0\">\n                            <Symbol className={'font-weight-bold'}>{row.tokenSymbol}</Symbol>\n                            <Name className={'font-weight-bold'}>{row.tokenName}</Name>\n                        </div>\n                    </div>\n                )\n            },\n            sort: true,\n        },\n        {\n            dataField: \"displayAvailableForBorrowBalance\",\n            text: \"Available for Borrow\",\n            formatter: (cellContent, row, rowIndex) => {\n                return (\n                    <CellText>{row.displayAvailableForBorrowBalance}</CellText>\n                )\n            },\n            sort: true,\n        },\n        {\n            dataField: \"displayBorrowedBalance\",\n            text: \"Borrow Balance\",\n            formatter: (cellContent, row, rowIndex) => {\n                return (\n                    <CellText>{row.displayBorrowedBalance}</CellText>\n                )\n            },\n            sort: true,\n        },\n        {\n            dataField: \"apy\",\n            text: \"Borrow Rate\",\n            formatter: (cellContent, row, rowIndex) => {\n                return (\n                    <CellText>{row.apy}</CellText>\n                )\n            },\n            sort: true,\n        },\n        {\n            dataField: \"actions\",\n            text: \"Actions\",\n            formatter: (cellContent, row, rowIndex, { openBorrowModal, openRepayModal }) => {\n                const { tokB, tokenD, isEthToken, token, borrowBalance, availableBalanceForBorrowToken, availableForBorrow } = row;\n                return (\n                    <div className={'d-flex align-items-stretch justify-content-center flex-column flex-lg-row align-items-lg-center justify-content-lg-start w-100'}>\n                        <StyledLink>\n                            <TradeButton\n                                onClick={openBorrowModal.bind(this, tokenD, isEthToken, tokB, token, availableBalanceForBorrowToken)}\n                                disabled={availableForBorrow.isEqualTo(0) || !account}\n                            >\n                                Borrow\n                            </TradeButton>\n                        </StyledLink>\n\n                        <StyledLink>\n                            <TradeButton\n                                variant={'warning'}\n                                onClick={openRepayModal.bind(this, tokenD, isEthToken, tokB, token, borrowBalance)}\n                                disabled={(borrowBalance && borrowBalance.isEqualTo(0)) || !account}\n                            >\n                                Repay\n                            </TradeButton>\n                        </StyledLink>\n                    </div>\n                )\n            },\n            isAction: true,\n            formatExtraData: {\n                openBorrowModal,\n                openRepayModal\n            }\n        },\n\n    ]\n\n    const modals = (\n        <>\n            {isModalBorrowOpenState && aTokenDataState && (\n                <BorrowTokenModal\n                    show={isModalBorrowOpenState}\n                    tokenBalance={tokenBalanceState}\n                    isSubmitting={isSubmittingState}\n                    availableForBorrow={availableForBorrowState}\n                    onSubmit={handleSubmit}\n                    aToken={aTokenDataState}\n                    closeModal={closeBorrowModal}\n                    ethBalance={wethPlusEthBalance}\n                    isEth={isEthState}\n                    wethToken={wethToken}\n                />\n            )}\n            {isModalRepayOpenState && aTokenDataState && (\n                <RepayTokenModal\n                    show={isModalRepayOpenState}\n                    tokenBalance={tokenBalanceState}\n                    isSubmitting={isSubmittingState}\n                    onSubmit={handleSubmit}\n                    borrowedBalance={borrowBalanceState}\n                    aToken={aTokenDataState}\n                    closeModal={closeRepayModal}\n                    ethBalance={wethPlusEthBalance}\n                    isEth={isEthState}\n                    wethToken={wethToken}\n                />\n            )}\n        </>\n    );\n\n    return (\n        <div className=\"d-flex flex-column\">\n\n            <BootstrapTable\n                wrapperClasses=\"table-responsive d-none d-lg-block\"\n                bordered={false}\n                classes=\"table table-head-custom table-borderless table-vertical-center overflow-hidden borrow__table\"\n                bootstrap4\n                remote\n                keyField=\"id\"\n                data={tokensRow}\n                columns={columns}\n                onTableChange={onTableChange}\n            >\n            </BootstrapTable>\n            <ResponsiveTable breakpoint={'lg'} columns={columns} data={tokensRow} direction={'rtl'}/>\n\n            {modals}\n        </div>\n    )\n}\n\nexport default withBalance(BorrowBalance);\n","import {Col, Nav, Row, Tab} from 'react-bootstrap';\nimport styled from \"styled-components\";\n\nimport {ResponsiveCard} from '../../../components/Card';\nimport React, {useEffect} from \"react\";\nimport {GET_AAVE_RESERVES} from \"../../../services/aave/gql\";\nimport {useQuery} from \"@apollo/client\";\nimport {getAaveGraphClient} from \"../../../services/aave/aave\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {useActiveWeb3React} from \"../../../hooks\";\nimport {getAaveLoadingState} from \"../../../state/selectors\";\nimport {fetchAave, initAave, setAaveReservesGQLResponse} from \"../../../state/aave/actions\";\nimport {AaveLoadingState} from \"../../../utils/aave/types\";\nimport useInterval from \"../../../hooks/useInterval\";\nimport LendingBalance from \"../LendingBalance\";\nimport BorrowBalance from \"../BorrowBalance\";\n\n\nconst HeaderCol = styled(Col)`\n  margin: -10px 0 20px;\n  \n  @media (min-width: 768px) {\n    margin-bottom: 25px;\n  }\n`\n\nconst CustomNav = styled(Nav)`\n  margin-left: -30px !important;\n  margin-right: -30px !important;\n  overflow: auto;\n  \n  @media (min-width: 768px) {\n    margin-left: -10px !important;\n    margin-right: -10px !important;\n  }\n`\n\nconst CustomNavItem = styled(Nav.Item)`\n  flex-grow: initial !important;\n  \n  padding: 0 10px 10px;\n  \n  \n    @media (max-width: 767px) {\n      padding: 0 5px 10px;\n    }\n  \n  &:first-child {\n    @media (max-width: 767px) {\n      padding-left: 30px;\n    }\n  }\n  &:last-child {\n    @media (max-width: 767px) {\n      padding-right: 30px;\n    }\n  }\n`\nconst CustomNavLink = styled(Nav.Link)`\n  border-radius: 18px !important;\n  color: ${({ theme }) => theme.primary};\n  background-color: rgba(135, 220, 225, 0.15);\n  white-space: nowrap;\n  padding: 14px 24px;\n  min-height: 56px;\n  font-weight: 500;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  \n    @media (max-width: 767px) {\n      padding: 6px 15px;\n      font-size: 1rem;\n      min-height: 32px;\n      border-radius: 12px !important;\n    }\n  \n  &:hover {\n    color: ${({ theme }) => theme.primary};\n  }\n  \n  &.active {\n    color: white;\n    background-color: ${({ theme }) => theme.primary};\n  }\n`\n\nconst BorrowCommon = props => {\n    const { account } = useActiveWeb3React();\n    const { loading, error, data } = useQuery(GET_AAVE_RESERVES, {\n        client: getAaveGraphClient(),\n        pollInterval: 1000,\n    });\n    const dispatch = useDispatch();\n    const aaveLoadingState = useSelector(getAaveLoadingState);\n\n\n    useEffect(() => {\n        if (!loading && !error && data) {\n            dispatch(setAaveReservesGQLResponse(data.reserves));\n            if (aaveLoadingState === AaveLoadingState.NotLoaded) {\n                dispatch(initAave(account));\n            } else {\n                dispatch(fetchAave(account));\n            }\n        }\n    }, [loading, data, account]);\n\n    // Update Aaave state each 60 seconds\n    useInterval(async () => {\n        if (account && data && !loading && !error) {\n            dispatch(fetchAave(account));\n        }\n    }, 60 * 1000);\n\n    return (\n        <ResponsiveCard>\n            <Tab.Container defaultActiveKey=\"deposit\">\n                <Row>\n                    <HeaderCol xs={12} className={'d-flex flex-column-reverse flex-lg-row align-items-stretch align-items-lg-start justify-content-start justify-content-lg-between'}>\n                        <CustomNav fill variant=\"pills\" className={'d-flex flex-row align-items-center flex-nowrap'}>\n                            <CustomNavItem>\n                                <CustomNavLink eventKey=\"deposit\">Deposit</CustomNavLink>\n                            </CustomNavItem>\n                            <CustomNavItem>\n                                <CustomNavLink eventKey=\"borrow\">Borrow</CustomNavLink>\n                            </CustomNavItem>\n                        </CustomNav>\n                    </HeaderCol>\n\n                    <Col xs={12}>\n                        <Tab.Content className={'bg-transparent'}>\n                            <Tab.Pane eventKey=\"deposit\">\n                                <LendingBalance/>\n                            </Tab.Pane>\n                            <Tab.Pane eventKey=\"borrow\">\n                                <BorrowBalance/>\n                            </Tab.Pane>\n                        </Tab.Content>\n                    </Col>\n                </Row>\n            </Tab.Container>\n        </ResponsiveCard>\n    )\n}\n\nexport default BorrowCommon;\n","import { Modal } from 'react-bootstrap';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport Web3 from \"web3\";\nimport {Web3Wrapper} from \"@0x/web3-wrapper\";\n\nimport {getStepsModalCurrentStep} from \"../../../state/selectors\";\nimport {setStepsModalCurrentStep} from \"../../../state/spotUI/actions\";\nimport {CHAIN_ID, StepKind} from \"../../../constants\";\n\nimport UnlockToken from \"./modals/UnlockToken\";\nimport React, {useEffect, useState} from \"react\";\nimport {TransactionSubmittedContent} from \"../../../components/TransactionConfirmationModal\";\nimport WrapEth from \"./modals/WrapEth\";\nimport LendingToken from \"./modals/LendingToken\";\nimport BorrowToken from \"./modals/BorrowToken\";\n\nlet web3;\nlet web3Wrapper;\n\nconst ModalProvider = props => {\n    const [submitted, setSubmitted] = useState(false);\n    const [txHash, setTxHash] = useState(null)\n    const currentStep = useSelector(getStepsModalCurrentStep);\n    const dispatch = useDispatch();\n    const isOpen = currentStep !== null;\n\n    useEffect(() => {\n        web3 = new Web3(process.env.REACT_APP_WSS_URL);\n        web3Wrapper = new Web3Wrapper(web3.givenProvider);\n    }, [])\n\n    const hideModal = () => {\n        setSubmitted(false);\n        setTxHash(null);\n        dispatch(setStepsModalCurrentStep(null))\n    }\n\n    const onDone = (tx) => {\n        setSubmitted(true);\n        setTxHash(tx);\n    }\n\n    return (\n        <>\n            {props.children}\n            <Modal show={isOpen} centered onHide={hideModal}>\n                <Modal.Body className={'px-0 py-0'}>\n                    {!submitted ? (\n                        <>\n                            {currentStep && currentStep.kind === StepKind.ToggleTokenLock && (\n                                (<UnlockToken onDismiss={hideModal} web3={web3Wrapper}/>)\n                            )}\n                            {currentStep && currentStep.kind === StepKind.WrapEth && (\n                                (<WrapEth onDismiss={hideModal} web3={web3Wrapper}/>)\n                            )}\n                            {currentStep && currentStep.kind === StepKind.LendingToken && (\n                                (<LendingToken onDismiss={hideModal} onDone={onDone} web3={web3Wrapper}/>)\n                            )}\n                            {currentStep && currentStep.kind === StepKind.UnLendingToken && (\n                                (<LendingToken onDismiss={hideModal} onDone={onDone} web3={web3Wrapper}/>)\n                            )}\n                            {currentStep && currentStep.kind === StepKind.RepayToken && (\n                                (<BorrowToken onDismiss={hideModal} onDone={onDone} web3={web3Wrapper}/>)\n                            )}\n                            {currentStep && currentStep.kind === StepKind.BorrowToken && (\n                                (<BorrowToken onDismiss={hideModal} onDone={onDone} web3={web3Wrapper}/>)\n                            )}\n                        </>\n                    ) : (\n                        <TransactionSubmittedContent chainId={CHAIN_ID} hash={txHash} onDismiss={hideModal}/>\n                    )}\n                </Modal.Body>\n            </Modal>\n        </>\n\n    )\n}\n\nexport default ModalProvider;\n","import {ConfirmationPendingContent} from \"../../../../components/TransactionConfirmationModal\";\nimport React, {useEffect, useState} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\n\nimport {getStepsModalCurrentStep} from \"../../../../state/selectors\";\nimport {UNLIMITED_ALLOWANCE_IN_BASE_UNITS} from \"../../../../constants\";\nimport {useActiveWeb3React} from \"../../../../hooks\";\nimport {getContractWrappers} from \"../../../../utils/spot/contractWrapper\";\nimport {ERC20TokenContract} from \"@0x/contract-wrappers\";\nimport {stepsModalAdvanceStep, updateWethBalance} from \"../../../../state/spotUI/actions\";\nimport withBalance from \"../../../../components/hoc/withBalance\";\nimport {\n    INSUFFICIENT_ETH_BALANCE_FOR_DEPOSIT,\n    UNEXPECTED_ERROR,\n    USER_DENIED_TRANSACTION_SIGNATURE_ERR\n} from \"../../../../lib/exceptions/common\";\nimport {tokenAmountInUnits} from \"../../../../utils/spot/tokens\";\nimport {ConvertBalanceMustNotBeEqualException} from \"../../../../lib/exceptions/convertBalance\";\n\nconst WrapEth = props => {\n    const [wrapping, setWrapping] = useState(false);\n    const { account } = useActiveWeb3React();\n    const currentStep = useSelector(getStepsModalCurrentStep);\n    const { wethBalance } = props;\n    const { currentWethBalance, newWethBalance } = currentStep;\n    const web3 = props.web3;\n    const dispatch = useDispatch();\n\n    const amount = newWethBalance.minus(currentWethBalance);\n    const isEthToWeth = amount.isGreaterThan(0);\n    const convertingFrom = isEthToWeth ? 'ETH' : 'wETH';\n\n\n    const wrapEthereum = async () => {\n        try {\n\n            const convertTxHash = await dispatch(updateWethBalance(wethBalance, newWethBalance, account, web3.getProvider()));\n            setWrapping(true);\n            const tx = await web3.awaitTransactionSuccessAsync(convertTxHash);\n\n            if(tx) {\n                setWrapping(false)\n                dispatch(stepsModalAdvanceStep());\n            }\n\n        } catch(err) {\n            setWrapping(false)\n            props.onDismiss();\n        }\n    }\n\n    useEffect(() => {\n        wrapEthereum();\n    }, [currentStep])\n\n    return (\n        <ConfirmationPendingContent onDismiss={wrapping ? () => null : props.onDismiss} pendingText={wrapping ? 'Wrapping...' : `Convert ${convertingFrom}`} />\n    )\n}\n\nexport default withBalance(WrapEth);\n","import {ConfirmationPendingContent} from \"../../../../components/TransactionConfirmationModal\";\nimport React, {useEffect, useState} from \"react\";\nimport { connect  } from \"react-redux\";\n\nimport {useActiveWeb3React} from \"../../../../hooks\";\nimport {tokenAmountInUnits, tokenSymbolToDisplayString} from \"../../../../utils/spot/tokens\";\nimport {getGasInfo, getStepsModalCurrentStep} from \"../../../../state/selectors\";\nimport {lendingDefiToken, unLendingDefiToken} from \"../../../../state/defi/actions\";\n\nconst LendingToken = props => {\n    const [loading, setLoading] = useState(false);\n    const { account } = useActiveWeb3React();\n\n    const { step, onSubmitLendingToken, onSubmitUnLendingToken } = props;\n    const { amount, token, isEth, defiToken, isLending } = step;\n\n    const coinSymbol = isEth ? tokenSymbolToDisplayString('ETH') : tokenSymbolToDisplayString(token.symbol);\n    const decimals = isEth ? 18 : step.token.decimals;\n    const amountOfTokenString = `${tokenAmountInUnits(\n        step.amount,\n        decimals,\n        step.token.displayDecimals,\n    ).toString()} ${coinSymbol}`;\n\n    const web3 = props.web3;\n\n    const Lending = async () => {\n        try {\n\n            const txHash = isLending\n                ? await onSubmitLendingToken(token, defiToken, amount, isEth, account)\n                : await onSubmitUnLendingToken(token, defiToken, amount, isEth, account);\n            setLoading(true);\n            const tx = await web3.awaitTransactionSuccessAsync(txHash);\n            if(tx) {\n                setLoading(false)\n                props.onDone(txHash)\n            }\n\n        } catch(err) {\n            setLoading(false)\n            props.onDismiss();\n        }\n    }\n\n    useEffect(() => {\n        Lending();\n    }, [step])\n\n    return (\n        <ConfirmationPendingContent onDismiss={loading ? () => null : props.onDismiss} pendingText={loading ? `Pending Transaction...` : `Confirm on ${account} to ${isLending ? 'deposit' : 'withdraw'} ${amountOfTokenString}.`} />\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        step: getStepsModalCurrentStep(state),\n        gasInfo: getGasInfo(state)\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onSubmitLendingToken: (token, defiToken, amount, isEth, account) =>\n            dispatch(lendingDefiToken(token, defiToken, amount, isEth, account)),\n        onSubmitUnLendingToken: (token, defiToken, amount, isEth, account) =>\n            dispatch(unLendingDefiToken(token, defiToken, amount, isEth, account)),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LendingToken);\n","import { getUpdateAToken } from '../../services/aave/aave';\nimport { Protocol } from '../../utils/aave/types';\nimport { borrowAToken, lendingAToken, repayAToken, setATokenBalance, unLendingAToken } from '../aave/actions';\nimport { getDefiProtocol } from '../selectors';\n\nexport const lendingDefiToken = (\n    token,\n    defiToken,\n    amount,\n    isEth,\n    account,\n) => {\n    return async (dispatch, getState) => {\n        const state = getState();\n        const protocol = getDefiProtocol(state);\n        switch (protocol) {\n            case Protocol.Aave:\n                const txHash = dispatch(lendingAToken(token, defiToken, amount, isEth, account));\n                return txHash;\n            default:\n                break;\n        }\n    };\n};\n\nexport const borrowDefiToken = (\n    token,\n    defiToken,\n    amount,\n    isEth,\n    account,\n) => {\n    return async (dispatch, getState) => {\n        const state = getState();\n        const protocol = getDefiProtocol(state);\n        switch (protocol) {\n            case Protocol.Aave:\n                const txHash = dispatch(borrowAToken(token, defiToken, amount, isEth, account));\n                return txHash;\n            default:\n                break;\n        }\n    };\n};\n\nexport const repayDefiToken = (\n    token,\n    defiToken,\n    amount,\n    isEth,\n    account\n) => {\n    return async (dispatch, getState) => {\n        const state = getState();\n        const protocol = getDefiProtocol(state);\n        switch (protocol) {\n            case Protocol.Aave:\n                const txHash = dispatch(repayAToken(token, defiToken, amount, isEth, account));\n                return txHash;\n            default:\n                break;\n        }\n    };\n};\n\nexport const unLendingDefiToken = (\n    token,\n    defiToken,\n    amount,\n    isEth,\n    account\n) => {\n    return async (dispatch, getState) => {\n        const state = getState();\n        const protocol = getDefiProtocol(state);\n        switch (protocol) {\n            case Protocol.Aave:\n                const txHash = dispatch(unLendingAToken(token, defiToken, amount, isEth, account));\n                return txHash;\n            default:\n                break;\n        }\n    };\n};\n\nexport const updateDefiTokenBalance = (defiToken, ethAccount) => {\n    return async (dispatch, getState) => {\n        const state = getState();\n        const protocol = getDefiProtocol(state);\n        switch (protocol) {\n            case Protocol.Aave:\n                const token = await getUpdateAToken(ethAccount, defiToken);\n                dispatch(setATokenBalance(token));\n                break;\n\n            default:\n                break;\n        }\n    };\n};\n","import {ConfirmationPendingContent} from \"../../../../components/TransactionConfirmationModal\";\nimport React, {useEffect, useState} from \"react\";\nimport { connect  } from \"react-redux\";\n\nimport {useActiveWeb3React} from \"../../../../hooks\";\nimport {tokenAmountInUnits, tokenSymbolToDisplayString} from \"../../../../utils/spot/tokens\";\nimport {getGasInfo, getStepsModalCurrentStep} from \"../../../../state/selectors\";\nimport {borrowDefiToken, lendingDefiToken, repayDefiToken, unLendingDefiToken} from \"../../../../state/defi/actions\";\n\nconst LendingToken = props => {\n    const [loading, setLoading] = useState(false);\n    const { account } = useActiveWeb3React();\n\n    const { step, onSubmitBorrowToken, onSubmitRepayToken } = props;\n    const { amount, token, isEth, defiToken, isBorrow } = step;\n\n    const coinSymbol = isEth ? tokenSymbolToDisplayString('ETH') : tokenSymbolToDisplayString(token.symbol);\n    const decimals = isEth ? 18 : step.token.decimals;\n\n    const amountOfTokenString = `${tokenAmountInUnits(\n        step.amount,\n        decimals,\n        step.token.displayDecimals,\n    ).toString()} ${coinSymbol}`;\n\n    const web3 = props.web3;\n\n    const Borrowing = async () => {\n        try {\n            const txHash = isBorrow\n                ? await onSubmitBorrowToken(token, defiToken, amount, isEth, account)\n                : await onSubmitRepayToken(token, defiToken, amount, isEth, account);\n\n            setLoading(true);\n            const tx = await web3.awaitTransactionSuccessAsync(txHash);\n            if(tx) {\n                setLoading(false)\n                props.onDone(txHash)\n            }\n\n        } catch(err) {\n            setLoading(false)\n            props.onDismiss();\n        }\n    }\n\n    useEffect(() => {\n        Borrowing();\n    }, [step])\n\n    return (\n        <ConfirmationPendingContent onDismiss={loading ? () => null : props.onDismiss} pendingText={loading ? `Pending Transaction...` : `Confirm on ${account} to ${isBorrow ? 'Borrow' : 'Repay'} ${amountOfTokenString}.`} />\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        step: getStepsModalCurrentStep(state),\n        gasInfo: getGasInfo(state)\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onSubmitBorrowToken: (token, defiToken, amount, isEth, account) =>\n            dispatch(borrowDefiToken(token, defiToken, amount, isEth, account)),\n        onSubmitRepayToken: (token, defiToken, amount, isEth, account) =>\n            dispatch(repayDefiToken(token, defiToken, amount, isEth, account)),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LendingToken);\n","import { Row, Col } from 'react-bootstrap';\n\nimport GraphQlProvider from \"./Provider\";\nimport Page from \"../../components/Page\";\nimport GlobalOverall from \"./GlobalOverall\";\nimport BorrowCommon from \"./Common\";\nimport './style.scss';\nimport ModalProvider from \"./ModalProvider\";\nimport styled from \"styled-components\";\n\nconst StyledRow = styled(Row)`\n  margin-top: 40px;\n  \n  @media (max-width: 767px) {\n    margin-top: 20px;\n  }\n`\n\nconst Borrow = props => {\n    return (\n        <Page>\n            <GraphQlProvider>\n                <ModalProvider />\n                <StyledRow>\n                    <Col xs={12}>\n                        <GlobalOverall/>\n                    </Col>\n                    <Col xs={12}>\n                        <BorrowCommon/>\n                    </Col>\n                </StyledRow>\n            </GraphQlProvider>\n        </Page>\n    )\n}\n\nexport default Borrow;\n"],"sourceRoot":""}